import{a as u,u as m,b as j,r as l,_ as h,j as e,q as b,W as N,N as v,O as g,v as w}from"./index-BktEY0AR.js";import{g as C}from"./index-B8vJLAzm.js";import{a as E}from"./index-BdIHs_yd.js";import{A as k,B as S,C as A,d as D}from"./index-B_HFf_np.js";import{a as F}from"./index-DYJY0DtV.js";import{a as z}from"./index-Ck2mnqgW.js";import{u as M}from"./UseOutsideClick-BBAhdokL.js";import{g as P}from"./index-DGdsehoN.js";import{m as R}from"./motion-BBjPZyOW.js";import{A as I}from"./AddEditProductForm-Cn7YrhVD.js";import{D as O}from"./DashboardContext-C7-_orKa.js";import{A as V}from"./AddStoryModal-C2gjga_V.js";import"./iconBase-BL6_KYrt.js";import"./index.esm-L5-nJKtH.js";import"./UseDisableScroll-CkfVoSi8.js";import"./useMediaQuery-sTwrKcTY.js";import"./index-7ZH8PQa-.js";import"./index-Cz5Hziye.js";import"./react-select.esm-BGlIssT-.js";import"./Select-49a62830.esm-PKmHK7Zp.js";import"./index-CnyDuYXe.js";import"./lodash-f6c8T4ME.js";import"./useGetOptions-BQftlqTC.js";import"./index-CQhbJd4H.js";import"./index.esm2017-k721lsQk.js";import"./ContentSwitcher-DOKLWGZP.js";function L(){const{loading:t,userId:s,auth_status:r,error:a}=u(x=>x.userData),d=m(),c=j(),[o,p]=l.useState(0);if(l.useEffect(()=>{o>=4&&window.location.reload(),a&&o<4&&p(x=>x+1)},[a,t]),l.useEffect(()=>{!t&&r===401&&(h.error("You need to be logged in to access this page."),d("/EcoVibe/"))},[t,r]),!t&&a)return e.jsxs("div",{className:"h-screen flex flex-col gap-y-4 items-center justify-center",children:[e.jsx("div",{className:"",children:e.jsx("img",{src:b,alt:"error-icon",className:"size-56 xl:size-64 object-cover"})}),e.jsxs("div",{className:"flex items-center justify-center flex-col gap-y-4",children:[e.jsx("p",{className:"text-6xl font-bold text-primary-600",children:"Oops!"}),e.jsx("h4",{className:"text-lg font-bold text-primary-900 text-center",children:(a==null?void 0:a.message)||"Failed To Read User Data"}),e.jsx("button",{onClick:()=>{o>=4?window.location.reload():c(N())},className:"px-4 py-2 bg-primary-500 rounded-md text-gray-50 border-2 border-primary-500 hover:bg-gray-50 hover:text-primary-500 hover:border-primary-500 transition-all",children:"Try Again"})]})]});if(!s&&t)return e.jsxs("div",{className:"h-screen flex flex-col gap-y-8 items-center justify-center",children:[e.jsx(v,{}),e.jsx("h4",{className:"text-2xl xl:text-4xl font-bold text-center animate-pulse",children:"Getting ready to display your info..."})]});if(!t&&s||r===200)return e.jsx(g,{})}function $({onModalChange:t}){const[s,r]=l.useState(!1),a=m(),[d,c]=l.useState({width:window.innerWidth,height:window.innerHeight}),{userId:o,loading:p,auth_status:x}=u(n=>n.userData),f=l.useRef();M(f,()=>r(!1)),l.useEffect(()=>{const n=()=>{c({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}},[]);const i=(n,y)=>{n?t(y):a(y),r(!1)};return e.jsx(e.Fragment,{children:e.jsxs("div",{ref:f,className:`${s?"translate-x-0":"-translate-x-24"} fixed shadow-xl shadow-gray-800 top-14 lg:top-20 h-[35rem] px-2 py-2 border-y-4 border-primary-500 rounded-r-lg bg-gray-50 z-50 transition-all duration-500 flex flex-col justify-between`,children:[e.jsxs("div",{className:"flex flex-col transition-all",children:[e.jsxs("button",{onClick:()=>i(!1,"Analytics"),className:"flex flex-col items-center justify-center gap-y-1 text-primary-500 group",children:[e.jsx("p",{className:"p-2 text-xl rounded-full border border-gray-50 group-hover:border-primary-500",children:e.jsx(E,{})}),e.jsx("p",{className:"text-xs opacity-0 group-hover:opacity-100 transition-all text-center w-full",children:"Analytics"})]}),e.jsxs("button",{onClick:()=>i(!1,"Products"),className:"flex flex-col items-center justify-center gap-y-1 text-primary-500 group",children:[e.jsx("p",{className:"p-2 text-xl rounded-full border border-gray-50 group-hover:border-primary-500",children:e.jsx(k,{})}),e.jsx("p",{className:"text-xs opacity-0 group-hover:opacity-100 transition-all text-center w-full",children:"Products"})]}),e.jsxs("button",{onClick:()=>i(!1,"Orders"),className:"flex flex-col items-center justify-center gap-y-1 text-primary-500 group",children:[e.jsx("p",{className:"p-2 text-xl rounded-full border border-gray-50 group-hover:border-primary-500",children:e.jsx(S,{})}),e.jsx("p",{className:"text-xs opacity-0 group-hover:opacity-100 transition-all text-center w-full",children:"Orders"})]}),e.jsxs("button",{onClick:()=>i(!1,"/EcoVibe/"),className:"flex flex-col items-center justify-center gap-y-1 text-primary-500 group",children:[e.jsx("p",{className:"p-2 text-2xl rounded-full border border-gray-50 group-hover:border-primary-500",children:e.jsx(F,{})}),e.jsx("p",{className:"text-xs opacity-0 group-hover:opacity-100 transition-all text-center w-full",children:"Home"})]}),e.jsxs("button",{onClick:()=>i(!1,"/EcoVibe/messages"),className:"flex flex-col items-center justify-center gap-y-1 text-primary-500 group",children:[e.jsx("p",{className:"p-2 text-2xl rounded-full border border-gray-50 group-hover:border-primary-500",children:e.jsx(P,{})}),e.jsx("p",{className:"text-xs opacity-0 group-hover:opacity-100 transition-all text-center w-full",children:"Message"})]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("button",{onClick:()=>i(!0,"add-product"),className:"flex flex-col items-center justify-center gap-y-1 text-primary-500 group",children:[e.jsx("p",{className:"p-2 text-2xl rounded-full border border-gray-50 group-hover:border-primary-500",children:e.jsx(A,{})}),e.jsx("p",{className:"text-xs opacity-0 group-hover:opacity-100 transition-all text-center w-full",children:"Add Item"})]}),e.jsxs("button",{onClick:()=>i(!0,"add-story"),className:"flex flex-col items-center justify-center gap-y-1 text-primary-500 group",children:[e.jsx("p",{className:"p-2 text-2xl rounded-full border border-gray-50 group-hover:border-primary-500",children:e.jsx(z,{})}),e.jsx("p",{className:"text-xs opacity-0 group-hover:opacity-100 transition-all text-center w-full",children:"Add Story"})]}),e.jsxs("button",{onClick:()=>i(!1,`/EcoVibe/seller/${o}`),className:"flex flex-col items-center justify-center gap-y-1 text-primary-500 group",children:[e.jsx("p",{className:"p-2 text-2xl rounded-full border border-gray-50 group-hover:border-primary-500",children:e.jsx(D,{})}),e.jsx("p",{className:"text-xs opacity-0 group-hover:opacity-100 transition-all text-center w-full",children:"Profile"})]})]}),e.jsx(R.div,{drag:!s&&"y",dragConstraints:{top:-113,bottom:d.height-380},className:"fixed z-50 left-0 top-1/4",children:e.jsx("button",{disabled:p||x!==200,onClick:()=>r(n=>!n),className:`${s?"translate-x-[4.25rem]":"translate-x-24"} bg-primary-500 z-10 absolute top-2 transition-all duration-500 p-1 rounded-r-lg disabled:-translate-x-48`,children:e.jsx("p",{className:`${s&&"rotate-180"} text-4xl text-gray-50 transition-all`,children:e.jsx(C,{})})})})]})})}function pe(){const[t,s]=l.useState(null),r=w(),{userType:a}=u(o=>o.userData),d=m();l.useEffect(()=>{a==="customer"&&(h.error("You aren't a selller yet please sign up as a seller"),d("/EcoVibe/sellers-solutions"))},[a]),l.useEffect(()=>{r.modalKey&&(r.modalKey==="add-product"||r.modalKey==="add-story")&&s(r==null?void 0:r.modalKey)},[r]);function c(o){d("/EcoVibe/dashboard"),s(t===o?null:o)}return e.jsxs("div",{className:"mx-auto 2xl:max-w-screen-2xl -mb-4 relative min-h-screen",children:[e.jsx($,{onModalChange:c}),e.jsx(O,{children:e.jsx(L,{children:e.jsx(g,{})})}),e.jsxs("div",{className:`${t?"visible opacity-100":"invisible opacity-0"} transition-all fixed inset-0 flex items-center justify-center px-2 z-50`,children:[t==="add-product"&&e.jsx(I,{onModalChange:c}),t==="add-story"&&e.jsx(V,{onModalChange:c}),e.jsx("div",{onClick:()=>s(null),className:"absolute inset-0 bg-gray-950/70 backdrop-blur cursor-pointer -z-20"})]})]})}export{pe as default};
