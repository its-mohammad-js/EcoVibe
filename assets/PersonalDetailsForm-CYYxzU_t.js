import{b as v,r as i,c as N,j as e,aV as u,aW as P,k as w}from"./index-BOiJ9usr.js";import{u as S}from"./index.esm-B5vQHvwU.js";import{P as I}from"./ProfileImagePicker-Bx4gK0O8.js";import{T as F}from"./TextInput-GCl8a_qX.js";const L=[{name:"first_name",validation:{required:"First Name Is Required",minLength:{value:3,message:"Minimum Length Is 4 Characters"}}},{name:"last_name",validation:{required:"Last Name Is Required",minLength:{value:3,message:"Minimum Length Is 3 Characters"}}},{name:"address",placeholder:"Enter Your Address",validation:{required:"Address Is Required",minLength:{value:10,message:"Minimum Length Is 10 Characters"}}}];function M(){var d;const{loading:x,personalInformation:s,userType:p}=v(a=>a.userData),[n,o]=i.useState(""),[h,m]=i.useState(!1),{register:r,handleSubmit:g,formState:{errors:t},setValue:f}=S(),b=N();i.useEffect(()=>{s&&(o(s==null?void 0:s.profilePic),f("first_name",s==null?void 0:s.first_name))},[s]);function y(a){o(a)}function j(a){const l={...s,...a,profilePic:n||u[0]};b(w({userType:p==="seller"?"both":"customer",data:l,field:"personalInformation",customer_step:"third-step"}))}return e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsxs("div",{className:"my-2 px-4 py-2 text-center",children:[e.jsxs("h4",{className:"text-3xl  font-bold mb-2 md:mb-4 md:text-5xl",children:["Set Up Your ",e.jsx("span",{className:"text-primary-500",children:"Information"})]}),e.jsx("span",{className:"text-primary-800 text-sm md:text-base font-medium",children:"Fill out your personal information to create an eco-friendly account and start your sustainable shopping journey! 🌍✨"})]}),e.jsxs("form",{onSubmit:g(a=>j(a)),className:"flex flex-col w-11/12 md:gap-y-2 lg:w-[34rem]",children:[e.jsx("div",{className:"flex items-center justify-center mb-4 md:mb-6",children:e.jsxs("div",{className:`${x?"animate-pulse":""} w-36 h-36 flex justify-center bg-gradient-to-tr from-primary-200 via-gray-100 to-primary-500 rounded-full relative`,children:[e.jsx("img",{src:n||u[0],alt:"default-avatar-pic",className:"w-full h-full object-cover mb-10 rounded-full"}),e.jsx("button",{type:"button",onClick:()=>m(!0),className:"absolute -bottom-1 right-3 bg-primary-500 text-gray-50 rounded-full text-xl p-2 disabled:bg-gray-400",children:e.jsx(P,{})}),e.jsx("div",{className:`${h?"visible opacity-100":"invisible opacity-0"} transition-all duration-200`,children:e.jsx(I,{onPicChange:y,onModalClose:()=>m(!1)})})]})}),e.jsx("div",{className:"grid lg:grid-cols-4 lg:grid-rows-2 gap-2 mb-1",children:L.map((a,l)=>{var c;return e.jsx(F,{placeholder:a.placeholder||a.name.replace("_"," "),label:a.name.replace("_"," "),id:a.name,register:r(a.name,a.validation),error:(c=t[a.name])==null?void 0:c.message,style:`!h-fit [&>input]:py-3 ${a.name==="address"?"lg:col-span-4":"lg:col-span-2"}`},l)})}),e.jsxs("div",{className:"mb-4 md:m-0",children:[e.jsx("label",{htmlFor:"gender",className:"font-semibold xl:text-lg text-gray-800 hover:text-gray-950 transition-all",children:"Gender"}),e.jsxs("select",{id:"gender",name:"gender",...r("gender"),className:"mt-1 border w-full border-gray-300 px-4 py-3 appearance-none rounded-md outline-none none",children:[e.jsx("option",{children:"Man"}),e.jsx("option",{children:"Women"}),e.jsx("option",{children:"Other"})]}),e.jsx("p",{className:"text-sm md:text-base mt-1 px-1 text-red-500 font-medium",children:(d=t==null?void 0:t.gender)==null?void 0:d.message})]}),e.jsxs("div",{className:"mb-4 md:m-0",children:[e.jsx("label",{htmlFor:"date",className:"font-semibold xl:text-lg text-gray-800 hover:text-gray-950 transition-all",children:"Brith Day"}),e.jsx("input",{id:"date",...r("birthday"),type:"date",className:"mt-1 px-4 py-3 border border-gray-300 rounded-md w-full outline-none"})]}),e.jsx("div",{className:"w-full mt-2 flex items-center justify-end gap-x-2",children:e.jsx("button",{type:"submit",className:"px-4 disabled:bg-gray-300 py-2 md:text-lg hover:bg-primary-800 bg-primary-500 transition-all text-white rounded-md w-fit",children:"Next"})})]})]})}export{M as default};
