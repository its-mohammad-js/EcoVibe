import{r as l,aj as O,af as f,al as g,_ as m}from"./index-DYsdEq-R.js";function D(a){const[{optionsList:r,loading:d,error:u},i]=l.useState({loading:!1,optionsList:[],error:null});async function c(){var o;try{i(n=>({...n,loading:!0}));const t=O(f,"ProductsOptions"),s=(o=await g(t))==null?void 0:o.docs.map(n=>n.data());localStorage.setItem("productsOptions",JSON.stringify(s));const e=a?s[0].OptionData.find(n=>n.productType===a).productOptions:s[0].OptionData;i({optionsList:e||[],loading:!1,error:null})}catch(t){m.error(t==null?void 0:t.message),i(s=>({...s,error:t==null?void 0:t.message,loading:!1}))}}return l.useEffect(()=>{var s,e;const o=JSON.parse(localStorage.getItem("productsOptions")),t=o&&((s=o[0])==null?void 0:s.OptionData);if(o!=null&&o.length){const n=a?(e=t.find(p=>p.productType===a))==null?void 0:e.productOptions:t;i(p=>({...p,optionsList:n}))}else c()},[a]),{optionsList:r,loading:d,error:u,getSupportedOptions:c}}export{D as u};
