import{r as m,a as y,b as j,j as e,Z as N,a3 as v,_ as o,e as w}from"./index-BL0Cl8yh.js";import{M as I,a as S}from"./index.esm-BQOko-rs.js";import{c as F}from"./index-D7pY_MT7.js";import{m as T}from"./index-B6HzFx5v.js";import{u as _}from"./index.esm-DG8GeGIw.js";import{T as k}from"./TextInput-6M72SqEw.js";import"./iconBase-DxHUyO3Y.js";const B=[{name:"business_name",placeholder:"enter your business name"},{name:"career_title",placeholder:"what is your services ?"},{name:"slogan",placeholder:"enter your slogan"}];function D(){var d;const{register:i,handleSubmit:x,formState:{errors:n,isValid:p}}=_(),[t,h]=m.useState(null),[l,f]=m.useState(!1),{loading:r,userType:c}=y(s=>s.userData),b=j();async function g(s){if(!await v(t[0],t[1])){o.remove(),o.error("Please select a valid location");return}if(p&&!t){o("Please Add Your Location");return}else{const a={...s,locations:[{lat:t[0],lng:t[1]}]};b(w({userType:c==="customer"||c==="both"?"both":"seller",seller_step:"third-step",field:"businessInformation",data:a}))}}return r?e.jsxs("div",{className:"h-screen flex items-center justify-center flex-col",children:[e.jsx(N,{className:"size-24"}),e.jsx("h4",{className:"my-2 text-2xl font-bold text-center mt-2",children:"Submit your business information..."})]}):e.jsx("div",{className:"relative lg:px-6",children:e.jsxs("form",{onSubmit:x(s=>g(s)),className:"px-4 py-2 flex flex-col gap-4 lg:w-[48%] lg:bg-gray-50/30 lg:border lg:rounded-xl lg:py-4",children:[e.jsx("h4",{className:"text-xl lg:text-2xl font-semibold text-gray-800",children:"Tell Us About Your Business ;)"}),e.jsxs("div",{className:`${l?"fixed inset-0 h-full":"border-2  rounded-xl relative lg:absolute lg:top-0 lg:w-1/2 lg:right-4 h-80 lg:h-full"}`,children:[e.jsx("button",{type:"button",disabled:r,onClick:()=>f(!l),className:"absolute bottom-2 z-10 right-2 bg-gray-50 rounded-full text-primary-400 transition-all",children:t&&l?e.jsx(T,{className:"text-5xl p-2"}):e.jsx(F,{className:"text-5xl p-1"})}),e.jsx(I,{onClick:s=>h(s.latLng),defaultCenter:[35.77142984637282,51.46089654722849],defaultZoom:11,minZoom:3,maxZoom:18,children:t&&e.jsx(S,{color:"#1632e9",width:50,anchor:t})})]}),B.map(({name:s,placeholder:u},a)=>e.jsxs(e.Fragment,{children:[e.jsxs("label",{htmlFor:s,className:"font-semibold first-letter:uppercase -mb-2",children:[s.replace("_"," ")," :"]}),e.jsx(k,{name:s,id:s,placeholder:u,register:i(s,{required:{value:!0,message:"this field is required"}}),errors:n,disabled:r,style:"!h-10 bg-white"},a)]})),e.jsx("div",{className:"",children:e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Biography :"}),e.jsx("textarea",{type:"text",...i("biography",{required:{value:!0,message:"this field is required"}}),placeholder:"About you...",rows:5,className:"w-full border border-gray-300 px-2 disabled:animate-pulse py-2 rounded-lg outline-none placeholder:text-gray-400 focus:border-gray-300 transition-all resize-none"}),e.jsx("p",{className:"text-sm text-red-500 mt-1",children:(d=n.biography)==null?void 0:d.message})]})}),e.jsx("button",{onClick:()=>window.scrollTo(0,0),className:"px-4 py-2 bg-primary-500 w-fit rounded-md text-gray-50 self-end",children:"Submit"})]})})}export{D as default};
