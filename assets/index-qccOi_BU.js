var j8=Object.defineProperty;var W8=(n,e,t)=>e in n?j8(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var xS=(n,e,t)=>(W8(n,typeof e!="symbol"?e+"":e,t),t);function X8(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var Od=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function P_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function K8(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var pO={exports:{}},I_={},mO={exports:{}},Ht={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sm=Symbol.for("react.element"),J8=Symbol.for("react.portal"),$8=Symbol.for("react.fragment"),Y8=Symbol.for("react.strict_mode"),q8=Symbol.for("react.profiler"),Q8=Symbol.for("react.provider"),Z8=Symbol.for("react.context"),eH=Symbol.for("react.forward_ref"),tH=Symbol.for("react.suspense"),nH=Symbol.for("react.memo"),rH=Symbol.for("react.lazy"),KP=Symbol.iterator;function iH(n){return n===null||typeof n!="object"?null:(n=KP&&n[KP]||n["@@iterator"],typeof n=="function"?n:null)}var gO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yO=Object.assign,vO={};function Ef(n,e,t){this.props=n,this.context=e,this.refs=vO,this.updater=t||gO}Ef.prototype.isReactComponent={};Ef.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Ef.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function _O(){}_O.prototype=Ef.prototype;function HM(n,e,t){this.props=n,this.context=e,this.refs=vO,this.updater=t||gO}var GM=HM.prototype=new _O;GM.constructor=HM;yO(GM,Ef.prototype);GM.isPureReactComponent=!0;var JP=Array.isArray,xO=Object.prototype.hasOwnProperty,jM={current:null},SO={key:!0,ref:!0,__self:!0,__source:!0};function AO(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)xO.call(e,r)&&!SO.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Sm,type:n,key:s,ref:o,props:i,_owner:jM.current}}function sH(n,e){return{$$typeof:Sm,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function WM(n){return typeof n=="object"&&n!==null&&n.$$typeof===Sm}function oH(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var $P=/\/+/g;function SS(n,e){return typeof n=="object"&&n!==null&&n.key!=null?oH(""+n.key):e.toString(36)}function B0(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Sm:case J8:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+SS(o,0):r,JP(i)?(t="",n!=null&&(t=n.replace($P,"$&/")+"/"),B0(i,e,t,"",function(c){return c})):i!=null&&(WM(i)&&(i=sH(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace($P,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",JP(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+SS(s,a);o+=B0(s,e,t,l,i)}else if(l=iH(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+SS(s,a++),o+=B0(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ry(n,e,t){if(n==null)return n;var r=[],i=0;return B0(n,r,"","",function(s){return e.call(t,s,i++)}),r}function aH(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Si={current:null},N0={transition:null},lH={ReactCurrentDispatcher:Si,ReactCurrentBatchConfig:N0,ReactCurrentOwner:jM};Ht.Children={map:ry,forEach:function(n,e,t){ry(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return ry(n,function(){e++}),e},toArray:function(n){return ry(n,function(e){return e})||[]},only:function(n){if(!WM(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Ht.Component=Ef;Ht.Fragment=$8;Ht.Profiler=q8;Ht.PureComponent=HM;Ht.StrictMode=Y8;Ht.Suspense=tH;Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lH;Ht.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=yO({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=jM.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)xO.call(e,l)&&!SO.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Sm,type:n.type,key:i,ref:s,props:r,_owner:o}};Ht.createContext=function(n){return n={$$typeof:Z8,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:Q8,_context:n},n.Consumer=n};Ht.createElement=AO;Ht.createFactory=function(n){var e=AO.bind(null,n);return e.type=n,e};Ht.createRef=function(){return{current:null}};Ht.forwardRef=function(n){return{$$typeof:eH,render:n}};Ht.isValidElement=WM;Ht.lazy=function(n){return{$$typeof:rH,_payload:{_status:-1,_result:n},_init:aH}};Ht.memo=function(n,e){return{$$typeof:nH,type:n,compare:e===void 0?null:e}};Ht.startTransition=function(n){var e=N0.transition;N0.transition={};try{n()}finally{N0.transition=e}};Ht.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ht.useCallback=function(n,e){return Si.current.useCallback(n,e)};Ht.useContext=function(n){return Si.current.useContext(n)};Ht.useDebugValue=function(){};Ht.useDeferredValue=function(n){return Si.current.useDeferredValue(n)};Ht.useEffect=function(n,e){return Si.current.useEffect(n,e)};Ht.useId=function(){return Si.current.useId()};Ht.useImperativeHandle=function(n,e,t){return Si.current.useImperativeHandle(n,e,t)};Ht.useInsertionEffect=function(n,e){return Si.current.useInsertionEffect(n,e)};Ht.useLayoutEffect=function(n,e){return Si.current.useLayoutEffect(n,e)};Ht.useMemo=function(n,e){return Si.current.useMemo(n,e)};Ht.useReducer=function(n,e,t){return Si.current.useReducer(n,e,t)};Ht.useRef=function(n){return Si.current.useRef(n)};Ht.useState=function(n){return Si.current.useState(n)};Ht.useSyncExternalStore=function(n,e,t){return Si.current.useSyncExternalStore(n,e,t)};Ht.useTransition=function(){return Si.current.useTransition()};Ht.version="18.2.0";mO.exports=Ht;var Y=mO.exports;const Gs=P_(Y),kw=X8({__proto__:null,default:Gs},[Y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cH=Y,uH=Symbol.for("react.element"),hH=Symbol.for("react.fragment"),fH=Object.prototype.hasOwnProperty,dH=cH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pH={key:!0,ref:!0,__self:!0,__source:!0};function wO(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)fH.call(e,r)&&!pH.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:uH,type:n,key:s,ref:o,props:i,_owner:dH.current}}I_.Fragment=hH;I_.jsx=wO;I_.jsxs=wO;pO.exports=I_;var R=pO.exports,Uw={},EO={exports:{}},rs={},TO={exports:{}},MO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(O,j){var K=O.length;O.push(j);e:for(;0<K;){var q=K-1>>>1,te=O[q];if(0<i(te,j))O[q]=j,O[K]=te,K=q;else break e}}function t(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var j=O[0],K=O.pop();if(K!==j){O[0]=K;e:for(var q=0,te=O.length,Me=te>>>1;q<Me;){var ne=2*(q+1)-1,de=O[ne],Ae=ne+1,Pe=O[Ae];if(0>i(de,K))Ae<te&&0>i(Pe,de)?(O[q]=Pe,O[Ae]=K,q=Ae):(O[q]=de,O[ne]=K,q=ne);else if(Ae<te&&0>i(Pe,K))O[q]=Pe,O[Ae]=K,q=Ae;else break e}}return j}function i(O,j){var K=O.sortIndex-j.sortIndex;return K!==0?K:O.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,p=3,m=!1,y=!1,S=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(O){for(var j=t(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=O)r(c),j.sortIndex=j.expirationTime,e(l,j);else break;j=t(c)}}function E(O){if(S=!1,A(O),!y)if(t(l)!==null)y=!0,Z(b);else{var j=t(c);j!==null&&ae(E,j.startTime-O)}}function b(O,j){y=!1,S&&(S=!1,g(L),L=-1),m=!0;var K=p;try{for(A(j),f=t(l);f!==null&&(!(f.expirationTime>j)||O&&!D());){var q=f.callback;if(typeof q=="function"){f.callback=null,p=f.priorityLevel;var te=q(f.expirationTime<=j);j=n.unstable_now(),typeof te=="function"?f.callback=te:f===t(l)&&r(l),A(j)}else r(l);f=t(l)}if(f!==null)var Me=!0;else{var ne=t(c);ne!==null&&ae(E,ne.startTime-j),Me=!1}return Me}finally{f=null,p=K,m=!1}}var C=!1,P=null,L=-1,N=5,M=-1;function D(){return!(n.unstable_now()-M<N)}function z(){if(P!==null){var O=n.unstable_now();M=O;var j=!0;try{j=P(!0,O)}finally{j?W():(C=!1,P=null)}}else C=!1}var W;if(typeof x=="function")W=function(){x(z)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,$=H.port2;H.port1.onmessage=z,W=function(){$.postMessage(null)}}else W=function(){v(z,0)};function Z(O){P=O,C||(C=!0,W())}function ae(O,j){L=v(function(){O(n.unstable_now())},j)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(O){O.callback=null},n.unstable_continueExecution=function(){y||m||(y=!0,Z(b))},n.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<O?Math.floor(1e3/O):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(O){switch(p){case 1:case 2:case 3:var j=3;break;default:j=p}var K=p;p=j;try{return O()}finally{p=K}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(O,j){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var K=p;p=O;try{return j()}finally{p=K}},n.unstable_scheduleCallback=function(O,j,K){var q=n.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?q+K:q):K=q,O){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=K+te,O={id:u++,callback:j,priorityLevel:O,startTime:K,expirationTime:te,sortIndex:-1},K>q?(O.sortIndex=K,e(c,O),t(l)===null&&O===t(c)&&(S?(g(L),L=-1):S=!0,ae(E,K-q))):(O.sortIndex=te,e(l,O),y||m||(y=!0,Z(b))),O},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(O){var j=p;return function(){var K=p;p=j;try{return O.apply(this,arguments)}finally{p=K}}}})(MO);TO.exports=MO;var mH=TO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CO=Y,qi=mH;function Le(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bO=new Set,_p={};function ru(n,e){Kh(n,e),Kh(n+"Capture",e)}function Kh(n,e){for(_p[n]=e,n=0;n<e.length;n++)bO.add(e[n])}var fa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vw=Object.prototype.hasOwnProperty,gH=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,YP={},qP={};function yH(n){return Vw.call(qP,n)?!0:Vw.call(YP,n)?!1:gH.test(n)?qP[n]=!0:(YP[n]=!0,!1)}function vH(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function _H(n,e,t,r){if(e===null||typeof e>"u"||vH(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ai(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Vr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Vr[n]=new Ai(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Vr[e]=new Ai(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Vr[n]=new Ai(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Vr[n]=new Ai(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Vr[n]=new Ai(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Vr[n]=new Ai(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Vr[n]=new Ai(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Vr[n]=new Ai(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Vr[n]=new Ai(n,5,!1,n.toLowerCase(),null,!1,!1)});var XM=/[\-:]([a-z])/g;function KM(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(XM,KM);Vr[e]=new Ai(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(XM,KM);Vr[e]=new Ai(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(XM,KM);Vr[e]=new Ai(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Vr[n]=new Ai(n,1,!1,n.toLowerCase(),null,!1,!1)});Vr.xlinkHref=new Ai("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Vr[n]=new Ai(n,1,!1,n.toLowerCase(),null,!0,!0)});function JM(n,e,t,r){var i=Vr.hasOwnProperty(e)?Vr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(_H(e,t,i,r)&&(t=null),r||i===null?yH(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var xa=CO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,iy=Symbol.for("react.element"),lh=Symbol.for("react.portal"),ch=Symbol.for("react.fragment"),$M=Symbol.for("react.strict_mode"),zw=Symbol.for("react.profiler"),RO=Symbol.for("react.provider"),PO=Symbol.for("react.context"),YM=Symbol.for("react.forward_ref"),Hw=Symbol.for("react.suspense"),Gw=Symbol.for("react.suspense_list"),qM=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),IO=Symbol.for("react.offscreen"),QP=Symbol.iterator;function ad(n){return n===null||typeof n!="object"?null:(n=QP&&n[QP]||n["@@iterator"],typeof n=="function"?n:null)}var Dn=Object.assign,AS;function Fd(n){if(AS===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);AS=e&&e[1]||""}return`
`+AS+n}var wS=!1;function ES(n,e){if(!n||wS)return"";wS=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{wS=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Fd(n):""}function xH(n){switch(n.tag){case 5:return Fd(n.type);case 16:return Fd("Lazy");case 13:return Fd("Suspense");case 19:return Fd("SuspenseList");case 0:case 2:case 15:return n=ES(n.type,!1),n;case 11:return n=ES(n.type.render,!1),n;case 1:return n=ES(n.type,!0),n;default:return""}}function jw(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case ch:return"Fragment";case lh:return"Portal";case zw:return"Profiler";case $M:return"StrictMode";case Hw:return"Suspense";case Gw:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case PO:return(n.displayName||"Context")+".Consumer";case RO:return(n._context.displayName||"Context")+".Provider";case YM:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case qM:return e=n.displayName||null,e!==null?e:jw(n.type)||"Memo";case Ha:e=n._payload,n=n._init;try{return jw(n(e))}catch{}}return null}function SH(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jw(e);case 8:return e===$M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function vl(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function LO(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function AH(n){var e=LO(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function sy(n){n._valueTracker||(n._valueTracker=AH(n))}function DO(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=LO(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function cv(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Ww(n,e){var t=e.checked;return Dn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function ZP(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=vl(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function BO(n,e){e=e.checked,e!=null&&JM(n,"checked",e,!1)}function Xw(n,e){BO(n,e);var t=vl(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Kw(n,e.type,t):e.hasOwnProperty("defaultValue")&&Kw(n,e.type,vl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function eI(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Kw(n,e,t){(e!=="number"||cv(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var kd=Array.isArray;function Ih(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+vl(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function Jw(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Le(91));return Dn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function tI(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Le(92));if(kd(t)){if(1<t.length)throw Error(Le(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:vl(t)}}function NO(n,e){var t=vl(e.value),r=vl(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function nI(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function OO(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $w(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?OO(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var oy,FO=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(oy=oy||document.createElement("div"),oy.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=oy.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function xp(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Jd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wH=["Webkit","ms","Moz","O"];Object.keys(Jd).forEach(function(n){wH.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Jd[e]=Jd[n]})});function kO(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Jd.hasOwnProperty(n)&&Jd[n]?(""+e).trim():e+"px"}function UO(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=kO(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var EH=Dn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yw(n,e){if(e){if(EH[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Le(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Le(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Le(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Le(62))}}function qw(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qw=null;function QM(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Zw=null,Lh=null,Dh=null;function rI(n){if(n=Em(n)){if(typeof Zw!="function")throw Error(Le(280));var e=n.stateNode;e&&(e=O_(e),Zw(n.stateNode,n.type,e))}}function VO(n){Lh?Dh?Dh.push(n):Dh=[n]:Lh=n}function zO(){if(Lh){var n=Lh,e=Dh;if(Dh=Lh=null,rI(n),e)for(n=0;n<e.length;n++)rI(e[n])}}function HO(n,e){return n(e)}function GO(){}var TS=!1;function jO(n,e,t){if(TS)return n(e,t);TS=!0;try{return HO(n,e,t)}finally{TS=!1,(Lh!==null||Dh!==null)&&(GO(),zO())}}function Sp(n,e){var t=n.stateNode;if(t===null)return null;var r=O_(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Le(231,e,typeof t));return t}var eE=!1;if(fa)try{var ld={};Object.defineProperty(ld,"passive",{get:function(){eE=!0}}),window.addEventListener("test",ld,ld),window.removeEventListener("test",ld,ld)}catch{eE=!1}function TH(n,e,t,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var $d=!1,uv=null,hv=!1,tE=null,MH={onError:function(n){$d=!0,uv=n}};function CH(n,e,t,r,i,s,o,a,l){$d=!1,uv=null,TH.apply(MH,arguments)}function bH(n,e,t,r,i,s,o,a,l){if(CH.apply(this,arguments),$d){if($d){var c=uv;$d=!1,uv=null}else throw Error(Le(198));hv||(hv=!0,tE=c)}}function iu(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function WO(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function iI(n){if(iu(n)!==n)throw Error(Le(188))}function RH(n){var e=n.alternate;if(!e){if(e=iu(n),e===null)throw Error(Le(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return iI(i),n;if(s===r)return iI(i),e;s=s.sibling}throw Error(Le(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(Le(189))}}if(t.alternate!==r)throw Error(Le(190))}if(t.tag!==3)throw Error(Le(188));return t.stateNode.current===t?n:e}function XO(n){return n=RH(n),n!==null?KO(n):null}function KO(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=KO(n);if(e!==null)return e;n=n.sibling}return null}var JO=qi.unstable_scheduleCallback,sI=qi.unstable_cancelCallback,PH=qi.unstable_shouldYield,IH=qi.unstable_requestPaint,Kn=qi.unstable_now,LH=qi.unstable_getCurrentPriorityLevel,ZM=qi.unstable_ImmediatePriority,$O=qi.unstable_UserBlockingPriority,fv=qi.unstable_NormalPriority,DH=qi.unstable_LowPriority,YO=qi.unstable_IdlePriority,L_=null,xo=null;function BH(n){if(xo&&typeof xo.onCommitFiberRoot=="function")try{xo.onCommitFiberRoot(L_,n,void 0,(n.current.flags&128)===128)}catch{}}var js=Math.clz32?Math.clz32:FH,NH=Math.log,OH=Math.LN2;function FH(n){return n>>>=0,n===0?32:31-(NH(n)/OH|0)|0}var ay=64,ly=4194304;function Ud(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function dv(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=Ud(a):(s&=o,s!==0&&(r=Ud(s)))}else o=t&~i,o!==0?r=Ud(o):s!==0&&(r=Ud(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-js(e),i=1<<t,r|=n[t],e&=~i;return r}function kH(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function UH(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-js(s),a=1<<o,l=i[o];l===-1?(!(a&t)||a&r)&&(i[o]=kH(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function nE(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function qO(){var n=ay;return ay<<=1,!(ay&4194240)&&(ay=64),n}function MS(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Am(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-js(e),n[e]=t}function VH(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-js(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function eC(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-js(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var ln=0;function QO(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var ZO,tC,eF,tF,nF,rE=!1,cy=[],nl=null,rl=null,il=null,Ap=new Map,wp=new Map,Ka=[],zH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function oI(n,e){switch(n){case"focusin":case"focusout":nl=null;break;case"dragenter":case"dragleave":rl=null;break;case"mouseover":case"mouseout":il=null;break;case"pointerover":case"pointerout":Ap.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":wp.delete(e.pointerId)}}function cd(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Em(e),e!==null&&tC(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function HH(n,e,t,r,i){switch(e){case"focusin":return nl=cd(nl,n,e,t,r,i),!0;case"dragenter":return rl=cd(rl,n,e,t,r,i),!0;case"mouseover":return il=cd(il,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return Ap.set(s,cd(Ap.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,wp.set(s,cd(wp.get(s)||null,n,e,t,r,i)),!0}return!1}function rF(n){var e=_c(n.target);if(e!==null){var t=iu(e);if(t!==null){if(e=t.tag,e===13){if(e=WO(t),e!==null){n.blockedOn=e,nF(n.priority,function(){eF(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function O0(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=iE(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);Qw=r,t.target.dispatchEvent(r),Qw=null}else return e=Em(t),e!==null&&tC(e),n.blockedOn=t,!1;e.shift()}return!0}function aI(n,e,t){O0(n)&&t.delete(e)}function GH(){rE=!1,nl!==null&&O0(nl)&&(nl=null),rl!==null&&O0(rl)&&(rl=null),il!==null&&O0(il)&&(il=null),Ap.forEach(aI),wp.forEach(aI)}function ud(n,e){n.blockedOn===e&&(n.blockedOn=null,rE||(rE=!0,qi.unstable_scheduleCallback(qi.unstable_NormalPriority,GH)))}function Ep(n){function e(i){return ud(i,n)}if(0<cy.length){ud(cy[0],n);for(var t=1;t<cy.length;t++){var r=cy[t];r.blockedOn===n&&(r.blockedOn=null)}}for(nl!==null&&ud(nl,n),rl!==null&&ud(rl,n),il!==null&&ud(il,n),Ap.forEach(e),wp.forEach(e),t=0;t<Ka.length;t++)r=Ka[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<Ka.length&&(t=Ka[0],t.blockedOn===null);)rF(t),t.blockedOn===null&&Ka.shift()}var Bh=xa.ReactCurrentBatchConfig,pv=!0;function jH(n,e,t,r){var i=ln,s=Bh.transition;Bh.transition=null;try{ln=1,nC(n,e,t,r)}finally{ln=i,Bh.transition=s}}function WH(n,e,t,r){var i=ln,s=Bh.transition;Bh.transition=null;try{ln=4,nC(n,e,t,r)}finally{ln=i,Bh.transition=s}}function nC(n,e,t,r){if(pv){var i=iE(n,e,t,r);if(i===null)OS(n,e,r,mv,t),oI(n,r);else if(HH(i,n,e,t,r))r.stopPropagation();else if(oI(n,r),e&4&&-1<zH.indexOf(n)){for(;i!==null;){var s=Em(i);if(s!==null&&ZO(s),s=iE(n,e,t,r),s===null&&OS(n,e,r,mv,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else OS(n,e,r,null,t)}}var mv=null;function iE(n,e,t,r){if(mv=null,n=QM(r),n=_c(n),n!==null)if(e=iu(n),e===null)n=null;else if(t=e.tag,t===13){if(n=WO(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return mv=n,null}function iF(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(LH()){case ZM:return 1;case $O:return 4;case fv:case DH:return 16;case YO:return 536870912;default:return 16}default:return 16}}var qa=null,rC=null,F0=null;function sF(){if(F0)return F0;var n,e=rC,t=e.length,r,i="value"in qa?qa.value:qa.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return F0=i.slice(n,1<r?1-r:void 0)}function k0(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function uy(){return!0}function lI(){return!1}function is(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?uy:lI,this.isPropagationStopped=lI,this}return Dn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=uy)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=uy)},persist:function(){},isPersistent:uy}),e}var Tf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},iC=is(Tf),wm=Dn({},Tf,{view:0,detail:0}),XH=is(wm),CS,bS,hd,D_=Dn({},wm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sC,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==hd&&(hd&&n.type==="mousemove"?(CS=n.screenX-hd.screenX,bS=n.screenY-hd.screenY):bS=CS=0,hd=n),CS)},movementY:function(n){return"movementY"in n?n.movementY:bS}}),cI=is(D_),KH=Dn({},D_,{dataTransfer:0}),JH=is(KH),$H=Dn({},wm,{relatedTarget:0}),RS=is($H),YH=Dn({},Tf,{animationName:0,elapsedTime:0,pseudoElement:0}),qH=is(YH),QH=Dn({},Tf,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ZH=is(QH),eG=Dn({},Tf,{data:0}),uI=is(eG),tG={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nG={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rG={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iG(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=rG[n])?!!e[n]:!1}function sC(){return iG}var sG=Dn({},wm,{key:function(n){if(n.key){var e=tG[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=k0(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?nG[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sC,charCode:function(n){return n.type==="keypress"?k0(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?k0(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),oG=is(sG),aG=Dn({},D_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hI=is(aG),lG=Dn({},wm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sC}),cG=is(lG),uG=Dn({},Tf,{propertyName:0,elapsedTime:0,pseudoElement:0}),hG=is(uG),fG=Dn({},D_,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),dG=is(fG),pG=[9,13,27,32],oC=fa&&"CompositionEvent"in window,Yd=null;fa&&"documentMode"in document&&(Yd=document.documentMode);var mG=fa&&"TextEvent"in window&&!Yd,oF=fa&&(!oC||Yd&&8<Yd&&11>=Yd),fI=" ",dI=!1;function aF(n,e){switch(n){case"keyup":return pG.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lF(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var uh=!1;function gG(n,e){switch(n){case"compositionend":return lF(e);case"keypress":return e.which!==32?null:(dI=!0,fI);case"textInput":return n=e.data,n===fI&&dI?null:n;default:return null}}function yG(n,e){if(uh)return n==="compositionend"||!oC&&aF(n,e)?(n=sF(),F0=rC=qa=null,uh=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return oF&&e.locale!=="ko"?null:e.data;default:return null}}var vG={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pI(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!vG[n.type]:e==="textarea"}function cF(n,e,t,r){VO(r),e=gv(e,"onChange"),0<e.length&&(t=new iC("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var qd=null,Tp=null;function _G(n){xF(n,0)}function B_(n){var e=dh(n);if(DO(e))return n}function xG(n,e){if(n==="change")return e}var uF=!1;if(fa){var PS;if(fa){var IS="oninput"in document;if(!IS){var mI=document.createElement("div");mI.setAttribute("oninput","return;"),IS=typeof mI.oninput=="function"}PS=IS}else PS=!1;uF=PS&&(!document.documentMode||9<document.documentMode)}function gI(){qd&&(qd.detachEvent("onpropertychange",hF),Tp=qd=null)}function hF(n){if(n.propertyName==="value"&&B_(Tp)){var e=[];cF(e,Tp,n,QM(n)),jO(_G,e)}}function SG(n,e,t){n==="focusin"?(gI(),qd=e,Tp=t,qd.attachEvent("onpropertychange",hF)):n==="focusout"&&gI()}function AG(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return B_(Tp)}function wG(n,e){if(n==="click")return B_(e)}function EG(n,e){if(n==="input"||n==="change")return B_(e)}function TG(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Ks=typeof Object.is=="function"?Object.is:TG;function Mp(n,e){if(Ks(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!Vw.call(e,i)||!Ks(n[i],e[i]))return!1}return!0}function yI(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function vI(n,e){var t=yI(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=yI(t)}}function fF(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?fF(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function dF(){for(var n=window,e=cv();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=cv(n.document)}return e}function aC(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function MG(n){var e=dF(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&fF(t.ownerDocument.documentElement,t)){if(r!==null&&aC(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=vI(t,s);var o=vI(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var CG=fa&&"documentMode"in document&&11>=document.documentMode,hh=null,sE=null,Qd=null,oE=!1;function _I(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;oE||hh==null||hh!==cv(r)||(r=hh,"selectionStart"in r&&aC(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Qd&&Mp(Qd,r)||(Qd=r,r=gv(sE,"onSelect"),0<r.length&&(e=new iC("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=hh)))}function hy(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var fh={animationend:hy("Animation","AnimationEnd"),animationiteration:hy("Animation","AnimationIteration"),animationstart:hy("Animation","AnimationStart"),transitionend:hy("Transition","TransitionEnd")},LS={},pF={};fa&&(pF=document.createElement("div").style,"AnimationEvent"in window||(delete fh.animationend.animation,delete fh.animationiteration.animation,delete fh.animationstart.animation),"TransitionEvent"in window||delete fh.transitionend.transition);function N_(n){if(LS[n])return LS[n];if(!fh[n])return n;var e=fh[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in pF)return LS[n]=e[t];return n}var mF=N_("animationend"),gF=N_("animationiteration"),yF=N_("animationstart"),vF=N_("transitionend"),_F=new Map,xI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Il(n,e){_F.set(n,e),ru(e,[n])}for(var DS=0;DS<xI.length;DS++){var BS=xI[DS],bG=BS.toLowerCase(),RG=BS[0].toUpperCase()+BS.slice(1);Il(bG,"on"+RG)}Il(mF,"onAnimationEnd");Il(gF,"onAnimationIteration");Il(yF,"onAnimationStart");Il("dblclick","onDoubleClick");Il("focusin","onFocus");Il("focusout","onBlur");Il(vF,"onTransitionEnd");Kh("onMouseEnter",["mouseout","mouseover"]);Kh("onMouseLeave",["mouseout","mouseover"]);Kh("onPointerEnter",["pointerout","pointerover"]);Kh("onPointerLeave",["pointerout","pointerover"]);ru("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ru("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ru("onBeforeInput",["compositionend","keypress","textInput","paste"]);ru("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ru("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ru("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PG=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vd));function SI(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,bH(r,e,void 0,n),n.currentTarget=null}function xF(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;SI(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;SI(i,a,c),s=l}}}if(hv)throw n=tE,hv=!1,tE=null,n}function gn(n,e){var t=e[hE];t===void 0&&(t=e[hE]=new Set);var r=n+"__bubble";t.has(r)||(SF(e,n,2,!1),t.add(r))}function NS(n,e,t){var r=0;e&&(r|=4),SF(t,n,r,e)}var fy="_reactListening"+Math.random().toString(36).slice(2);function Cp(n){if(!n[fy]){n[fy]=!0,bO.forEach(function(t){t!=="selectionchange"&&(PG.has(t)||NS(t,!1,n),NS(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[fy]||(e[fy]=!0,NS("selectionchange",!1,e))}}function SF(n,e,t,r){switch(iF(e)){case 1:var i=jH;break;case 4:i=WH;break;default:i=nC}t=i.bind(null,e,t,n),i=void 0,!eE||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function OS(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=_c(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}jO(function(){var c=s,u=QM(t),f=[];e:{var p=_F.get(n);if(p!==void 0){var m=iC,y=n;switch(n){case"keypress":if(k0(t)===0)break e;case"keydown":case"keyup":m=oG;break;case"focusin":y="focus",m=RS;break;case"focusout":y="blur",m=RS;break;case"beforeblur":case"afterblur":m=RS;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=cI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=JH;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=cG;break;case mF:case gF:case yF:m=qH;break;case vF:m=hG;break;case"scroll":m=XH;break;case"wheel":m=dG;break;case"copy":case"cut":case"paste":m=ZH;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=hI}var S=(e&4)!==0,v=!S&&n==="scroll",g=S?p!==null?p+"Capture":null:p;S=[];for(var x=c,A;x!==null;){A=x;var E=A.stateNode;if(A.tag===5&&E!==null&&(A=E,g!==null&&(E=Sp(x,g),E!=null&&S.push(bp(x,E,A)))),v)break;x=x.return}0<S.length&&(p=new m(p,y,null,t,u),f.push({event:p,listeners:S}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",p&&t!==Qw&&(y=t.relatedTarget||t.fromElement)&&(_c(y)||y[da]))break e;if((m||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,m?(y=t.relatedTarget||t.toElement,m=c,y=y?_c(y):null,y!==null&&(v=iu(y),y!==v||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=c),m!==y)){if(S=cI,E="onMouseLeave",g="onMouseEnter",x="mouse",(n==="pointerout"||n==="pointerover")&&(S=hI,E="onPointerLeave",g="onPointerEnter",x="pointer"),v=m==null?p:dh(m),A=y==null?p:dh(y),p=new S(E,x+"leave",m,t,u),p.target=v,p.relatedTarget=A,E=null,_c(u)===c&&(S=new S(g,x+"enter",y,t,u),S.target=A,S.relatedTarget=v,E=S),v=E,m&&y)t:{for(S=m,g=y,x=0,A=S;A;A=Iu(A))x++;for(A=0,E=g;E;E=Iu(E))A++;for(;0<x-A;)S=Iu(S),x--;for(;0<A-x;)g=Iu(g),A--;for(;x--;){if(S===g||g!==null&&S===g.alternate)break t;S=Iu(S),g=Iu(g)}S=null}else S=null;m!==null&&AI(f,p,m,S,!1),y!==null&&v!==null&&AI(f,v,y,S,!0)}}e:{if(p=c?dh(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var b=xG;else if(pI(p))if(uF)b=EG;else{b=AG;var C=SG}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(b=wG);if(b&&(b=b(n,c))){cF(f,b,t,u);break e}C&&C(n,p,c),n==="focusout"&&(C=p._wrapperState)&&C.controlled&&p.type==="number"&&Kw(p,"number",p.value)}switch(C=c?dh(c):window,n){case"focusin":(pI(C)||C.contentEditable==="true")&&(hh=C,sE=c,Qd=null);break;case"focusout":Qd=sE=hh=null;break;case"mousedown":oE=!0;break;case"contextmenu":case"mouseup":case"dragend":oE=!1,_I(f,t,u);break;case"selectionchange":if(CG)break;case"keydown":case"keyup":_I(f,t,u)}var P;if(oC)e:{switch(n){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else uh?aF(n,t)&&(L="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(L="onCompositionStart");L&&(oF&&t.locale!=="ko"&&(uh||L!=="onCompositionStart"?L==="onCompositionEnd"&&uh&&(P=sF()):(qa=u,rC="value"in qa?qa.value:qa.textContent,uh=!0)),C=gv(c,L),0<C.length&&(L=new uI(L,n,null,t,u),f.push({event:L,listeners:C}),P?L.data=P:(P=lF(t),P!==null&&(L.data=P)))),(P=mG?gG(n,t):yG(n,t))&&(c=gv(c,"onBeforeInput"),0<c.length&&(u=new uI("onBeforeInput","beforeinput",null,t,u),f.push({event:u,listeners:c}),u.data=P))}xF(f,e)})}function bp(n,e,t){return{instance:n,listener:e,currentTarget:t}}function gv(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Sp(n,t),s!=null&&r.unshift(bp(n,s,i)),s=Sp(n,e),s!=null&&r.push(bp(n,s,i))),n=n.return}return r}function Iu(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function AI(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Sp(t,s),l!=null&&o.unshift(bp(t,l,a))):i||(l=Sp(t,s),l!=null&&o.push(bp(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var IG=/\r\n?/g,LG=/\u0000|\uFFFD/g;function wI(n){return(typeof n=="string"?n:""+n).replace(IG,`
`).replace(LG,"")}function dy(n,e,t){if(e=wI(e),wI(n)!==e&&t)throw Error(Le(425))}function yv(){}var aE=null,lE=null;function cE(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var uE=typeof setTimeout=="function"?setTimeout:void 0,DG=typeof clearTimeout=="function"?clearTimeout:void 0,EI=typeof Promise=="function"?Promise:void 0,BG=typeof queueMicrotask=="function"?queueMicrotask:typeof EI<"u"?function(n){return EI.resolve(null).then(n).catch(NG)}:uE;function NG(n){setTimeout(function(){throw n})}function FS(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),Ep(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);Ep(e)}function sl(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function TI(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Mf=Math.random().toString(36).slice(2),fo="__reactFiber$"+Mf,Rp="__reactProps$"+Mf,da="__reactContainer$"+Mf,hE="__reactEvents$"+Mf,OG="__reactListeners$"+Mf,FG="__reactHandles$"+Mf;function _c(n){var e=n[fo];if(e)return e;for(var t=n.parentNode;t;){if(e=t[da]||t[fo]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=TI(n);n!==null;){if(t=n[fo])return t;n=TI(n)}return e}n=t,t=n.parentNode}return null}function Em(n){return n=n[fo]||n[da],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function dh(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Le(33))}function O_(n){return n[Rp]||null}var fE=[],ph=-1;function Ll(n){return{current:n}}function Sn(n){0>ph||(n.current=fE[ph],fE[ph]=null,ph--)}function pn(n,e){ph++,fE[ph]=n.current,n.current=e}var _l={},ri=Ll(_l),Pi=Ll(!1),jc=_l;function Jh(n,e){var t=n.type.contextTypes;if(!t)return _l;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function Ii(n){return n=n.childContextTypes,n!=null}function vv(){Sn(Pi),Sn(ri)}function MI(n,e,t){if(ri.current!==_l)throw Error(Le(168));pn(ri,e),pn(Pi,t)}function AF(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Le(108,SH(n)||"Unknown",i));return Dn({},t,r)}function _v(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||_l,jc=ri.current,pn(ri,n),pn(Pi,Pi.current),!0}function CI(n,e,t){var r=n.stateNode;if(!r)throw Error(Le(169));t?(n=AF(n,e,jc),r.__reactInternalMemoizedMergedChildContext=n,Sn(Pi),Sn(ri),pn(ri,n)):Sn(Pi),pn(Pi,t)}var qo=null,F_=!1,kS=!1;function wF(n){qo===null?qo=[n]:qo.push(n)}function kG(n){F_=!0,wF(n)}function Dl(){if(!kS&&qo!==null){kS=!0;var n=0,e=ln;try{var t=qo;for(ln=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}qo=null,F_=!1}catch(i){throw qo!==null&&(qo=qo.slice(n+1)),JO(ZM,Dl),i}finally{ln=e,kS=!1}}return null}var mh=[],gh=0,xv=null,Sv=0,xs=[],Ss=0,Wc=null,ea=1,ta="";function ac(n,e){mh[gh++]=Sv,mh[gh++]=xv,xv=n,Sv=e}function EF(n,e,t){xs[Ss++]=ea,xs[Ss++]=ta,xs[Ss++]=Wc,Wc=n;var r=ea;n=ta;var i=32-js(r)-1;r&=~(1<<i),t+=1;var s=32-js(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ea=1<<32-js(e)+i|t<<i|r,ta=s+n}else ea=1<<s|t<<i|r,ta=n}function lC(n){n.return!==null&&(ac(n,1),EF(n,1,0))}function cC(n){for(;n===xv;)xv=mh[--gh],mh[gh]=null,Sv=mh[--gh],mh[gh]=null;for(;n===Wc;)Wc=xs[--Ss],xs[Ss]=null,ta=xs[--Ss],xs[Ss]=null,ea=xs[--Ss],xs[Ss]=null}var $i=null,Xi=null,Tn=!1,Vs=null;function TF(n,e){var t=Ts(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function bI(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,$i=n,Xi=sl(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,$i=n,Xi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Wc!==null?{id:ea,overflow:ta}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Ts(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,$i=n,Xi=null,!0):!1;default:return!1}}function dE(n){return(n.mode&1)!==0&&(n.flags&128)===0}function pE(n){if(Tn){var e=Xi;if(e){var t=e;if(!bI(n,e)){if(dE(n))throw Error(Le(418));e=sl(t.nextSibling);var r=$i;e&&bI(n,e)?TF(r,t):(n.flags=n.flags&-4097|2,Tn=!1,$i=n)}}else{if(dE(n))throw Error(Le(418));n.flags=n.flags&-4097|2,Tn=!1,$i=n}}}function RI(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;$i=n}function py(n){if(n!==$i)return!1;if(!Tn)return RI(n),Tn=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!cE(n.type,n.memoizedProps)),e&&(e=Xi)){if(dE(n))throw MF(),Error(Le(418));for(;e;)TF(n,e),e=sl(e.nextSibling)}if(RI(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Le(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Xi=sl(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Xi=null}}else Xi=$i?sl(n.stateNode.nextSibling):null;return!0}function MF(){for(var n=Xi;n;)n=sl(n.nextSibling)}function $h(){Xi=$i=null,Tn=!1}function uC(n){Vs===null?Vs=[n]:Vs.push(n)}var UG=xa.ReactCurrentBatchConfig;function Fs(n,e){if(n&&n.defaultProps){e=Dn({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var Av=Ll(null),wv=null,yh=null,hC=null;function fC(){hC=yh=wv=null}function dC(n){var e=Av.current;Sn(Av),n._currentValue=e}function mE(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function Nh(n,e){wv=n,hC=yh=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Ri=!0),n.firstContext=null)}function Rs(n){var e=n._currentValue;if(hC!==n)if(n={context:n,memoizedValue:e,next:null},yh===null){if(wv===null)throw Error(Le(308));yh=n,wv.dependencies={lanes:0,firstContext:n}}else yh=yh.next=n;return e}var xc=null;function pC(n){xc===null?xc=[n]:xc.push(n)}function CF(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,pC(e)):(t.next=i.next,i.next=t),e.interleaved=t,pa(n,r)}function pa(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Ga=!1;function mC(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bF(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function aa(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function ol(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Qt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,pa(n,t)}return i=r.interleaved,i===null?(e.next=e,pC(r)):(e.next=i.next,i.next=e),r.interleaved=e,pa(n,t)}function U0(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,eC(n,t)}}function PI(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Ev(n,e,t,r){var i=n.updateQueue;Ga=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=n.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,u=c=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((r&p)===p){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=n,S=a;switch(p=e,m=t,S.tag){case 1:if(y=S.payload,typeof y=="function"){f=y.call(m,f,p);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=S.payload,p=typeof y=="function"?y.call(m,f,p):y,p==null)break e;f=Dn({},f,p);break e;case 2:Ga=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=f):u=u.next=m,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Kc|=o,n.lanes=o,n.memoizedState=f}}function II(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(Le(191,i));i.call(r)}}}var RF=new CO.Component().refs;function gE(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Dn({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var k_={isMounted:function(n){return(n=n._reactInternals)?iu(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=_i(),i=ll(n),s=aa(r,i);s.payload=e,t!=null&&(s.callback=t),e=ol(n,s,i),e!==null&&(Ws(e,n,i,r),U0(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=_i(),i=ll(n),s=aa(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=ol(n,s,i),e!==null&&(Ws(e,n,i,r),U0(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=_i(),r=ll(n),i=aa(t,r);i.tag=2,e!=null&&(i.callback=e),e=ol(n,i,r),e!==null&&(Ws(e,n,r,t),U0(e,n,r))}};function LI(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Mp(t,r)||!Mp(i,s):!0}function PF(n,e,t){var r=!1,i=_l,s=e.contextType;return typeof s=="object"&&s!==null?s=Rs(s):(i=Ii(e)?jc:ri.current,r=e.contextTypes,s=(r=r!=null)?Jh(n,i):_l),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=k_,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function DI(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&k_.enqueueReplaceState(e,e.state,null)}function yE(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs=RF,mC(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Rs(s):(s=Ii(e)?jc:ri.current,i.context=Jh(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(gE(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&k_.enqueueReplaceState(i,i.state,null),Ev(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function fd(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Le(309));var r=t.stateNode}if(!r)throw Error(Le(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===RF&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Le(284));if(!t._owner)throw Error(Le(290,n))}return n}function my(n,e){throw n=Object.prototype.toString.call(e),Error(Le(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function BI(n){var e=n._init;return e(n._payload)}function IF(n){function e(g,x){if(n){var A=g.deletions;A===null?(g.deletions=[x],g.flags|=16):A.push(x)}}function t(g,x){if(!n)return null;for(;x!==null;)e(g,x),x=x.sibling;return null}function r(g,x){for(g=new Map;x!==null;)x.key!==null?g.set(x.key,x):g.set(x.index,x),x=x.sibling;return g}function i(g,x){return g=cl(g,x),g.index=0,g.sibling=null,g}function s(g,x,A){return g.index=A,n?(A=g.alternate,A!==null?(A=A.index,A<x?(g.flags|=2,x):A):(g.flags|=2,x)):(g.flags|=1048576,x)}function o(g){return n&&g.alternate===null&&(g.flags|=2),g}function a(g,x,A,E){return x===null||x.tag!==6?(x=WS(A,g.mode,E),x.return=g,x):(x=i(x,A),x.return=g,x)}function l(g,x,A,E){var b=A.type;return b===ch?u(g,x,A.props.children,E,A.key):x!==null&&(x.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Ha&&BI(b)===x.type)?(E=i(x,A.props),E.ref=fd(g,x,A),E.return=g,E):(E=W0(A.type,A.key,A.props,null,g.mode,E),E.ref=fd(g,x,A),E.return=g,E)}function c(g,x,A,E){return x===null||x.tag!==4||x.stateNode.containerInfo!==A.containerInfo||x.stateNode.implementation!==A.implementation?(x=XS(A,g.mode,E),x.return=g,x):(x=i(x,A.children||[]),x.return=g,x)}function u(g,x,A,E,b){return x===null||x.tag!==7?(x=Dc(A,g.mode,E,b),x.return=g,x):(x=i(x,A),x.return=g,x)}function f(g,x,A){if(typeof x=="string"&&x!==""||typeof x=="number")return x=WS(""+x,g.mode,A),x.return=g,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case iy:return A=W0(x.type,x.key,x.props,null,g.mode,A),A.ref=fd(g,null,x),A.return=g,A;case lh:return x=XS(x,g.mode,A),x.return=g,x;case Ha:var E=x._init;return f(g,E(x._payload),A)}if(kd(x)||ad(x))return x=Dc(x,g.mode,A,null),x.return=g,x;my(g,x)}return null}function p(g,x,A,E){var b=x!==null?x.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return b!==null?null:a(g,x,""+A,E);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case iy:return A.key===b?l(g,x,A,E):null;case lh:return A.key===b?c(g,x,A,E):null;case Ha:return b=A._init,p(g,x,b(A._payload),E)}if(kd(A)||ad(A))return b!==null?null:u(g,x,A,E,null);my(g,A)}return null}function m(g,x,A,E,b){if(typeof E=="string"&&E!==""||typeof E=="number")return g=g.get(A)||null,a(x,g,""+E,b);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case iy:return g=g.get(E.key===null?A:E.key)||null,l(x,g,E,b);case lh:return g=g.get(E.key===null?A:E.key)||null,c(x,g,E,b);case Ha:var C=E._init;return m(g,x,A,C(E._payload),b)}if(kd(E)||ad(E))return g=g.get(A)||null,u(x,g,E,b,null);my(x,E)}return null}function y(g,x,A,E){for(var b=null,C=null,P=x,L=x=0,N=null;P!==null&&L<A.length;L++){P.index>L?(N=P,P=null):N=P.sibling;var M=p(g,P,A[L],E);if(M===null){P===null&&(P=N);break}n&&P&&M.alternate===null&&e(g,P),x=s(M,x,L),C===null?b=M:C.sibling=M,C=M,P=N}if(L===A.length)return t(g,P),Tn&&ac(g,L),b;if(P===null){for(;L<A.length;L++)P=f(g,A[L],E),P!==null&&(x=s(P,x,L),C===null?b=P:C.sibling=P,C=P);return Tn&&ac(g,L),b}for(P=r(g,P);L<A.length;L++)N=m(P,g,L,A[L],E),N!==null&&(n&&N.alternate!==null&&P.delete(N.key===null?L:N.key),x=s(N,x,L),C===null?b=N:C.sibling=N,C=N);return n&&P.forEach(function(D){return e(g,D)}),Tn&&ac(g,L),b}function S(g,x,A,E){var b=ad(A);if(typeof b!="function")throw Error(Le(150));if(A=b.call(A),A==null)throw Error(Le(151));for(var C=b=null,P=x,L=x=0,N=null,M=A.next();P!==null&&!M.done;L++,M=A.next()){P.index>L?(N=P,P=null):N=P.sibling;var D=p(g,P,M.value,E);if(D===null){P===null&&(P=N);break}n&&P&&D.alternate===null&&e(g,P),x=s(D,x,L),C===null?b=D:C.sibling=D,C=D,P=N}if(M.done)return t(g,P),Tn&&ac(g,L),b;if(P===null){for(;!M.done;L++,M=A.next())M=f(g,M.value,E),M!==null&&(x=s(M,x,L),C===null?b=M:C.sibling=M,C=M);return Tn&&ac(g,L),b}for(P=r(g,P);!M.done;L++,M=A.next())M=m(P,g,L,M.value,E),M!==null&&(n&&M.alternate!==null&&P.delete(M.key===null?L:M.key),x=s(M,x,L),C===null?b=M:C.sibling=M,C=M);return n&&P.forEach(function(z){return e(g,z)}),Tn&&ac(g,L),b}function v(g,x,A,E){if(typeof A=="object"&&A!==null&&A.type===ch&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case iy:e:{for(var b=A.key,C=x;C!==null;){if(C.key===b){if(b=A.type,b===ch){if(C.tag===7){t(g,C.sibling),x=i(C,A.props.children),x.return=g,g=x;break e}}else if(C.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Ha&&BI(b)===C.type){t(g,C.sibling),x=i(C,A.props),x.ref=fd(g,C,A),x.return=g,g=x;break e}t(g,C);break}else e(g,C);C=C.sibling}A.type===ch?(x=Dc(A.props.children,g.mode,E,A.key),x.return=g,g=x):(E=W0(A.type,A.key,A.props,null,g.mode,E),E.ref=fd(g,x,A),E.return=g,g=E)}return o(g);case lh:e:{for(C=A.key;x!==null;){if(x.key===C)if(x.tag===4&&x.stateNode.containerInfo===A.containerInfo&&x.stateNode.implementation===A.implementation){t(g,x.sibling),x=i(x,A.children||[]),x.return=g,g=x;break e}else{t(g,x);break}else e(g,x);x=x.sibling}x=XS(A,g.mode,E),x.return=g,g=x}return o(g);case Ha:return C=A._init,v(g,x,C(A._payload),E)}if(kd(A))return y(g,x,A,E);if(ad(A))return S(g,x,A,E);my(g,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,x!==null&&x.tag===6?(t(g,x.sibling),x=i(x,A),x.return=g,g=x):(t(g,x),x=WS(A,g.mode,E),x.return=g,g=x),o(g)):t(g,x)}return v}var Yh=IF(!0),LF=IF(!1),Tm={},So=Ll(Tm),Pp=Ll(Tm),Ip=Ll(Tm);function Sc(n){if(n===Tm)throw Error(Le(174));return n}function gC(n,e){switch(pn(Ip,e),pn(Pp,n),pn(So,Tm),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:$w(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=$w(e,n)}Sn(So),pn(So,e)}function qh(){Sn(So),Sn(Pp),Sn(Ip)}function DF(n){Sc(Ip.current);var e=Sc(So.current),t=$w(e,n.type);e!==t&&(pn(Pp,n),pn(So,t))}function yC(n){Pp.current===n&&(Sn(So),Sn(Pp))}var Rn=Ll(0);function Tv(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var US=[];function vC(){for(var n=0;n<US.length;n++)US[n]._workInProgressVersionPrimary=null;US.length=0}var V0=xa.ReactCurrentDispatcher,VS=xa.ReactCurrentBatchConfig,Xc=0,Ln=null,lr=null,Sr=null,Mv=!1,Zd=!1,Lp=0,VG=0;function Wr(){throw Error(Le(321))}function _C(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Ks(n[t],e[t]))return!1;return!0}function xC(n,e,t,r,i,s){if(Xc=s,Ln=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,V0.current=n===null||n.memoizedState===null?jG:WG,n=t(r,i),Zd){s=0;do{if(Zd=!1,Lp=0,25<=s)throw Error(Le(301));s+=1,Sr=lr=null,e.updateQueue=null,V0.current=XG,n=t(r,i)}while(Zd)}if(V0.current=Cv,e=lr!==null&&lr.next!==null,Xc=0,Sr=lr=Ln=null,Mv=!1,e)throw Error(Le(300));return n}function SC(){var n=Lp!==0;return Lp=0,n}function uo(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sr===null?Ln.memoizedState=Sr=n:Sr=Sr.next=n,Sr}function Ps(){if(lr===null){var n=Ln.alternate;n=n!==null?n.memoizedState:null}else n=lr.next;var e=Sr===null?Ln.memoizedState:Sr.next;if(e!==null)Sr=e,lr=n;else{if(n===null)throw Error(Le(310));lr=n,n={memoizedState:lr.memoizedState,baseState:lr.baseState,baseQueue:lr.baseQueue,queue:lr.queue,next:null},Sr===null?Ln.memoizedState=Sr=n:Sr=Sr.next=n}return Sr}function Dp(n,e){return typeof e=="function"?e(n):e}function zS(n){var e=Ps(),t=e.queue;if(t===null)throw Error(Le(311));t.lastRenderedReducer=n;var r=lr,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Xc&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Ln.lanes|=u,Kc|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Ks(r,e.memoizedState)||(Ri=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,Ln.lanes|=s,Kc|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function HS(n){var e=Ps(),t=e.queue;if(t===null)throw Error(Le(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);Ks(s,e.memoizedState)||(Ri=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function BF(){}function NF(n,e){var t=Ln,r=Ps(),i=e(),s=!Ks(r.memoizedState,i);if(s&&(r.memoizedState=i,Ri=!0),r=r.queue,AC(kF.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||Sr!==null&&Sr.memoizedState.tag&1){if(t.flags|=2048,Bp(9,FF.bind(null,t,r,i,e),void 0,null),Ar===null)throw Error(Le(349));Xc&30||OF(t,e,i)}return i}function OF(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Ln.updateQueue,e===null?(e={lastEffect:null,stores:null},Ln.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function FF(n,e,t,r){e.value=t,e.getSnapshot=r,UF(e)&&VF(n)}function kF(n,e,t){return t(function(){UF(e)&&VF(n)})}function UF(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Ks(n,t)}catch{return!0}}function VF(n){var e=pa(n,1);e!==null&&Ws(e,n,1,-1)}function NI(n){var e=uo();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dp,lastRenderedState:n},e.queue=n,n=n.dispatch=GG.bind(null,Ln,n),[e.memoizedState,n]}function Bp(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Ln.updateQueue,e===null?(e={lastEffect:null,stores:null},Ln.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function zF(){return Ps().memoizedState}function z0(n,e,t,r){var i=uo();Ln.flags|=n,i.memoizedState=Bp(1|e,t,void 0,r===void 0?null:r)}function U_(n,e,t,r){var i=Ps();r=r===void 0?null:r;var s=void 0;if(lr!==null){var o=lr.memoizedState;if(s=o.destroy,r!==null&&_C(r,o.deps)){i.memoizedState=Bp(e,t,s,r);return}}Ln.flags|=n,i.memoizedState=Bp(1|e,t,s,r)}function OI(n,e){return z0(8390656,8,n,e)}function AC(n,e){return U_(2048,8,n,e)}function HF(n,e){return U_(4,2,n,e)}function GF(n,e){return U_(4,4,n,e)}function jF(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function WF(n,e,t){return t=t!=null?t.concat([n]):null,U_(4,4,jF.bind(null,e,n),t)}function wC(){}function XF(n,e){var t=Ps();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&_C(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function KF(n,e){var t=Ps();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&_C(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function JF(n,e,t){return Xc&21?(Ks(t,e)||(t=qO(),Ln.lanes|=t,Kc|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Ri=!0),n.memoizedState=t)}function zG(n,e){var t=ln;ln=t!==0&&4>t?t:4,n(!0);var r=VS.transition;VS.transition={};try{n(!1),e()}finally{ln=t,VS.transition=r}}function $F(){return Ps().memoizedState}function HG(n,e,t){var r=ll(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},YF(n))qF(e,t);else if(t=CF(n,e,t,r),t!==null){var i=_i();Ws(t,n,r,i),QF(t,e,r)}}function GG(n,e,t){var r=ll(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(YF(n))qF(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,Ks(a,o)){var l=e.interleaved;l===null?(i.next=i,pC(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=CF(n,e,i,r),t!==null&&(i=_i(),Ws(t,n,r,i),QF(t,e,r))}}function YF(n){var e=n.alternate;return n===Ln||e!==null&&e===Ln}function qF(n,e){Zd=Mv=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function QF(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,eC(n,t)}}var Cv={readContext:Rs,useCallback:Wr,useContext:Wr,useEffect:Wr,useImperativeHandle:Wr,useInsertionEffect:Wr,useLayoutEffect:Wr,useMemo:Wr,useReducer:Wr,useRef:Wr,useState:Wr,useDebugValue:Wr,useDeferredValue:Wr,useTransition:Wr,useMutableSource:Wr,useSyncExternalStore:Wr,useId:Wr,unstable_isNewReconciler:!1},jG={readContext:Rs,useCallback:function(n,e){return uo().memoizedState=[n,e===void 0?null:e],n},useContext:Rs,useEffect:OI,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,z0(4194308,4,jF.bind(null,e,n),t)},useLayoutEffect:function(n,e){return z0(4194308,4,n,e)},useInsertionEffect:function(n,e){return z0(4,2,n,e)},useMemo:function(n,e){var t=uo();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=uo();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=HG.bind(null,Ln,n),[r.memoizedState,n]},useRef:function(n){var e=uo();return n={current:n},e.memoizedState=n},useState:NI,useDebugValue:wC,useDeferredValue:function(n){return uo().memoizedState=n},useTransition:function(){var n=NI(!1),e=n[0];return n=zG.bind(null,n[1]),uo().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=Ln,i=uo();if(Tn){if(t===void 0)throw Error(Le(407));t=t()}else{if(t=e(),Ar===null)throw Error(Le(349));Xc&30||OF(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,OI(kF.bind(null,r,s,n),[n]),r.flags|=2048,Bp(9,FF.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=uo(),e=Ar.identifierPrefix;if(Tn){var t=ta,r=ea;t=(r&~(1<<32-js(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=Lp++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=VG++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},WG={readContext:Rs,useCallback:XF,useContext:Rs,useEffect:AC,useImperativeHandle:WF,useInsertionEffect:HF,useLayoutEffect:GF,useMemo:KF,useReducer:zS,useRef:zF,useState:function(){return zS(Dp)},useDebugValue:wC,useDeferredValue:function(n){var e=Ps();return JF(e,lr.memoizedState,n)},useTransition:function(){var n=zS(Dp)[0],e=Ps().memoizedState;return[n,e]},useMutableSource:BF,useSyncExternalStore:NF,useId:$F,unstable_isNewReconciler:!1},XG={readContext:Rs,useCallback:XF,useContext:Rs,useEffect:AC,useImperativeHandle:WF,useInsertionEffect:HF,useLayoutEffect:GF,useMemo:KF,useReducer:HS,useRef:zF,useState:function(){return HS(Dp)},useDebugValue:wC,useDeferredValue:function(n){var e=Ps();return lr===null?e.memoizedState=n:JF(e,lr.memoizedState,n)},useTransition:function(){var n=HS(Dp)[0],e=Ps().memoizedState;return[n,e]},useMutableSource:BF,useSyncExternalStore:NF,useId:$F,unstable_isNewReconciler:!1};function Qh(n,e){try{var t="",r=e;do t+=xH(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function GS(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function vE(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var KG=typeof WeakMap=="function"?WeakMap:Map;function ZF(n,e,t){t=aa(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){Rv||(Rv=!0,bE=r),vE(n,e)},t}function e4(n,e,t){t=aa(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){vE(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){vE(n,e),typeof r!="function"&&(al===null?al=new Set([this]):al.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function FI(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new KG;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=aj.bind(null,n,e,t),e.then(n,n))}function kI(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function UI(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=aa(-1,1),e.tag=2,ol(t,e,1))),t.lanes|=1),n)}var JG=xa.ReactCurrentOwner,Ri=!1;function pi(n,e,t,r){e.child=n===null?LF(e,null,t,r):Yh(e,n.child,t,r)}function VI(n,e,t,r,i){t=t.render;var s=e.ref;return Nh(e,i),r=xC(n,e,t,r,s,i),t=SC(),n!==null&&!Ri?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,ma(n,e,i)):(Tn&&t&&lC(e),e.flags|=1,pi(n,e,r,i),e.child)}function zI(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!IC(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,t4(n,e,s,r,i)):(n=W0(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Mp,t(o,r)&&n.ref===e.ref)return ma(n,e,i)}return e.flags|=1,n=cl(s,r),n.ref=e.ref,n.return=e,e.child=n}function t4(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(Mp(s,r)&&n.ref===e.ref)if(Ri=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(Ri=!0);else return e.lanes=n.lanes,ma(n,e,i)}return _E(n,e,t,r,i)}function n4(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},pn(_h,Gi),Gi|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,pn(_h,Gi),Gi|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,pn(_h,Gi),Gi|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,pn(_h,Gi),Gi|=r;return pi(n,e,i,t),e.child}function r4(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function _E(n,e,t,r,i){var s=Ii(t)?jc:ri.current;return s=Jh(e,s),Nh(e,i),t=xC(n,e,t,r,s,i),r=SC(),n!==null&&!Ri?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,ma(n,e,i)):(Tn&&r&&lC(e),e.flags|=1,pi(n,e,t,i),e.child)}function HI(n,e,t,r,i){if(Ii(t)){var s=!0;_v(e)}else s=!1;if(Nh(e,i),e.stateNode===null)H0(n,e),PF(e,t,r),yE(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=Rs(c):(c=Ii(t)?jc:ri.current,c=Jh(e,c));var u=t.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&DI(e,o,r,c),Ga=!1;var p=e.memoizedState;o.state=p,Ev(e,r,o,i),l=e.memoizedState,a!==r||p!==l||Pi.current||Ga?(typeof u=="function"&&(gE(e,t,u,r),l=e.memoizedState),(a=Ga||LI(e,t,a,r,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,bF(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:Fs(e.type,a),o.props=c,f=e.pendingProps,p=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Rs(l):(l=Ii(t)?jc:ri.current,l=Jh(e,l));var m=t.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&DI(e,o,r,l),Ga=!1,p=e.memoizedState,o.state=p,Ev(e,r,o,i);var y=e.memoizedState;a!==f||p!==y||Pi.current||Ga?(typeof m=="function"&&(gE(e,t,m,r),y=e.memoizedState),(c=Ga||LI(e,t,c,r,p,y,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),r=!1)}return xE(n,e,t,r,s,i)}function xE(n,e,t,r,i,s){r4(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&CI(e,t,!1),ma(n,e,s);r=e.stateNode,JG.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=Yh(e,n.child,null,s),e.child=Yh(e,null,a,s)):pi(n,e,a,s),e.memoizedState=r.state,i&&CI(e,t,!0),e.child}function i4(n){var e=n.stateNode;e.pendingContext?MI(n,e.pendingContext,e.pendingContext!==e.context):e.context&&MI(n,e.context,!1),gC(n,e.containerInfo)}function GI(n,e,t,r,i){return $h(),uC(i),e.flags|=256,pi(n,e,t,r),e.child}var SE={dehydrated:null,treeContext:null,retryLane:0};function AE(n){return{baseLanes:n,cachePool:null,transitions:null}}function s4(n,e,t){var r=e.pendingProps,i=Rn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),pn(Rn,i&1),n===null)return pE(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=H_(o,r,0,null),n=Dc(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=AE(t),e.memoizedState=SE,n):EC(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return $G(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=cl(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=cl(a,s):(s=Dc(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?AE(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=SE,r}return s=n.child,n=s.sibling,r=cl(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function EC(n,e){return e=H_({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function gy(n,e,t,r){return r!==null&&uC(r),Yh(e,n.child,null,t),n=EC(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function $G(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=GS(Error(Le(422))),gy(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=H_({mode:"visible",children:r.children},i,0,null),s=Dc(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Yh(e,n.child,null,o),e.child.memoizedState=AE(o),e.memoizedState=SE,s);if(!(e.mode&1))return gy(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Le(419)),r=GS(s,r,void 0),gy(n,e,o,r)}if(a=(o&n.childLanes)!==0,Ri||a){if(r=Ar,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,pa(n,i),Ws(r,n,i,-1))}return PC(),r=GS(Error(Le(421))),gy(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=lj.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,Xi=sl(i.nextSibling),$i=e,Tn=!0,Vs=null,n!==null&&(xs[Ss++]=ea,xs[Ss++]=ta,xs[Ss++]=Wc,ea=n.id,ta=n.overflow,Wc=e),e=EC(e,r.children),e.flags|=4096,e)}function jI(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),mE(n.return,e,t)}function jS(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function o4(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(pi(n,e,r.children,t),r=Rn.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&jI(n,t,e);else if(n.tag===19)jI(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(pn(Rn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&Tv(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),jS(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&Tv(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}jS(e,!0,t,null,s);break;case"together":jS(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function H0(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function ma(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Kc|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Le(153));if(e.child!==null){for(n=e.child,t=cl(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=cl(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function YG(n,e,t){switch(e.tag){case 3:i4(e),$h();break;case 5:DF(e);break;case 1:Ii(e.type)&&_v(e);break;case 4:gC(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;pn(Av,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(pn(Rn,Rn.current&1),e.flags|=128,null):t&e.child.childLanes?s4(n,e,t):(pn(Rn,Rn.current&1),n=ma(n,e,t),n!==null?n.sibling:null);pn(Rn,Rn.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return o4(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),pn(Rn,Rn.current),r)break;return null;case 22:case 23:return e.lanes=0,n4(n,e,t)}return ma(n,e,t)}var a4,wE,l4,c4;a4=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};wE=function(){};l4=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,Sc(So.current);var s=null;switch(t){case"input":i=Ww(n,i),r=Ww(n,r),s=[];break;case"select":i=Dn({},i,{value:void 0}),r=Dn({},r,{value:void 0}),s=[];break;case"textarea":i=Jw(n,i),r=Jw(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=yv)}Yw(t,r);var o;t=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(_p.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(_p.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&gn("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};c4=function(n,e,t,r){t!==r&&(e.flags|=4)};function dd(n,e){if(!Tn)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Xr(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function qG(n,e,t){var r=e.pendingProps;switch(cC(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xr(e),null;case 1:return Ii(e.type)&&vv(),Xr(e),null;case 3:return r=e.stateNode,qh(),Sn(Pi),Sn(ri),vC(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(py(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Vs!==null&&(IE(Vs),Vs=null))),wE(n,e),Xr(e),null;case 5:yC(e);var i=Sc(Ip.current);if(t=e.type,n!==null&&e.stateNode!=null)l4(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Le(166));return Xr(e),null}if(n=Sc(So.current),py(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[fo]=e,r[Rp]=s,n=(e.mode&1)!==0,t){case"dialog":gn("cancel",r),gn("close",r);break;case"iframe":case"object":case"embed":gn("load",r);break;case"video":case"audio":for(i=0;i<Vd.length;i++)gn(Vd[i],r);break;case"source":gn("error",r);break;case"img":case"image":case"link":gn("error",r),gn("load",r);break;case"details":gn("toggle",r);break;case"input":ZP(r,s),gn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},gn("invalid",r);break;case"textarea":tI(r,s),gn("invalid",r)}Yw(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&dy(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&dy(r.textContent,a,n),i=["children",""+a]):_p.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&gn("scroll",r)}switch(t){case"input":sy(r),eI(r,s,!0);break;case"textarea":sy(r),nI(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=yv)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=OO(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[fo]=e,n[Rp]=r,a4(n,e,!1,!1),e.stateNode=n;e:{switch(o=qw(t,r),t){case"dialog":gn("cancel",n),gn("close",n),i=r;break;case"iframe":case"object":case"embed":gn("load",n),i=r;break;case"video":case"audio":for(i=0;i<Vd.length;i++)gn(Vd[i],n);i=r;break;case"source":gn("error",n),i=r;break;case"img":case"image":case"link":gn("error",n),gn("load",n),i=r;break;case"details":gn("toggle",n),i=r;break;case"input":ZP(n,r),i=Ww(n,r),gn("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=Dn({},r,{value:void 0}),gn("invalid",n);break;case"textarea":tI(n,r),i=Jw(n,r),gn("invalid",n);break;default:i=r}Yw(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?UO(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&FO(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&xp(n,l):typeof l=="number"&&xp(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(_p.hasOwnProperty(s)?l!=null&&s==="onScroll"&&gn("scroll",n):l!=null&&JM(n,s,l,o))}switch(t){case"input":sy(n),eI(n,r,!1);break;case"textarea":sy(n),nI(n);break;case"option":r.value!=null&&n.setAttribute("value",""+vl(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?Ih(n,!!r.multiple,s,!1):r.defaultValue!=null&&Ih(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=yv)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Xr(e),null;case 6:if(n&&e.stateNode!=null)c4(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Le(166));if(t=Sc(Ip.current),Sc(So.current),py(e)){if(r=e.stateNode,t=e.memoizedProps,r[fo]=e,(s=r.nodeValue!==t)&&(n=$i,n!==null))switch(n.tag){case 3:dy(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&dy(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[fo]=e,e.stateNode=r}return Xr(e),null;case 13:if(Sn(Rn),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Tn&&Xi!==null&&e.mode&1&&!(e.flags&128))MF(),$h(),e.flags|=98560,s=!1;else if(s=py(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(Le(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Le(317));s[fo]=e}else $h(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Xr(e),s=!1}else Vs!==null&&(IE(Vs),Vs=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||Rn.current&1?hr===0&&(hr=3):PC())),e.updateQueue!==null&&(e.flags|=4),Xr(e),null);case 4:return qh(),wE(n,e),n===null&&Cp(e.stateNode.containerInfo),Xr(e),null;case 10:return dC(e.type._context),Xr(e),null;case 17:return Ii(e.type)&&vv(),Xr(e),null;case 19:if(Sn(Rn),s=e.memoizedState,s===null)return Xr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)dd(s,!1);else{if(hr!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=Tv(n),o!==null){for(e.flags|=128,dd(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return pn(Rn,Rn.current&1|2),e.child}n=n.sibling}s.tail!==null&&Kn()>Zh&&(e.flags|=128,r=!0,dd(s,!1),e.lanes=4194304)}else{if(!r)if(n=Tv(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),dd(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Tn)return Xr(e),null}else 2*Kn()-s.renderingStartTime>Zh&&t!==1073741824&&(e.flags|=128,r=!0,dd(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Kn(),e.sibling=null,t=Rn.current,pn(Rn,r?t&1|2:t&1),e):(Xr(e),null);case 22:case 23:return RC(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Gi&1073741824&&(Xr(e),e.subtreeFlags&6&&(e.flags|=8192)):Xr(e),null;case 24:return null;case 25:return null}throw Error(Le(156,e.tag))}function QG(n,e){switch(cC(e),e.tag){case 1:return Ii(e.type)&&vv(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return qh(),Sn(Pi),Sn(ri),vC(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return yC(e),null;case 13:if(Sn(Rn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Le(340));$h()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Sn(Rn),null;case 4:return qh(),null;case 10:return dC(e.type._context),null;case 22:case 23:return RC(),null;case 24:return null;default:return null}}var yy=!1,Qr=!1,ZG=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function vh(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Fn(n,e,r)}else t.current=null}function EE(n,e,t){try{t()}catch(r){Fn(n,e,r)}}var WI=!1;function ej(n,e){if(aE=pv,n=dF(),aC(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,u=0,f=n,p=null;t:for(;;){for(var m;f!==t||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===n)break t;if(p===t&&++c===i&&(a=o),p===s&&++u===r&&(l=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(lE={focusedElem:n,selectionRange:t},pv=!1,Qe=e;Qe!==null;)if(e=Qe,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Qe=n;else for(;Qe!==null;){e=Qe;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var S=y.memoizedProps,v=y.memoizedState,g=e.stateNode,x=g.getSnapshotBeforeUpdate(e.elementType===e.type?S:Fs(e.type,S),v);g.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Le(163))}}catch(E){Fn(e,e.return,E)}if(n=e.sibling,n!==null){n.return=e.return,Qe=n;break}Qe=e.return}return y=WI,WI=!1,y}function ep(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&EE(e,t,s)}i=i.next}while(i!==r)}}function V_(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function TE(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function u4(n){var e=n.alternate;e!==null&&(n.alternate=null,u4(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[fo],delete e[Rp],delete e[hE],delete e[OG],delete e[FG])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function h4(n){return n.tag===5||n.tag===3||n.tag===4}function XI(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||h4(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function ME(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=yv));else if(r!==4&&(n=n.child,n!==null))for(ME(n,e,t),n=n.sibling;n!==null;)ME(n,e,t),n=n.sibling}function CE(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(CE(n,e,t),n=n.sibling;n!==null;)CE(n,e,t),n=n.sibling}var Lr=null,Us=!1;function Pa(n,e,t){for(t=t.child;t!==null;)f4(n,e,t),t=t.sibling}function f4(n,e,t){if(xo&&typeof xo.onCommitFiberUnmount=="function")try{xo.onCommitFiberUnmount(L_,t)}catch{}switch(t.tag){case 5:Qr||vh(t,e);case 6:var r=Lr,i=Us;Lr=null,Pa(n,e,t),Lr=r,Us=i,Lr!==null&&(Us?(n=Lr,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Lr.removeChild(t.stateNode));break;case 18:Lr!==null&&(Us?(n=Lr,t=t.stateNode,n.nodeType===8?FS(n.parentNode,t):n.nodeType===1&&FS(n,t),Ep(n)):FS(Lr,t.stateNode));break;case 4:r=Lr,i=Us,Lr=t.stateNode.containerInfo,Us=!0,Pa(n,e,t),Lr=r,Us=i;break;case 0:case 11:case 14:case 15:if(!Qr&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&EE(t,e,o),i=i.next}while(i!==r)}Pa(n,e,t);break;case 1:if(!Qr&&(vh(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){Fn(t,e,a)}Pa(n,e,t);break;case 21:Pa(n,e,t);break;case 22:t.mode&1?(Qr=(r=Qr)||t.memoizedState!==null,Pa(n,e,t),Qr=r):Pa(n,e,t);break;default:Pa(n,e,t)}}function KI(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new ZG),e.forEach(function(r){var i=cj.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function Ds(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Lr=a.stateNode,Us=!1;break e;case 3:Lr=a.stateNode.containerInfo,Us=!0;break e;case 4:Lr=a.stateNode.containerInfo,Us=!0;break e}a=a.return}if(Lr===null)throw Error(Le(160));f4(s,o,i),Lr=null,Us=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Fn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)d4(e,n),e=e.sibling}function d4(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Ds(e,n),co(n),r&4){try{ep(3,n,n.return),V_(3,n)}catch(S){Fn(n,n.return,S)}try{ep(5,n,n.return)}catch(S){Fn(n,n.return,S)}}break;case 1:Ds(e,n),co(n),r&512&&t!==null&&vh(t,t.return);break;case 5:if(Ds(e,n),co(n),r&512&&t!==null&&vh(t,t.return),n.flags&32){var i=n.stateNode;try{xp(i,"")}catch(S){Fn(n,n.return,S)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&BO(i,s),qw(a,o);var c=qw(a,s);for(o=0;o<l.length;o+=2){var u=l[o],f=l[o+1];u==="style"?UO(i,f):u==="dangerouslySetInnerHTML"?FO(i,f):u==="children"?xp(i,f):JM(i,u,f,c)}switch(a){case"input":Xw(i,s);break;case"textarea":NO(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Ih(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?Ih(i,!!s.multiple,s.defaultValue,!0):Ih(i,!!s.multiple,s.multiple?[]:"",!1))}i[Rp]=s}catch(S){Fn(n,n.return,S)}}break;case 6:if(Ds(e,n),co(n),r&4){if(n.stateNode===null)throw Error(Le(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(S){Fn(n,n.return,S)}}break;case 3:if(Ds(e,n),co(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{Ep(e.containerInfo)}catch(S){Fn(n,n.return,S)}break;case 4:Ds(e,n),co(n);break;case 13:Ds(e,n),co(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(CC=Kn())),r&4&&KI(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(Qr=(c=Qr)||u,Ds(e,n),Qr=c):Ds(e,n),co(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!u&&n.mode&1)for(Qe=n,u=n.child;u!==null;){for(f=Qe=u;Qe!==null;){switch(p=Qe,m=p.child,p.tag){case 0:case 11:case 14:case 15:ep(4,p,p.return);break;case 1:vh(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){r=p,t=p.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(S){Fn(r,t,S)}}break;case 5:vh(p,p.return);break;case 22:if(p.memoizedState!==null){$I(f);continue}}m!==null?(m.return=p,Qe=m):$I(f)}u=u.sibling}e:for(u=null,f=n;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=kO("display",o))}catch(S){Fn(n,n.return,S)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(S){Fn(n,n.return,S)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===n)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break e;for(;f.sibling===null;){if(f.return===null||f.return===n)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ds(e,n),co(n),r&4&&KI(n);break;case 21:break;default:Ds(e,n),co(n)}}function co(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(h4(t)){var r=t;break e}t=t.return}throw Error(Le(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(xp(i,""),r.flags&=-33);var s=XI(n);CE(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=XI(n);ME(n,a,o);break;default:throw Error(Le(161))}}catch(l){Fn(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function tj(n,e,t){Qe=n,p4(n)}function p4(n,e,t){for(var r=(n.mode&1)!==0;Qe!==null;){var i=Qe,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||yy;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Qr;a=yy;var c=Qr;if(yy=o,(Qr=l)&&!c)for(Qe=i;Qe!==null;)o=Qe,l=o.child,o.tag===22&&o.memoizedState!==null?YI(i):l!==null?(l.return=o,Qe=l):YI(i);for(;s!==null;)Qe=s,p4(s),s=s.sibling;Qe=i,yy=a,Qr=c}JI(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Qe=s):JI(n)}}function JI(n){for(;Qe!==null;){var e=Qe;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Qr||V_(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Qr)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:Fs(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&II(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}II(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Ep(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Le(163))}Qr||e.flags&512&&TE(e)}catch(p){Fn(e,e.return,p)}}if(e===n){Qe=null;break}if(t=e.sibling,t!==null){t.return=e.return,Qe=t;break}Qe=e.return}}function $I(n){for(;Qe!==null;){var e=Qe;if(e===n){Qe=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Qe=t;break}Qe=e.return}}function YI(n){for(;Qe!==null;){var e=Qe;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{V_(4,e)}catch(l){Fn(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Fn(e,i,l)}}var s=e.return;try{TE(e)}catch(l){Fn(e,s,l)}break;case 5:var o=e.return;try{TE(e)}catch(l){Fn(e,o,l)}}}catch(l){Fn(e,e.return,l)}if(e===n){Qe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Qe=a;break}Qe=e.return}}var nj=Math.ceil,bv=xa.ReactCurrentDispatcher,TC=xa.ReactCurrentOwner,bs=xa.ReactCurrentBatchConfig,Qt=0,Ar=null,nr=null,Or=0,Gi=0,_h=Ll(0),hr=0,Np=null,Kc=0,z_=0,MC=0,tp=null,bi=null,CC=0,Zh=1/0,Yo=null,Rv=!1,bE=null,al=null,vy=!1,Qa=null,Pv=0,np=0,RE=null,G0=-1,j0=0;function _i(){return Qt&6?Kn():G0!==-1?G0:G0=Kn()}function ll(n){return n.mode&1?Qt&2&&Or!==0?Or&-Or:UG.transition!==null?(j0===0&&(j0=qO()),j0):(n=ln,n!==0||(n=window.event,n=n===void 0?16:iF(n.type)),n):1}function Ws(n,e,t,r){if(50<np)throw np=0,RE=null,Error(Le(185));Am(n,t,r),(!(Qt&2)||n!==Ar)&&(n===Ar&&(!(Qt&2)&&(z_|=t),hr===4&&Ja(n,Or)),Li(n,r),t===1&&Qt===0&&!(e.mode&1)&&(Zh=Kn()+500,F_&&Dl()))}function Li(n,e){var t=n.callbackNode;UH(n,e);var r=dv(n,n===Ar?Or:0);if(r===0)t!==null&&sI(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&sI(t),e===1)n.tag===0?kG(qI.bind(null,n)):wF(qI.bind(null,n)),BG(function(){!(Qt&6)&&Dl()}),t=null;else{switch(QO(r)){case 1:t=ZM;break;case 4:t=$O;break;case 16:t=fv;break;case 536870912:t=YO;break;default:t=fv}t=A4(t,m4.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function m4(n,e){if(G0=-1,j0=0,Qt&6)throw Error(Le(327));var t=n.callbackNode;if(Oh()&&n.callbackNode!==t)return null;var r=dv(n,n===Ar?Or:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=Iv(n,r);else{e=r;var i=Qt;Qt|=2;var s=y4();(Ar!==n||Or!==e)&&(Yo=null,Zh=Kn()+500,Lc(n,e));do try{sj();break}catch(a){g4(n,a)}while(!0);fC(),bv.current=s,Qt=i,nr!==null?e=0:(Ar=null,Or=0,e=hr)}if(e!==0){if(e===2&&(i=nE(n),i!==0&&(r=i,e=PE(n,i))),e===1)throw t=Np,Lc(n,0),Ja(n,r),Li(n,Kn()),t;if(e===6)Ja(n,r);else{if(i=n.current.alternate,!(r&30)&&!rj(i)&&(e=Iv(n,r),e===2&&(s=nE(n),s!==0&&(r=s,e=PE(n,s))),e===1))throw t=Np,Lc(n,0),Ja(n,r),Li(n,Kn()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(Le(345));case 2:lc(n,bi,Yo);break;case 3:if(Ja(n,r),(r&130023424)===r&&(e=CC+500-Kn(),10<e)){if(dv(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){_i(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=uE(lc.bind(null,n,bi,Yo),e);break}lc(n,bi,Yo);break;case 4:if(Ja(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-js(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Kn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*nj(r/1960))-r,10<r){n.timeoutHandle=uE(lc.bind(null,n,bi,Yo),r);break}lc(n,bi,Yo);break;case 5:lc(n,bi,Yo);break;default:throw Error(Le(329))}}}return Li(n,Kn()),n.callbackNode===t?m4.bind(null,n):null}function PE(n,e){var t=tp;return n.current.memoizedState.isDehydrated&&(Lc(n,e).flags|=256),n=Iv(n,e),n!==2&&(e=bi,bi=t,e!==null&&IE(e)),n}function IE(n){bi===null?bi=n:bi.push.apply(bi,n)}function rj(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!Ks(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ja(n,e){for(e&=~MC,e&=~z_,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-js(e),r=1<<t;n[t]=-1,e&=~r}}function qI(n){if(Qt&6)throw Error(Le(327));Oh();var e=dv(n,0);if(!(e&1))return Li(n,Kn()),null;var t=Iv(n,e);if(n.tag!==0&&t===2){var r=nE(n);r!==0&&(e=r,t=PE(n,r))}if(t===1)throw t=Np,Lc(n,0),Ja(n,e),Li(n,Kn()),t;if(t===6)throw Error(Le(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,lc(n,bi,Yo),Li(n,Kn()),null}function bC(n,e){var t=Qt;Qt|=1;try{return n(e)}finally{Qt=t,Qt===0&&(Zh=Kn()+500,F_&&Dl())}}function Jc(n){Qa!==null&&Qa.tag===0&&!(Qt&6)&&Oh();var e=Qt;Qt|=1;var t=bs.transition,r=ln;try{if(bs.transition=null,ln=1,n)return n()}finally{ln=r,bs.transition=t,Qt=e,!(Qt&6)&&Dl()}}function RC(){Gi=_h.current,Sn(_h)}function Lc(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,DG(t)),nr!==null)for(t=nr.return;t!==null;){var r=t;switch(cC(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&vv();break;case 3:qh(),Sn(Pi),Sn(ri),vC();break;case 5:yC(r);break;case 4:qh();break;case 13:Sn(Rn);break;case 19:Sn(Rn);break;case 10:dC(r.type._context);break;case 22:case 23:RC()}t=t.return}if(Ar=n,nr=n=cl(n.current,null),Or=Gi=e,hr=0,Np=null,MC=z_=Kc=0,bi=tp=null,xc!==null){for(e=0;e<xc.length;e++)if(t=xc[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}xc=null}return n}function g4(n,e){do{var t=nr;try{if(fC(),V0.current=Cv,Mv){for(var r=Ln.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Mv=!1}if(Xc=0,Sr=lr=Ln=null,Zd=!1,Lp=0,TC.current=null,t===null||t.return===null){hr=1,Np=e,nr=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=Or,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=kI(o);if(m!==null){m.flags&=-257,UI(m,o,a,s,e),m.mode&1&&FI(s,c,e),e=m,l=c;var y=e.updateQueue;if(y===null){var S=new Set;S.add(l),e.updateQueue=S}else y.add(l);break e}else{if(!(e&1)){FI(s,c,e),PC();break e}l=Error(Le(426))}}else if(Tn&&a.mode&1){var v=kI(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),UI(v,o,a,s,e),uC(Qh(l,a));break e}}s=l=Qh(l,a),hr!==4&&(hr=2),tp===null?tp=[s]:tp.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=ZF(s,l,e);PI(s,g);break e;case 1:a=l;var x=s.type,A=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(al===null||!al.has(A)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=e4(s,a,e);PI(s,E);break e}}s=s.return}while(s!==null)}_4(t)}catch(b){e=b,nr===t&&t!==null&&(nr=t=t.return);continue}break}while(!0)}function y4(){var n=bv.current;return bv.current=Cv,n===null?Cv:n}function PC(){(hr===0||hr===3||hr===2)&&(hr=4),Ar===null||!(Kc&268435455)&&!(z_&268435455)||Ja(Ar,Or)}function Iv(n,e){var t=Qt;Qt|=2;var r=y4();(Ar!==n||Or!==e)&&(Yo=null,Lc(n,e));do try{ij();break}catch(i){g4(n,i)}while(!0);if(fC(),Qt=t,bv.current=r,nr!==null)throw Error(Le(261));return Ar=null,Or=0,hr}function ij(){for(;nr!==null;)v4(nr)}function sj(){for(;nr!==null&&!PH();)v4(nr)}function v4(n){var e=S4(n.alternate,n,Gi);n.memoizedProps=n.pendingProps,e===null?_4(n):nr=e,TC.current=null}function _4(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=QG(t,e),t!==null){t.flags&=32767,nr=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{hr=6,nr=null;return}}else if(t=qG(t,e,Gi),t!==null){nr=t;return}if(e=e.sibling,e!==null){nr=e;return}nr=e=n}while(e!==null);hr===0&&(hr=5)}function lc(n,e,t){var r=ln,i=bs.transition;try{bs.transition=null,ln=1,oj(n,e,t,r)}finally{bs.transition=i,ln=r}return null}function oj(n,e,t,r){do Oh();while(Qa!==null);if(Qt&6)throw Error(Le(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Le(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(VH(n,s),n===Ar&&(nr=Ar=null,Or=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||vy||(vy=!0,A4(fv,function(){return Oh(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=bs.transition,bs.transition=null;var o=ln;ln=1;var a=Qt;Qt|=4,TC.current=null,ej(n,t),d4(t,n),MG(lE),pv=!!aE,lE=aE=null,n.current=t,tj(t),IH(),Qt=a,ln=o,bs.transition=s}else n.current=t;if(vy&&(vy=!1,Qa=n,Pv=i),s=n.pendingLanes,s===0&&(al=null),BH(t.stateNode),Li(n,Kn()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(Rv)throw Rv=!1,n=bE,bE=null,n;return Pv&1&&n.tag!==0&&Oh(),s=n.pendingLanes,s&1?n===RE?np++:(np=0,RE=n):np=0,Dl(),null}function Oh(){if(Qa!==null){var n=QO(Pv),e=bs.transition,t=ln;try{if(bs.transition=null,ln=16>n?16:n,Qa===null)var r=!1;else{if(n=Qa,Qa=null,Pv=0,Qt&6)throw Error(Le(331));var i=Qt;for(Qt|=4,Qe=n.current;Qe!==null;){var s=Qe,o=s.child;if(Qe.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Qe=c;Qe!==null;){var u=Qe;switch(u.tag){case 0:case 11:case 15:ep(8,u,s)}var f=u.child;if(f!==null)f.return=u,Qe=f;else for(;Qe!==null;){u=Qe;var p=u.sibling,m=u.return;if(u4(u),u===c){Qe=null;break}if(p!==null){p.return=m,Qe=p;break}Qe=m}}}var y=s.alternate;if(y!==null){var S=y.child;if(S!==null){y.child=null;do{var v=S.sibling;S.sibling=null,S=v}while(S!==null)}}Qe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Qe=o;else e:for(;Qe!==null;){if(s=Qe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ep(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,Qe=g;break e}Qe=s.return}}var x=n.current;for(Qe=x;Qe!==null;){o=Qe;var A=o.child;if(o.subtreeFlags&2064&&A!==null)A.return=o,Qe=A;else e:for(o=x;Qe!==null;){if(a=Qe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:V_(9,a)}}catch(b){Fn(a,a.return,b)}if(a===o){Qe=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,Qe=E;break e}Qe=a.return}}if(Qt=i,Dl(),xo&&typeof xo.onPostCommitFiberRoot=="function")try{xo.onPostCommitFiberRoot(L_,n)}catch{}r=!0}return r}finally{ln=t,bs.transition=e}}return!1}function QI(n,e,t){e=Qh(t,e),e=ZF(n,e,1),n=ol(n,e,1),e=_i(),n!==null&&(Am(n,1,e),Li(n,e))}function Fn(n,e,t){if(n.tag===3)QI(n,n,t);else for(;e!==null;){if(e.tag===3){QI(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(al===null||!al.has(r))){n=Qh(t,n),n=e4(e,n,1),e=ol(e,n,1),n=_i(),e!==null&&(Am(e,1,n),Li(e,n));break}}e=e.return}}function aj(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=_i(),n.pingedLanes|=n.suspendedLanes&t,Ar===n&&(Or&t)===t&&(hr===4||hr===3&&(Or&130023424)===Or&&500>Kn()-CC?Lc(n,0):MC|=t),Li(n,e)}function x4(n,e){e===0&&(n.mode&1?(e=ly,ly<<=1,!(ly&130023424)&&(ly=4194304)):e=1);var t=_i();n=pa(n,e),n!==null&&(Am(n,e,t),Li(n,t))}function lj(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),x4(n,t)}function cj(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(Le(314))}r!==null&&r.delete(e),x4(n,t)}var S4;S4=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Pi.current)Ri=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Ri=!1,YG(n,e,t);Ri=!!(n.flags&131072)}else Ri=!1,Tn&&e.flags&1048576&&EF(e,Sv,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;H0(n,e),n=e.pendingProps;var i=Jh(e,ri.current);Nh(e,t),i=xC(null,e,r,n,i,t);var s=SC();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ii(r)?(s=!0,_v(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,mC(e),i.updater=k_,e.stateNode=i,i._reactInternals=e,yE(e,r,n,t),e=xE(null,e,r,!0,s,t)):(e.tag=0,Tn&&s&&lC(e),pi(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(H0(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=hj(r),n=Fs(r,n),i){case 0:e=_E(null,e,r,n,t);break e;case 1:e=HI(null,e,r,n,t);break e;case 11:e=VI(null,e,r,n,t);break e;case 14:e=zI(null,e,r,Fs(r.type,n),t);break e}throw Error(Le(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fs(r,i),_E(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fs(r,i),HI(n,e,r,i,t);case 3:e:{if(i4(e),n===null)throw Error(Le(387));r=e.pendingProps,s=e.memoizedState,i=s.element,bF(n,e),Ev(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Qh(Error(Le(423)),e),e=GI(n,e,r,t,i);break e}else if(r!==i){i=Qh(Error(Le(424)),e),e=GI(n,e,r,t,i);break e}else for(Xi=sl(e.stateNode.containerInfo.firstChild),$i=e,Tn=!0,Vs=null,t=LF(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if($h(),r===i){e=ma(n,e,t);break e}pi(n,e,r,t)}e=e.child}return e;case 5:return DF(e),n===null&&pE(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,cE(r,i)?o=null:s!==null&&cE(r,s)&&(e.flags|=32),r4(n,e),pi(n,e,o,t),e.child;case 6:return n===null&&pE(e),null;case 13:return s4(n,e,t);case 4:return gC(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Yh(e,null,r,t):pi(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fs(r,i),VI(n,e,r,i,t);case 7:return pi(n,e,e.pendingProps,t),e.child;case 8:return pi(n,e,e.pendingProps.children,t),e.child;case 12:return pi(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,pn(Av,r._currentValue),r._currentValue=o,s!==null)if(Ks(s.value,o)){if(s.children===i.children&&!Pi.current){e=ma(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=aa(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),mE(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Le(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),mE(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}pi(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Nh(e,t),i=Rs(i),r=r(i),e.flags|=1,pi(n,e,r,t),e.child;case 14:return r=e.type,i=Fs(r,e.pendingProps),i=Fs(r.type,i),zI(n,e,r,i,t);case 15:return t4(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fs(r,i),H0(n,e),e.tag=1,Ii(r)?(n=!0,_v(e)):n=!1,Nh(e,t),PF(e,r,i),yE(e,r,i,t),xE(null,e,r,!0,n,t);case 19:return o4(n,e,t);case 22:return n4(n,e,t)}throw Error(Le(156,e.tag))};function A4(n,e){return JO(n,e)}function uj(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ts(n,e,t,r){return new uj(n,e,t,r)}function IC(n){return n=n.prototype,!(!n||!n.isReactComponent)}function hj(n){if(typeof n=="function")return IC(n)?1:0;if(n!=null){if(n=n.$$typeof,n===YM)return 11;if(n===qM)return 14}return 2}function cl(n,e){var t=n.alternate;return t===null?(t=Ts(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function W0(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")IC(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case ch:return Dc(t.children,i,s,e);case $M:o=8,i|=8;break;case zw:return n=Ts(12,t,e,i|2),n.elementType=zw,n.lanes=s,n;case Hw:return n=Ts(13,t,e,i),n.elementType=Hw,n.lanes=s,n;case Gw:return n=Ts(19,t,e,i),n.elementType=Gw,n.lanes=s,n;case IO:return H_(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case RO:o=10;break e;case PO:o=9;break e;case YM:o=11;break e;case qM:o=14;break e;case Ha:o=16,r=null;break e}throw Error(Le(130,n==null?n:typeof n,""))}return e=Ts(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function Dc(n,e,t,r){return n=Ts(7,n,r,e),n.lanes=t,n}function H_(n,e,t,r){return n=Ts(22,n,r,e),n.elementType=IO,n.lanes=t,n.stateNode={isHidden:!1},n}function WS(n,e,t){return n=Ts(6,n,null,e),n.lanes=t,n}function XS(n,e,t){return e=Ts(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function fj(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=MS(0),this.expirationTimes=MS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=MS(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function LC(n,e,t,r,i,s,o,a,l){return n=new fj(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ts(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},mC(s),n}function dj(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lh,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function w4(n){if(!n)return _l;n=n._reactInternals;e:{if(iu(n)!==n||n.tag!==1)throw Error(Le(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ii(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Le(171))}if(n.tag===1){var t=n.type;if(Ii(t))return AF(n,t,e)}return e}function E4(n,e,t,r,i,s,o,a,l){return n=LC(t,r,!0,n,i,s,o,a,l),n.context=w4(null),t=n.current,r=_i(),i=ll(t),s=aa(r,i),s.callback=e??null,ol(t,s,i),n.current.lanes=i,Am(n,i,r),Li(n,r),n}function G_(n,e,t,r){var i=e.current,s=_i(),o=ll(i);return t=w4(t),e.context===null?e.context=t:e.pendingContext=t,e=aa(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=ol(i,e,o),n!==null&&(Ws(n,i,o,s),U0(n,i,o)),o}function Lv(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function ZI(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function DC(n,e){ZI(n,e),(n=n.alternate)&&ZI(n,e)}function pj(){return null}var T4=typeof reportError=="function"?reportError:function(n){console.error(n)};function BC(n){this._internalRoot=n}j_.prototype.render=BC.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Le(409));G_(n,e,null,null)};j_.prototype.unmount=BC.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Jc(function(){G_(null,n,null,null)}),e[da]=null}};function j_(n){this._internalRoot=n}j_.prototype.unstable_scheduleHydration=function(n){if(n){var e=tF();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Ka.length&&e!==0&&e<Ka[t].priority;t++);Ka.splice(t,0,n),t===0&&rF(n)}};function NC(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function W_(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function e3(){}function mj(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Lv(o);s.call(c)}}var o=E4(e,r,n,0,null,!1,!1,"",e3);return n._reactRootContainer=o,n[da]=o.current,Cp(n.nodeType===8?n.parentNode:n),Jc(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Lv(l);a.call(c)}}var l=LC(n,0,!1,null,null,!1,!1,"",e3);return n._reactRootContainer=l,n[da]=l.current,Cp(n.nodeType===8?n.parentNode:n),Jc(function(){G_(e,l,t,r)}),l}function X_(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Lv(o);a.call(l)}}G_(e,o,n,i)}else o=mj(t,e,n,i,r);return Lv(o)}ZO=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Ud(e.pendingLanes);t!==0&&(eC(e,t|1),Li(e,Kn()),!(Qt&6)&&(Zh=Kn()+500,Dl()))}break;case 13:Jc(function(){var r=pa(n,1);if(r!==null){var i=_i();Ws(r,n,1,i)}}),DC(n,1)}};tC=function(n){if(n.tag===13){var e=pa(n,134217728);if(e!==null){var t=_i();Ws(e,n,134217728,t)}DC(n,134217728)}};eF=function(n){if(n.tag===13){var e=ll(n),t=pa(n,e);if(t!==null){var r=_i();Ws(t,n,e,r)}DC(n,e)}};tF=function(){return ln};nF=function(n,e){var t=ln;try{return ln=n,e()}finally{ln=t}};Zw=function(n,e,t){switch(e){case"input":if(Xw(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=O_(r);if(!i)throw Error(Le(90));DO(r),Xw(r,i)}}}break;case"textarea":NO(n,t);break;case"select":e=t.value,e!=null&&Ih(n,!!t.multiple,e,!1)}};HO=bC;GO=Jc;var gj={usingClientEntryPoint:!1,Events:[Em,dh,O_,VO,zO,bC]},pd={findFiberByHostInstance:_c,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},yj={bundleType:pd.bundleType,version:pd.version,rendererPackageName:pd.rendererPackageName,rendererConfig:pd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xa.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=XO(n),n===null?null:n.stateNode},findFiberByHostInstance:pd.findFiberByHostInstance||pj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _y=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_y.isDisabled&&_y.supportsFiber)try{L_=_y.inject(yj),xo=_y}catch{}}rs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gj;rs.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!NC(e))throw Error(Le(200));return dj(n,e,null,t)};rs.createRoot=function(n,e){if(!NC(n))throw Error(Le(299));var t=!1,r="",i=T4;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=LC(n,1,!1,null,null,t,!1,r,i),n[da]=e.current,Cp(n.nodeType===8?n.parentNode:n),new BC(e)};rs.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Le(188)):(n=Object.keys(n).join(","),Error(Le(268,n)));return n=XO(e),n=n===null?null:n.stateNode,n};rs.flushSync=function(n){return Jc(n)};rs.hydrate=function(n,e,t){if(!W_(e))throw Error(Le(200));return X_(null,n,e,!0,t)};rs.hydrateRoot=function(n,e,t){if(!NC(n))throw Error(Le(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=T4;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=E4(e,null,n,1,t??null,i,!1,s,o),n[da]=e.current,Cp(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new j_(e)};rs.render=function(n,e,t){if(!W_(e))throw Error(Le(200));return X_(null,n,e,!1,t)};rs.unmountComponentAtNode=function(n){if(!W_(n))throw Error(Le(40));return n._reactRootContainer?(Jc(function(){X_(null,null,n,!1,function(){n._reactRootContainer=null,n[da]=null})}),!0):!1};rs.unstable_batchedUpdates=bC;rs.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!W_(t))throw Error(Le(200));if(n==null||n._reactInternals===void 0)throw Error(Le(38));return X_(n,e,t,!1,r)};rs.version="18.2.0-next-9e3b772b8-20220608";function M4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(M4)}catch(n){console.error(n)}}M4(),EO.exports=rs;var vj=EO.exports,C4,t3=vj;C4=Uw.createRoot=t3.createRoot,Uw.hydrateRoot=t3.hydrateRoot;/**
 * @remix-run/router v1.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Op(){return Op=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Op.apply(this,arguments)}var Za;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Za||(Za={}));const n3="popstate";function _j(n){n===void 0&&(n={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return LE("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Dv(i)}return Sj(e,t,null,n)}function rr(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function OC(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xj(){return Math.random().toString(36).substr(2,8)}function r3(n,e){return{usr:n.state,key:n.key,idx:e}}function LE(n,e,t,r){return t===void 0&&(t=null),Op({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Cf(e):e,{state:t,key:e&&e.key||r||xj()})}function Dv(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Cf(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function Sj(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Za.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Op({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function f(){a=Za.Pop;let v=u(),g=v==null?null:v-c;c=v,l&&l({action:a,location:S.location,delta:g})}function p(v,g){a=Za.Push;let x=LE(S.location,v,g);t&&t(x,v),c=u()+1;let A=r3(x,c),E=S.createHref(x);try{o.pushState(A,"",E)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;i.location.assign(E)}s&&l&&l({action:a,location:S.location,delta:1})}function m(v,g){a=Za.Replace;let x=LE(S.location,v,g);t&&t(x,v),c=u();let A=r3(x,c),E=S.createHref(x);o.replaceState(A,"",E),s&&l&&l({action:a,location:S.location,delta:0})}function y(v){let g=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof v=="string"?v:Dv(v);return rr(g,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,g)}let S={get action(){return a},get location(){return n(i,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(n3,f),l=v,()=>{i.removeEventListener(n3,f),l=null}},createHref(v){return e(i,v)},createURL:y,encodeLocation(v){let g=y(v);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:m,go(v){return o.go(v)}};return S}var i3;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(i3||(i3={}));function Aj(n,e,t){t===void 0&&(t="/");let r=typeof e=="string"?Cf(e):e,i=FC(r.pathname||"/",t);if(i==null)return null;let s=b4(n);wj(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=Lj(s[a],Nj(i));return o}function b4(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(rr(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ul([r,l.relativePath]),u=t.concat(l);s.children&&s.children.length>0&&(rr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),b4(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:Pj(c,s.index),routesMeta:u})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of R4(s.path))i(s,o,l)}),e}function R4(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=R4(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function wj(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Ij(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const Ej=/^:[\w-]+$/,Tj=3,Mj=2,Cj=1,bj=10,Rj=-2,s3=n=>n==="*";function Pj(n,e){let t=n.split("/"),r=t.length;return t.some(s3)&&(r+=Rj),e&&(r+=Mj),t.filter(i=>!s3(i)).reduce((i,s)=>i+(Ej.test(s)?Tj:s===""?Cj:bj),r)}function Ij(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function Lj(n,e){let{routesMeta:t}=n,r={},i="/",s=[];for(let o=0;o<t.length;++o){let a=t[o],l=o===t.length-1,c=i==="/"?e:e.slice(i.length)||"/",u=Dj({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let f=a.route;s.push({params:r,pathname:ul([i,u.pathname]),pathnameBase:Vj(ul([i,u.pathnameBase])),route:f}),u.pathnameBase!=="/"&&(i=ul([i,u.pathnameBase]))}return s}function Dj(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=Bj(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,f)=>{let{paramName:p,isOptional:m}=u;if(p==="*"){let S=a[f]||"";o=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const y=a[f];return m&&!y?c[p]=void 0:c[p]=Oj(y||"",p),c},{}),pathname:s,pathnameBase:o,pattern:n}}function Bj(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),OC(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Nj(n){try{return decodeURI(n)}catch(e){return OC(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Oj(n,e){try{return decodeURIComponent(n)}catch(t){return OC(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+n+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+t+").")),n}}function FC(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function Fj(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Cf(n):n;return{pathname:t?t.startsWith("/")?t:kj(t,e):e,search:zj(r),hash:Hj(i)}}function kj(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function KS(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Uj(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function P4(n,e){let t=Uj(n);return e?t.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function I4(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=Cf(n):(i=Op({},n),rr(!i.pathname||!i.pathname.includes("?"),KS("?","pathname","search",i)),rr(!i.pathname||!i.pathname.includes("#"),KS("#","pathname","hash",i)),rr(!i.search||!i.search.includes("#"),KS("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=t;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=Fj(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const ul=n=>n.join("/").replace(/\/\/+/g,"/"),Vj=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),zj=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Hj=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Gj(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const L4=["post","put","patch","delete"];new Set(L4);const jj=["get",...L4];new Set(jj);/**
 * React Router v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fp(){return Fp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Fp.apply(this,arguments)}const kC=Y.createContext(null),Wj=Y.createContext(null),su=Y.createContext(null),K_=Y.createContext(null),ou=Y.createContext({outlet:null,matches:[],isDataRoute:!1}),D4=Y.createContext(null);function Xj(n,e){let{relative:t}=e===void 0?{}:e;Mm()||rr(!1);let{basename:r,navigator:i}=Y.useContext(su),{hash:s,pathname:o,search:a}=N4(n,{relative:t}),l=o;return r!=="/"&&(l=o==="/"?r:ul([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Mm(){return Y.useContext(K_)!=null}function Cm(){return Mm()||rr(!1),Y.useContext(K_).location}function B4(n){Y.useContext(su).static||Y.useLayoutEffect(n)}function Kj(){let{isDataRoute:n}=Y.useContext(ou);return n?o7():Jj()}function Jj(){Mm()||rr(!1);let n=Y.useContext(kC),{basename:e,future:t,navigator:r}=Y.useContext(su),{matches:i}=Y.useContext(ou),{pathname:s}=Cm(),o=JSON.stringify(P4(i,t.v7_relativeSplatPath)),a=Y.useRef(!1);return B4(()=>{a.current=!0}),Y.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=I4(c,JSON.parse(o),s,u.relative==="path");n==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:ul([e,f.pathname])),(u.replace?r.replace:r.push)(f,u.state,u)},[e,r,o,s,n])}function N4(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=Y.useContext(su),{matches:i}=Y.useContext(ou),{pathname:s}=Cm(),o=JSON.stringify(P4(i,r.v7_relativeSplatPath));return Y.useMemo(()=>I4(n,JSON.parse(o),s,t==="path"),[n,o,s,t])}function $j(n,e){return Yj(n,e)}function Yj(n,e,t,r){Mm()||rr(!1);let{navigator:i}=Y.useContext(su),{matches:s}=Y.useContext(ou),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Cm(),u;if(e){var f;let v=typeof e=="string"?Cf(e):e;l==="/"||(f=v.pathname)!=null&&f.startsWith(l)||rr(!1),u=v}else u=c;let p=u.pathname||"/",m=l==="/"?p:p.slice(l.length)||"/",y=Aj(n,{pathname:m}),S=t7(y&&y.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:ul([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:ul([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,t,r);return e&&S?Y.createElement(K_.Provider,{value:{location:Fp({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Za.Pop}},S):S}function qj(){let n=s7(),e=Gj(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},e),t?Y.createElement("pre",{style:i},t):null,null)}const Qj=Y.createElement(qj,null);class Zj extends Y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?Y.createElement(ou.Provider,{value:this.props.routeContext},Y.createElement(D4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function e7(n){let{routeContext:e,match:t,children:r}=n,i=Y.useContext(kC);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),Y.createElement(ou.Provider,{value:e},r)}function t7(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var s;if((s=t)!=null&&s.errors)n=t.matches;else return null}let o=n,a=(i=t)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id]));u>=0||rr(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(t&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let f=o[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:p,errors:m}=t,y=f.route.loader&&p[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||y){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,f,p)=>{let m,y=!1,S=null,v=null;t&&(m=a&&f.route.id?a[f.route.id]:void 0,S=f.route.errorElement||Qj,l&&(c<0&&p===0?(a7("route-fallback",!1),y=!0,v=null):c===p&&(y=!0,v=f.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,p+1)),x=()=>{let A;return m?A=S:y?A=v:f.route.Component?A=Y.createElement(f.route.Component,null):f.route.element?A=f.route.element:A=u,Y.createElement(e7,{match:f,routeContext:{outlet:u,matches:g,isDataRoute:t!=null},children:A})};return t&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?Y.createElement(Zj,{location:t.location,revalidation:t.revalidation,component:S,error:m,children:x(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):x()},null)}var O4=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(O4||{}),Bv=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(Bv||{});function n7(n){let e=Y.useContext(kC);return e||rr(!1),e}function r7(n){let e=Y.useContext(Wj);return e||rr(!1),e}function i7(n){let e=Y.useContext(ou);return e||rr(!1),e}function F4(n){let e=i7(),t=e.matches[e.matches.length-1];return t.route.id||rr(!1),t.route.id}function s7(){var n;let e=Y.useContext(D4),t=r7(Bv.UseRouteError),r=F4(Bv.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function o7(){let{router:n}=n7(O4.UseNavigateStable),e=F4(Bv.UseNavigateStable),t=Y.useRef(!1);return B4(()=>{t.current=!0}),Y.useCallback(function(i,s){s===void 0&&(s={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,Fp({fromRouteId:e},s)))},[n,e])}const o3={};function a7(n,e,t){!e&&!o3[n]&&(o3[n]=!0)}function X0(n){rr(!1)}function l7(n){let{basename:e="/",children:t=null,location:r,navigationType:i=Za.Pop,navigator:s,static:o=!1,future:a}=n;Mm()&&rr(!1);let l=e.replace(/^\/*/,"/"),c=Y.useMemo(()=>({basename:l,navigator:s,static:o,future:Fp({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Cf(r));let{pathname:u="/",search:f="",hash:p="",state:m=null,key:y="default"}=r,S=Y.useMemo(()=>{let v=FC(u,l);return v==null?null:{location:{pathname:v,search:f,hash:p,state:m,key:y},navigationType:i}},[l,u,f,p,m,y,i]);return S==null?null:Y.createElement(su.Provider,{value:c},Y.createElement(K_.Provider,{children:t,value:S}))}function c7(n){let{children:e,location:t}=n;return $j(DE(e),t)}new Promise(()=>{});function DE(n,e){e===void 0&&(e=[]);let t=[];return Y.Children.forEach(n,(r,i)=>{if(!Y.isValidElement(r))return;let s=[...e,i];if(r.type===Y.Fragment){t.push.apply(t,DE(r.props.children,s));return}r.type!==X0&&rr(!1),!r.props.index||!r.props.children||rr(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=DE(r.props.children,s)),t.push(o)}),t}/**
 * React Router DOM v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function BE(){return BE=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},BE.apply(this,arguments)}function u7(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function h7(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function f7(n,e){return n.button===0&&(!e||e==="_self")&&!h7(n)}const d7=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],p7="6";try{window.__reactRouterVersion=p7}catch{}const m7="startTransition",a3=kw[m7];function g7(n){let{basename:e,children:t,future:r,window:i}=n,s=Y.useRef();s.current==null&&(s.current=_j({window:i,v5Compat:!0}));let o=s.current,[a,l]=Y.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=Y.useCallback(f=>{c&&a3?a3(()=>l(f)):l(f)},[l,c]);return Y.useLayoutEffect(()=>o.listen(u),[o,u]),Y.createElement(l7,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o,future:r})}const y7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",v7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ho=Y.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:f}=e,p=u7(e,d7),{basename:m}=Y.useContext(su),y,S=!1;if(typeof c=="string"&&v7.test(c)&&(y=c,y7))try{let A=new URL(window.location.href),E=c.startsWith("//")?new URL(A.protocol+c):new URL(c),b=FC(E.pathname,m);E.origin===A.origin&&b!=null?c=b+E.search+E.hash:S=!0}catch{}let v=Xj(c,{relative:i}),g=_7(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,unstable_viewTransition:f});function x(A){r&&r(A),A.defaultPrevented||g(A)}return Y.createElement("a",BE({},p,{href:y||v,onClick:S||s?r:x,ref:t,target:l}))});var l3;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(l3||(l3={}));var c3;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(c3||(c3={}));function _7(n,e){let{target:t,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Kj(),c=Cm(),u=N4(n,{relative:o});return Y.useCallback(f=>{if(f7(f,t)){f.preventDefault();let p=r!==void 0?r:Dv(c)===Dv(u);l(n,{replace:p,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,l,u,r,i,t,n,s,o,a])}var k4={exports:{}},U4={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bm=Y;function x7(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var S7=typeof Object.is=="function"?Object.is:x7,A7=bm.useSyncExternalStore,w7=bm.useRef,E7=bm.useEffect,T7=bm.useMemo,M7=bm.useDebugValue;U4.useSyncExternalStoreWithSelector=function(n,e,t,r,i){var s=w7(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=T7(function(){function l(m){if(!c){if(c=!0,u=m,m=r(m),i!==void 0&&o.hasValue){var y=o.value;if(i(y,m))return f=y}return f=m}if(y=f,S7(u,m))return y;var S=r(m);return i!==void 0&&i(y,S)?y:(u=m,f=S)}var c=!1,u,f,p=t===void 0?null:t;return[function(){return l(e())},p===null?void 0:function(){return l(p())}]},[e,t,r,i]);var a=A7(n,s[0],s[1]);return E7(function(){o.hasValue=!0,o.value=a},[a]),M7(a),a};k4.exports=U4;var C7=k4.exports,Ki="default"in kw?Gs:kw,u3=Symbol.for("react-redux-context"),h3=typeof globalThis<"u"?globalThis:{};function b7(){if(!Ki.createContext)return{};const n=h3[u3]??(h3[u3]=new Map);let e=n.get(Ki.createContext);return e||(e=Ki.createContext(null),n.set(Ki.createContext,e)),e}var xl=b7(),R7=()=>{throw new Error("uSES not initialized!")};function UC(n=xl){return function(){return Ki.useContext(n)}}var V4=UC(),z4=R7,P7=n=>{z4=n},I7=(n,e)=>n===e;function L7(n=xl){const e=n===xl?V4:UC(n),t=(r,i={})=>{const{equalityFn:s=I7,devModeChecks:o={}}=typeof i=="function"?{equalityFn:i}:i,{store:a,subscription:l,getServerState:c,stabilityCheck:u,identityFunctionCheck:f}=e();Ki.useRef(!0);const p=Ki.useCallback({[r.name](y){return r(y)}}[r.name],[r,u,o.stabilityCheck]),m=z4(l.addNestedSub,a.getState,c||a.getState,p,s);return Ki.useDebugValue(m),m};return Object.assign(t,{withTypes:()=>t}),t}var D7=L7();function B7(n){n()}function N7(){let n=null,e=null;return{clear(){n=null,e=null},notify(){B7(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let r=n;for(;r;)t.push(r),r=r.next;return t},subscribe(t){let r=!0;const i=e={callback:t,next:null,prev:e};return i.prev?i.prev.next=i:n=i,function(){!r||n===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:n=i.next)}}}}var f3={notify(){},get:()=>[]};function O7(n,e){let t,r=f3,i=0,s=!1;function o(S){u();const v=r.subscribe(S);let g=!1;return()=>{g||(g=!0,v(),f())}}function a(){r.notify()}function l(){y.onStateChange&&y.onStateChange()}function c(){return s}function u(){i++,t||(t=e?e.addNestedSub(l):n.subscribe(l),r=N7())}function f(){i--,t&&i===0&&(t(),t=void 0,r.clear(),r=f3)}function p(){s||(s=!0,u())}function m(){s&&(s=!1,f())}const y={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:c,trySubscribe:p,tryUnsubscribe:m,getListeners:()=>r};return y}var F7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",k7=F7?Ki.useLayoutEffect:Ki.useEffect;function U7({store:n,context:e,children:t,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=Ki.useMemo(()=>{const c=O7(n);return{store:n,subscription:c,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[n,r,i,s]),a=Ki.useMemo(()=>n.getState(),[n]);k7(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==n.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,a]);const l=e||xl;return Ki.createElement(l.Provider,{value:o},t)}var V7=U7;function H4(n=xl){const e=n===xl?V4:UC(n),t=()=>{const{store:r}=e();return r};return Object.assign(t,{withTypes:()=>t}),t}var z7=H4();function H7(n=xl){const e=n===xl?z7:H4(n),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var G7=H7();P7(C7.useSyncExternalStoreWithSelector);function Ir(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var j7=typeof Symbol=="function"&&Symbol.observable||"@@observable",d3=j7,JS=()=>Math.random().toString(36).substring(7).split("").join("."),W7={INIT:`@@redux/INIT${JS()}`,REPLACE:`@@redux/REPLACE${JS()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${JS()}`},Nv=W7;function VC(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function G4(n,e,t){if(typeof n!="function")throw new Error(Ir(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Ir(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Ir(1));return t(G4)(n,e)}let r=n,i=e,s=new Map,o=s,a=0,l=!1;function c(){o===s&&(o=new Map,s.forEach((v,g)=>{o.set(g,v)}))}function u(){if(l)throw new Error(Ir(3));return i}function f(v){if(typeof v!="function")throw new Error(Ir(4));if(l)throw new Error(Ir(5));let g=!0;c();const x=a++;return o.set(x,v),function(){if(g){if(l)throw new Error(Ir(6));g=!1,c(),o.delete(x),s=null}}}function p(v){if(!VC(v))throw new Error(Ir(7));if(typeof v.type>"u")throw new Error(Ir(8));if(typeof v.type!="string")throw new Error(Ir(17));if(l)throw new Error(Ir(9));try{l=!0,i=r(i,v)}finally{l=!1}return(s=o).forEach(x=>{x()}),v}function m(v){if(typeof v!="function")throw new Error(Ir(10));r=v,p({type:Nv.REPLACE})}function y(){const v=f;return{subscribe(g){if(typeof g!="object"||g===null)throw new Error(Ir(11));function x(){const E=g;E.next&&E.next(u())}return x(),{unsubscribe:v(x)}},[d3](){return this}}}return p({type:Nv.INIT}),{dispatch:p,subscribe:f,getState:u,replaceReducer:m,[d3]:y}}function X7(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:Nv.INIT})>"u")throw new Error(Ir(12));if(typeof t(void 0,{type:Nv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ir(13))})}function K7(n){const e=Object.keys(n),t={};for(let s=0;s<e.length;s++){const o=e[s];typeof n[o]=="function"&&(t[o]=n[o])}const r=Object.keys(t);let i;try{X7(t)}catch(s){i=s}return function(o={},a){if(i)throw i;let l=!1;const c={};for(let u=0;u<r.length;u++){const f=r[u],p=t[f],m=o[f],y=p(m,a);if(typeof y>"u")throw a&&a.type,new Error(Ir(14));c[f]=y,l=l||y!==m}return l=l||r.length!==Object.keys(o).length,l?c:o}}function Ov(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...r)=>e(t(...r)))}function J7(...n){return e=>(t,r)=>{const i=e(t,r);let s=()=>{throw new Error(Ir(15))};const o={getState:i.getState,dispatch:(l,...c)=>s(l,...c)},a=n.map(l=>l(o));return s=Ov(...a)(i.dispatch),{...i,dispatch:s}}}function $7(n){return VC(n)&&"type"in n&&typeof n.type=="string"}var j4=Symbol.for("immer-nothing"),p3=Symbol.for("immer-draftable"),Qi=Symbol.for("immer-state");function Hs(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var ef=Object.getPrototypeOf;function Sl(n){return!!n&&!!n[Qi]}function ga(n){var e;return n?W4(n)||Array.isArray(n)||!!n[p3]||!!((e=n.constructor)!=null&&e[p3])||$_(n)||Y_(n):!1}var Y7=Object.prototype.constructor.toString();function W4(n){if(!n||typeof n!="object")return!1;const e=ef(n);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===Y7}function kp(n,e){J_(n)===0?Object.entries(n).forEach(([t,r])=>{e(t,r,n)}):n.forEach((t,r)=>e(r,t,n))}function J_(n){const e=n[Qi];return e?e.type_:Array.isArray(n)?1:$_(n)?2:Y_(n)?3:0}function NE(n,e){return J_(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function X4(n,e,t){const r=J_(n);r===2?n.set(e,t):r===3?n.add(t):n[e]=t}function q7(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function $_(n){return n instanceof Map}function Y_(n){return n instanceof Set}function cc(n){return n.copy_||n.base_}function OE(n,e){if($_(n))return new Map(n);if(Y_(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);if(!e&&W4(n))return ef(n)?{...n}:Object.assign(Object.create(null),n);const t=Object.getOwnPropertyDescriptors(n);delete t[Qi];let r=Reflect.ownKeys(t);for(let i=0;i<r.length;i++){const s=r[i],o=t[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:n[s]})}return Object.create(ef(n),t)}function zC(n,e=!1){return q_(n)||Sl(n)||!ga(n)||(J_(n)>1&&(n.set=n.add=n.clear=n.delete=Q7),Object.freeze(n),e&&kp(n,(t,r)=>zC(r,!0))),n}function Q7(){Hs(2)}function q_(n){return Object.isFrozen(n)}var Z7={};function $c(n){const e=Z7[n];return e||Hs(0,n),e}var Up;function K4(){return Up}function eW(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function m3(n,e){e&&($c("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function FE(n){kE(n),n.drafts_.forEach(tW),n.drafts_=null}function kE(n){n===Up&&(Up=n.parent_)}function g3(n){return Up=eW(Up,n)}function tW(n){const e=n[Qi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function y3(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[Qi].modified_&&(FE(e),Hs(4)),ga(n)&&(n=Fv(e,n),e.parent_||kv(e,n)),e.patches_&&$c("Patches").generateReplacementPatches_(t[Qi].base_,n,e.patches_,e.inversePatches_)):n=Fv(e,t,[]),FE(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==j4?n:void 0}function Fv(n,e,t){if(q_(e))return e;const r=e[Qi];if(!r)return kp(e,(i,s)=>v3(n,r,e,i,s,t)),e;if(r.scope_!==n)return e;if(!r.modified_)return kv(n,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),kp(s,(a,l)=>v3(n,r,i,a,l,t,o)),kv(n,i,!1),t&&n.patches_&&$c("Patches").generatePatches_(r,t,n.patches_,n.inversePatches_)}return r.copy_}function v3(n,e,t,r,i,s,o){if(Sl(i)){const a=s&&e&&e.type_!==3&&!NE(e.assigned_,r)?s.concat(r):void 0,l=Fv(n,i,a);if(X4(t,r,l),Sl(l))n.canAutoFreeze_=!1;else return}else o&&t.add(i);if(ga(i)&&!q_(i)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;Fv(n,i),(!e||!e.scope_.parent_)&&kv(n,i)}}function kv(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&zC(e,t)}function nW(n,e){const t=Array.isArray(n),r={type_:t?1:0,scope_:e?e.scope_:K4(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=HC;t&&(i=[r],s=Vp);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var HC={get(n,e){if(e===Qi)return n;const t=cc(n);if(!NE(t,e))return rW(n,t,e);const r=t[e];return n.finalized_||!ga(r)?r:r===$S(n.base_,e)?(YS(n),n.copy_[e]=VE(r,n)):r},has(n,e){return e in cc(n)},ownKeys(n){return Reflect.ownKeys(cc(n))},set(n,e,t){const r=J4(cc(n),e);if(r!=null&&r.set)return r.set.call(n.draft_,t),!0;if(!n.modified_){const i=$S(cc(n),e),s=i==null?void 0:i[Qi];if(s&&s.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(q7(t,i)&&(t!==void 0||NE(n.base_,e)))return!0;YS(n),UE(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return $S(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,YS(n),UE(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=cc(n),r=Reflect.getOwnPropertyDescriptor(t,e);return r&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:r.enumerable,value:t[e]}},defineProperty(){Hs(11)},getPrototypeOf(n){return ef(n.base_)},setPrototypeOf(){Hs(12)}},Vp={};kp(HC,(n,e)=>{Vp[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Vp.deleteProperty=function(n,e){return Vp.set.call(this,n,e,void 0)};Vp.set=function(n,e,t){return HC.set.call(this,n[0],e,t,n[0])};function $S(n,e){const t=n[Qi];return(t?cc(t):n)[e]}function rW(n,e,t){var i;const r=J4(e,t);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(n.draft_):void 0}function J4(n,e){if(!(e in n))return;let t=ef(n);for(;t;){const r=Object.getOwnPropertyDescriptor(t,e);if(r)return r;t=ef(t)}}function UE(n){n.modified_||(n.modified_=!0,n.parent_&&UE(n.parent_))}function YS(n){n.copy_||(n.copy_=OE(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var iW=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,r)=>{if(typeof e=="function"&&typeof t!="function"){const s=t;t=e;const o=this;return function(l=s,...c){return o.produce(l,u=>t.call(this,u,...c))}}typeof t!="function"&&Hs(6),r!==void 0&&typeof r!="function"&&Hs(7);let i;if(ga(e)){const s=g3(this),o=VE(e,void 0);let a=!0;try{i=t(o),a=!1}finally{a?FE(s):kE(s)}return m3(s,r),y3(i,s)}else if(!e||typeof e!="object"){if(i=t(e),i===void 0&&(i=e),i===j4&&(i=void 0),this.autoFreeze_&&zC(i,!0),r){const s=[],o=[];$c("Patches").generateReplacementPatches_(e,i,s,o),r(s,o)}return i}else Hs(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,l=>e(l,...a));let r,i;return[this.produce(e,t,(o,a)=>{r=o,i=a}),r,i]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){ga(n)||Hs(8),Sl(n)&&(n=$4(n));const e=g3(this),t=VE(n,void 0);return t[Qi].isManual_=!0,kE(e),t}finishDraft(n,e){const t=n&&n[Qi];(!t||!t.isManual_)&&Hs(9);const{scope_:r}=t;return m3(r,e),y3(void 0,r)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const i=e[t];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}t>-1&&(e=e.slice(t+1));const r=$c("Patches").applyPatches_;return Sl(n)?r(n,e):this.produce(n,i=>r(i,e))}};function VE(n,e){const t=$_(n)?$c("MapSet").proxyMap_(n,e):Y_(n)?$c("MapSet").proxySet_(n,e):nW(n,e);return(e?e.scope_:K4()).drafts_.push(t),t}function $4(n){return Sl(n)||Hs(10,n),Y4(n)}function Y4(n){if(!ga(n)||q_(n))return n;const e=n[Qi];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=OE(n,e.scope_.immer_.useStrictShallowCopy_)}else t=OE(n,!0);return kp(t,(r,i)=>{X4(t,r,Y4(i))}),e&&(e.finalized_=!1),t}var Zi=new iW,q4=Zi.produce;Zi.produceWithPatches.bind(Zi);Zi.setAutoFreeze.bind(Zi);Zi.setUseStrictShallowCopy.bind(Zi);Zi.applyPatches.bind(Zi);Zi.createDraft.bind(Zi);Zi.finishDraft.bind(Zi);function sW(n,e=`expected a function, instead received ${typeof n}`){if(typeof n!="function")throw new TypeError(e)}function oW(n,e=`expected an object, instead received ${typeof n}`){if(typeof n!="object")throw new TypeError(e)}function aW(n,e="expected all items to be functions, instead received the following types: "){if(!n.every(t=>typeof t=="function")){const t=n.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${t}]`)}}var _3=n=>Array.isArray(n)?n:[n];function lW(n){const e=Array.isArray(n[0])?n[0]:n;return aW(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function cW(n,e){const t=[],{length:r}=n;for(let i=0;i<r;i++)t.push(n[i].apply(null,e));return t}var uW=class{constructor(n){this.value=n}deref(){return this.value}},hW=typeof WeakRef<"u"?WeakRef:uW,fW=0,x3=1;function xy(){return{s:fW,v:void 0,o:null,p:null}}function GC(n,e={}){let t=xy();const{resultEqualityCheck:r}=e;let i,s=0;function o(){var f;let a=t;const{length:l}=arguments;for(let p=0,m=l;p<m;p++){const y=arguments[p];if(typeof y=="function"||typeof y=="object"&&y!==null){let S=a.o;S===null&&(a.o=S=new WeakMap);const v=S.get(y);v===void 0?(a=xy(),S.set(y,a)):a=v}else{let S=a.p;S===null&&(a.p=S=new Map);const v=S.get(y);v===void 0?(a=xy(),S.set(y,a)):a=v}}const c=a;let u;if(a.s===x3?u=a.v:(u=n.apply(null,arguments),s++),c.s=x3,r){const p=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;p!=null&&r(p,u)&&(u=p,s!==0&&s--),i=typeof u=="object"&&u!==null||typeof u=="function"?new hW(u):u}return c.v=u,u}return o.clearCache=()=>{t=xy(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function Q4(n,...e){const t=typeof n=="function"?{memoize:n,memoizeOptions:e}:n,r=(...i)=>{let s=0,o=0,a,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),sW(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...t,...l},{memoize:f,memoizeOptions:p=[],argsMemoize:m=GC,argsMemoizeOptions:y=[],devModeChecks:S={}}=u,v=_3(p),g=_3(y),x=lW(i),A=f(function(){return s++,c.apply(null,arguments)},...v),E=m(function(){o++;const C=cW(x,arguments);return a=A.apply(null,C),a},...g);return Object.assign(E,{resultFunc:c,memoizedResultFunc:A,dependencies:x,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>a,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:f,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var dW=Q4(GC),pW=Object.assign((n,e=dW)=>{oW(n,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof n}`);const t=Object.keys(n),r=t.map(s=>n[s]);return e(r,(...s)=>s.reduce((o,a,l)=>(o[t[l]]=a,o),{}))},{withTypes:()=>pW});function Z4(n){return({dispatch:t,getState:r})=>i=>s=>typeof s=="function"?s(t,r,n):i(s)}var mW=Z4(),gW=Z4,yW=(...n)=>{const e=Q4(...n),t=Object.assign((...r)=>{const i=e(...r),s=(o,...a)=>i(Sl(o)?$4(o):o,...a);return Object.assign(s,i),s},{withTypes:()=>t});return t};yW(GC);var vW=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ov:Ov.apply(null,arguments)},_W=n=>n&&typeof n.match=="function";function la(n,e){function t(...r){if(e){let i=e(...r);if(!i)throw new Error(Di(0));return{type:n,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:n,payload:r[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=r=>$7(r)&&r.type===n,t}var ek=class zd extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,zd.prototype)}static get[Symbol.species](){return zd}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new zd(...e[0].concat(this)):new zd(...e.concat(this))}};function S3(n){return ga(n)?q4(n,()=>{}):n}function A3(n,e,t){if(n.has(e)){let i=n.get(e);return t.update&&(i=t.update(i,e,n),n.set(e,i)),i}if(!t.insert)throw new Error(Di(10));const r=t.insert(e,n);return n.set(e,r),r}function xW(n){return typeof n=="boolean"}var SW=()=>function(e){const{thunk:t=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new ek;return t&&(xW(t)?o.push(mW):o.push(gW(t.extraArgument))),o},AW="RTK_autoBatch",tk=n=>e=>{setTimeout(e,n)},wW=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:tk(10),EW=(n={type:"raf"})=>e=>(...t)=>{const r=e(...t);let i=!0,s=!1,o=!1;const a=new Set,l=n.type==="tick"?queueMicrotask:n.type==="raf"?wW:n.type==="callback"?n.queueNotification:tk(n.timeout),c=()=>{o=!1,s&&(s=!1,a.forEach(u=>u()))};return Object.assign({},r,{subscribe(u){const f=()=>i&&u(),p=r.subscribe(f);return a.add(u),()=>{p(),a.delete(u)}},dispatch(u){var f;try{return i=!((f=u==null?void 0:u.meta)!=null&&f[AW]),s=!i,s&&(o||(o=!0,l(c))),r.dispatch(u)}finally{i=!0}}})},TW=n=>function(t){const{autoBatch:r=!0}=t??{};let i=new ek(n);return r&&i.push(EW(typeof r=="object"?r:void 0)),i},MW=!0;function CW(n){const e=SW(),{reducer:t=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=n||{};let a;if(typeof t=="function")a=t;else if(VC(t))a=K7(t);else throw new Error(Di(1));let l;typeof r=="function"?l=r(e):l=e();let c=Ov;i&&(c=vW({trace:!MW,...typeof i=="object"&&i}));const u=J7(...l),f=TW(u);let p=typeof o=="function"?o(f):f();const m=c(...p);return G4(a,s,m)}function nk(n){const e={},t=[];let r;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(Di(28));if(a in e)throw new Error(Di(29));return e[a]=o,i},addMatcher(s,o){return t.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return n(i),[e,t,r]}function bW(n){return typeof n=="function"}function RW(n,e){let[t,r,i]=nk(e),s;if(bW(n))s=()=>S3(n());else{const a=S3(n);s=()=>a}function o(a=s(),l){let c=[t[l.type],...r.filter(({matcher:u})=>u(l)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[i]),c.reduce((u,f)=>{if(f)if(Sl(u)){const m=f(u,l);return m===void 0?u:m}else{if(ga(u))return q4(u,p=>f(p,l));{const p=f(u,l);if(p===void 0){if(u===null)return u;throw new Error(Di(9))}return p}}return u},a)}return o.getInitialState=s,o}var PW="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",rk=(n=21)=>{let e="",t=n;for(;t--;)e+=PW[Math.random()*64|0];return e},IW=(n,e)=>_W(n)?n.match(e):n(e);function LW(...n){return e=>n.some(t=>IW(t,e))}var DW=["name","message","stack","code"],qS=class{constructor(n,e){xS(this,"_type");this.payload=n,this.meta=e}},w3=class{constructor(n,e){xS(this,"_type");this.payload=n,this.meta=e}},BW=n=>{if(typeof n=="object"&&n!==null){const e={};for(const t of DW)typeof n[t]=="string"&&(e[t]=n[t]);return e}return{message:String(n)}},NW=(()=>{function n(e,t,r){const i=la(e+"/fulfilled",(l,c,u,f)=>({payload:l,meta:{...f||{},arg:u,requestId:c,requestStatus:"fulfilled"}})),s=la(e+"/pending",(l,c,u)=>({payload:void 0,meta:{...u||{},arg:c,requestId:l,requestStatus:"pending"}})),o=la(e+"/rejected",(l,c,u,f,p)=>({payload:f,error:(r&&r.serializeError||BW)(l||"Rejected"),meta:{...p||{},arg:u,requestId:c,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"}}));function a(l){return(c,u,f)=>{const p=r!=null&&r.idGenerator?r.idGenerator(l):rk(),m=new AbortController;let y,S;function v(x){S=x,m.abort()}const g=async function(){var E,b;let x;try{let C=(E=r==null?void 0:r.condition)==null?void 0:E.call(r,l,{getState:u,extra:f});if(FW(C)&&(C=await C),C===!1||m.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const P=new Promise((L,N)=>{y=()=>{N({name:"AbortError",message:S||"Aborted"})},m.signal.addEventListener("abort",y)});c(s(p,l,(b=r==null?void 0:r.getPendingMeta)==null?void 0:b.call(r,{requestId:p,arg:l},{getState:u,extra:f}))),x=await Promise.race([P,Promise.resolve(t(l,{dispatch:c,getState:u,extra:f,requestId:p,signal:m.signal,abort:v,rejectWithValue:(L,N)=>new qS(L,N),fulfillWithValue:(L,N)=>new w3(L,N)})).then(L=>{if(L instanceof qS)throw L;return L instanceof w3?i(L.payload,p,l,L.meta):i(L,p,l)})])}catch(C){x=C instanceof qS?o(null,p,l,C.payload,C.meta):o(C,p,l)}finally{y&&m.signal.removeEventListener("abort",y)}return r&&!r.dispatchConditionRejection&&o.match(x)&&x.meta.condition||c(x),x}();return Object.assign(g,{abort:v,requestId:p,arg:l,unwrap(){return g.then(OW)}})}}return Object.assign(a,{pending:s,rejected:o,fulfilled:i,settled:LW(o,i),typePrefix:e})}return n.withTypes=()=>n,n})();function OW(n){if(n.meta&&n.meta.rejectedWithValue)throw n.payload;if(n.error)throw n.error;return n.payload}function FW(n){return n!==null&&typeof n=="object"&&typeof n.then=="function"}var kW=Symbol.for("rtk-slice-createasyncthunk");function UW(n,e){return`${n}/${e}`}function VW({creators:n}={}){var t;const e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[kW];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(Di(11));typeof process<"u";const a=(typeof i.reducers=="function"?i.reducers(GW()):i.reducers)||{},l=Object.keys(a),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(A,E){const b=typeof A=="string"?A:A.type;if(!b)throw new Error(Di(12));if(b in c.sliceCaseReducersByType)throw new Error(Di(13));return c.sliceCaseReducersByType[b]=E,u},addMatcher(A,E){return c.sliceMatchers.push({matcher:A,reducer:E}),u},exposeAction(A,E){return c.actionCreators[A]=E,u},exposeCaseReducer(A,E){return c.sliceCaseReducersByName[A]=E,u}};l.forEach(A=>{const E=a[A],b={reducerName:A,type:UW(s,A),createNotation:typeof i.reducers=="function"};WW(E)?KW(b,E,u,e):jW(b,E,u)});function f(){const[A={},E=[],b=void 0]=typeof i.extraReducers=="function"?nk(i.extraReducers):[i.extraReducers],C={...A,...c.sliceCaseReducersByType};return RW(i.initialState,P=>{for(let L in C)P.addCase(L,C[L]);for(let L of c.sliceMatchers)P.addMatcher(L.matcher,L.reducer);for(let L of E)P.addMatcher(L.matcher,L.reducer);b&&P.addDefaultCase(b)})}const p=A=>A,m=new Map;let y;function S(A,E){return y||(y=f()),y(A,E)}function v(){return y||(y=f()),y.getInitialState()}function g(A,E=!1){function b(P){let L=P[A];return typeof L>"u"&&E&&(L=v()),L}function C(P=p){const L=A3(m,E,{insert:()=>new WeakMap});return A3(L,P,{insert:()=>{const N={};for(const[M,D]of Object.entries(i.selectors??{}))N[M]=zW(D,P,v,E);return N}})}return{reducerPath:A,getSelectors:C,get selectors(){return C(b)},selectSlice:b}}const x={name:s,reducer:S,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:v,...g(o),injectInto(A,{reducerPath:E,...b}={}){const C=E??o;return A.inject({reducerPath:C,reducer:S},b),{...x,...g(C,!0)}}};return x}}function zW(n,e,t,r){function i(s,...o){let a=e(s);return typeof a>"u"&&r&&(a=t()),n(a,...o)}return i.unwrapped=n,i}var HW=VW();function GW(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function jW({type:n,reducerName:e,createNotation:t},r,i){let s,o;if("reducer"in r){if(t&&!XW(r))throw new Error(Di(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(n,s).exposeCaseReducer(e,s).exposeAction(e,o?la(n,o):la(n))}function WW(n){return n._reducerDefinitionType==="asyncThunk"}function XW(n){return n._reducerDefinitionType==="reducerWithPrepare"}function KW({type:n,reducerName:e},t,r,i){if(!i)throw new Error(Di(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:l,settled:c,options:u}=t,f=i(n,s,u);r.exposeAction(e,f),o&&r.addCase(f.fulfilled,o),a&&r.addCase(f.pending,a),l&&r.addCase(f.rejected,l),c&&r.addMatcher(f.settled,c),r.exposeCaseReducer(e,{fulfilled:o||Sy,pending:a||Sy,rejected:l||Sy,settled:c||Sy})}function Sy(){}var JW=(n,e)=>{if(typeof n!="function")throw new Error(Di(32))},jC="listenerMiddleware",$W=n=>{let{type:e,actionCreator:t,matcher:r,predicate:i,effect:s}=n;if(e)i=la(e).match;else if(t)e=t.type,i=t.match;else if(r)i=r;else if(!i)throw new Error(Di(21));return JW(s),{predicate:i,type:e,effect:s}},YW=Object.assign(n=>{const{type:e,predicate:t,effect:r}=$W(n);return{id:rk(),effect:r,type:e,predicate:t,pending:new Set,unsubscribe:()=>{throw new Error(Di(22))}}},{withTypes:()=>YW}),qW=Object.assign(la(`${jC}/add`),{withTypes:()=>qW});la(`${jC}/removeAll`);var QW=Object.assign(la(`${jC}/remove`),{withTypes:()=>QW});function Di(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var E3={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},ZW=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],o=n[t++],a=n[t++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},sk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0,u=s>>2,f=(s&3)<<4|a>>4;let p=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(p=64)),r.push(t[u],t[f],t[p],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(ik(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):ZW(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const f=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||c==null||f==null)throw new eX;const p=s<<2|a>>4;if(r.push(p),c!==64){const m=a<<4&240|c>>2;if(r.push(m),f!==64){const y=c<<6&192|f;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class eX extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tX=function(n){const e=ik(n);return sk.encodeByteArray(e,!0)},Uv=function(n){return tX(n).replace(/\./g,"")},nX=function(n){try{return sk.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rX(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iX=()=>rX().__FIREBASE_DEFAULTS__,sX=()=>{if(typeof process>"u"||typeof E3>"u")return;const n=E3.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},oX=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&nX(n[1]);return e&&JSON.parse(e)},WC=()=>{try{return iX()||sX()||oX()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},aX=n=>{var e,t;return(t=(e=WC())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},lX=n=>{const e=aX(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},ok=()=>{var n;return(n=WC())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cX{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uX(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Uv(JSON.stringify(t)),Uv(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hX(){var n;const e=(n=WC())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fX(){return!hX()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ak(){try{return typeof indexedDB=="object"}catch{return!1}}function dX(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pX="FirebaseError";class bf extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=pX,Object.setPrototypeOf(this,bf.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lk.prototype.create)}}class lk{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?mX(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new bf(i,a,r)}}function mX(n,e){return n.replace(gX,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const gX=/\{\$([^}]+)}/g;function zE(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(T3(s)&&T3(o)){if(!zE(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function T3(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yX(n){return n&&n._delegate?n._delegate:n}class zp{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vX=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new cX;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xX(e))try{this.getOrInitializeService({instanceIdentifier:uc})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=uc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=uc){return this.instances.has(e)}getOptions(e=uc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_X(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=uc){return this.component?this.component.multipleInstances?e:uc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function _X(n){return n===uc?void 0:n}function xX(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SX{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new vX(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Yt||(Yt={}));const AX={debug:Yt.DEBUG,verbose:Yt.VERBOSE,info:Yt.INFO,warn:Yt.WARN,error:Yt.ERROR,silent:Yt.SILENT},wX=Yt.INFO,EX={[Yt.DEBUG]:"log",[Yt.VERBOSE]:"log",[Yt.INFO]:"info",[Yt.WARN]:"warn",[Yt.ERROR]:"error"},TX=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=EX[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ck{constructor(e){this.name=e,this._logLevel=wX,this._logHandler=TX,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Yt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?AX[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Yt.DEBUG,...e),this._logHandler(this,Yt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Yt.VERBOSE,...e),this._logHandler(this,Yt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Yt.INFO,...e),this._logHandler(this,Yt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Yt.WARN,...e),this._logHandler(this,Yt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Yt.ERROR,...e),this._logHandler(this,Yt.ERROR,...e)}}const MX=(n,e)=>e.some(t=>n instanceof t);let M3,C3;function CX(){return M3||(M3=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bX(){return C3||(C3=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uk=new WeakMap,HE=new WeakMap,hk=new WeakMap,QS=new WeakMap,XC=new WeakMap;function RX(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(hl(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&uk.set(t,n)}).catch(()=>{}),XC.set(e,n),e}function PX(n){if(HE.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});HE.set(n,e)}let GE={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return HE.get(n);if(e==="objectStoreNames")return n.objectStoreNames||hk.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return hl(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function IX(n){GE=n(GE)}function LX(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(ZS(this),e,...t);return hk.set(r,e.sort?e.sort():[e]),hl(r)}:bX().includes(n)?function(...e){return n.apply(ZS(this),e),hl(uk.get(this))}:function(...e){return hl(n.apply(ZS(this),e))}}function DX(n){return typeof n=="function"?LX(n):(n instanceof IDBTransaction&&PX(n),MX(n,CX())?new Proxy(n,GE):n)}function hl(n){if(n instanceof IDBRequest)return RX(n);if(QS.has(n))return QS.get(n);const e=DX(n);return e!==n&&(QS.set(n,e),XC.set(e,n)),e}const ZS=n=>XC.get(n);function BX(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=hl(o);return r&&o.addEventListener("upgradeneeded",l=>{r(hl(o.result),l.oldVersion,l.newVersion,hl(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const NX=["get","getKey","getAll","getAllKeys","count"],OX=["put","add","delete","clear"],eA=new Map;function b3(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(eA.get(e))return eA.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=OX.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||NX.includes(t)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[t](...a),i&&l.done]))[0]};return eA.set(e,s),s}IX(n=>({...n,get:(e,t,r)=>b3(e,t)||n.get(e,t,r),has:(e,t)=>!!b3(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FX{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(kX(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function kX(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const jE="@firebase/app",R3="0.9.27";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yc=new ck("@firebase/app"),UX="@firebase/app-compat",VX="@firebase/analytics-compat",zX="@firebase/analytics",HX="@firebase/app-check-compat",GX="@firebase/app-check",jX="@firebase/auth",WX="@firebase/auth-compat",XX="@firebase/database",KX="@firebase/database-compat",JX="@firebase/functions",$X="@firebase/functions-compat",YX="@firebase/installations",qX="@firebase/installations-compat",QX="@firebase/messaging",ZX="@firebase/messaging-compat",eK="@firebase/performance",tK="@firebase/performance-compat",nK="@firebase/remote-config",rK="@firebase/remote-config-compat",iK="@firebase/storage",sK="@firebase/storage-compat",oK="@firebase/firestore",aK="@firebase/firestore-compat",lK="firebase",cK="10.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="[DEFAULT]",uK={[jE]:"fire-core",[UX]:"fire-core-compat",[zX]:"fire-analytics",[VX]:"fire-analytics-compat",[GX]:"fire-app-check",[HX]:"fire-app-check-compat",[jX]:"fire-auth",[WX]:"fire-auth-compat",[XX]:"fire-rtdb",[KX]:"fire-rtdb-compat",[JX]:"fire-fn",[$X]:"fire-fn-compat",[YX]:"fire-iid",[qX]:"fire-iid-compat",[QX]:"fire-fcm",[ZX]:"fire-fcm-compat",[eK]:"fire-perf",[tK]:"fire-perf-compat",[nK]:"fire-rc",[rK]:"fire-rc-compat",[iK]:"fire-gcs",[sK]:"fire-gcs-compat",[oK]:"fire-fst",[aK]:"fire-fst-compat","fire-js":"fire-js",[lK]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv=new Map,XE=new Map;function hK(n,e){try{n.container.addComponent(e)}catch(t){Yc.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Hv(n){const e=n.name;if(XE.has(e))return Yc.debug(`There were multiple attempts to register component ${e}.`),!1;XE.set(e,n);for(const t of zv.values())hK(t,n);return!0}function fK(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dK={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},fl=new lk("app","Firebase",dK);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pK{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zp("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mK=cK;function fk(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:WE,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw fl.create("bad-app-name",{appName:String(i)});if(t||(t=ok()),!t)throw fl.create("no-options");const s=zv.get(i);if(s){if(zE(t,s.options)&&zE(r,s.config))return s;throw fl.create("duplicate-app",{appName:i})}const o=new SX(i);for(const l of XE.values())o.addComponent(l);const a=new pK(t,r,o);return zv.set(i,a),a}function gK(n=WE){const e=zv.get(n);if(!e&&n===WE&&ok())return fk();if(!e)throw fl.create("no-app",{appName:n});return e}function Fh(n,e,t){var r;let i=(r=uK[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yc.warn(a.join(" "));return}Hv(new zp(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yK="firebase-heartbeat-database",vK=1,Hp="firebase-heartbeat-store";let tA=null;function dk(){return tA||(tA=BX(yK,vK,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Hp)}catch(t){console.warn(t)}}}}).catch(n=>{throw fl.create("idb-open",{originalErrorMessage:n.message})})),tA}async function _K(n){try{const t=(await dk()).transaction(Hp),r=await t.objectStore(Hp).get(pk(n));return await t.done,r}catch(e){if(e instanceof bf)Yc.warn(e.message);else{const t=fl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Yc.warn(t.message)}}}async function P3(n,e){try{const r=(await dk()).transaction(Hp,"readwrite");await r.objectStore(Hp).put(e,pk(n)),await r.done}catch(t){if(t instanceof bf)Yc.warn(t.message);else{const r=fl.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Yc.warn(r.message)}}}function pk(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xK=1024,SK=30*24*60*60*1e3;class AK{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new EK(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=I3();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=SK}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=I3(),{heartbeatsToSend:r,unsentEntries:i}=wK(this._heartbeatsCache.heartbeats),s=Uv(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function I3(){return new Date().toISOString().substring(0,10)}function wK(n,e=xK){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),L3(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),L3(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class EK{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ak()?dX().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await _K(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return P3(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return P3(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function L3(n){return Uv(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TK(n){Hv(new zp("platform-logger",e=>new FX(e),"PRIVATE")),Hv(new zp("heartbeat",e=>new AK(e),"PRIVATE")),Fh(jE,R3,n),Fh(jE,R3,"esm2017"),Fh("fire-js","")}TK("");var MK=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ze,KC=KC||{},Tt=MK||self;function Q_(n){var e=typeof n;return e=e!="object"?e:n?Array.isArray(n)?"array":e:"null",e=="array"||e=="object"&&typeof n.length=="number"}function Rm(n){var e=typeof n;return e=="object"&&n!=null||e=="function"}function CK(n){return Object.prototype.hasOwnProperty.call(n,nA)&&n[nA]||(n[nA]=++bK)}var nA="closure_uid_"+(1e9*Math.random()>>>0),bK=0;function RK(n,e,t){return n.call.apply(n.bind,arguments)}function PK(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function ei(n,e,t){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ei=RK:ei=PK,ei.apply(null,arguments)}function Ay(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Tr(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Bl(){this.s=this.s,this.o=this.o}var IK=0;Bl.prototype.s=!1;Bl.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),IK!=0)&&CK(this)};Bl.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const mk=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if(typeof n=="string")return typeof e!="string"||e.length!=1?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function JC(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function D3(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Q_(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function ti(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}ti.prototype.h=function(){this.defaultPrevented=!0};var LK=function(){if(!Tt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{const t=()=>{};Tt.addEventListener("test",t,e),Tt.removeEventListener("test",t,e)}catch{}return n}();function Gp(n){return/^[\s\xa0]*$/.test(n)}function Z_(){var n=Tt.navigator;return n&&(n=n.userAgent)?n:""}function po(n){return Z_().indexOf(n)!=-1}function $C(n){return $C[" "](n),n}$C[" "]=function(){};function DK(n,e){var t=TJ;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}var BK=po("Opera"),tf=po("Trident")||po("MSIE"),gk=po("Edge"),KE=gk||tf,yk=po("Gecko")&&!(Z_().toLowerCase().indexOf("webkit")!=-1&&!po("Edge"))&&!(po("Trident")||po("MSIE"))&&!po("Edge"),NK=Z_().toLowerCase().indexOf("webkit")!=-1&&!po("Edge");function vk(){var n=Tt.document;return n?n.documentMode:void 0}var JE;e:{var rA="",iA=function(){var n=Z_();if(yk)return/rv:([^\);]+)(\)|;)/.exec(n);if(gk)return/Edge\/([\d\.]+)/.exec(n);if(tf)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n);if(NK)return/WebKit\/(\S+)/.exec(n);if(BK)return/(?:Version)[ \/]?(\S+)/.exec(n)}();if(iA&&(rA=iA?iA[1]:""),tf){var sA=vk();if(sA!=null&&sA>parseFloat(rA)){JE=String(sA);break e}}JE=rA}var $E;if(Tt.document&&tf){var B3=vk();$E=B3||parseInt(JE,10)||void 0}else $E=void 0;var OK=$E;function jp(n,e){if(ti.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(yk){e:{try{$C(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else t=="mouseover"?e=n.fromElement:t=="mouseout"&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=n.clientX!==void 0?n.clientX:n.pageX,this.clientY=n.clientY!==void 0?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType=typeof n.pointerType=="string"?n.pointerType:FK[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&jp.$.h.call(this)}}Tr(jp,ti);var FK={2:"touch",3:"pen",4:"mouse"};jp.prototype.h=function(){jp.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Pm="closure_listenable_"+(1e6*Math.random()|0),kK=0;function UK(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++kK,this.fa=this.ia=!1}function ex(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function YC(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function VK(n,e){for(const t in n)e.call(void 0,n[t],t,n)}function _k(n){const e={};for(const t in n)e[t]=n[t];return e}const N3="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xk(n,e){let t,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(t in r)n[t]=r[t];for(let s=0;s<N3.length;s++)t=N3[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function tx(n){this.src=n,this.g={},this.h=0}tx.prototype.add=function(n,e,t,r,i){var s=n.toString();n=this.g[s],n||(n=this.g[s]=[],this.h++);var o=qE(n,e,r,i);return-1<o?(e=n[o],t||(e.ia=!1)):(e=new UK(e,this.src,s,!!r,i),e.ia=t,n.push(e)),e};function YE(n,e){var t=e.type;if(t in n.g){var r=n.g[t],i=mk(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(ex(e),n.g[t].length==0&&(delete n.g[t],n.h--))}}function qE(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}var qC="closure_lm_"+(1e6*Math.random()|0),oA={};function Sk(n,e,t,r,i){if(r&&r.once)return wk(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Sk(n,e[s],t,r,i);return null}return t=eb(t),n&&n[Pm]?n.O(e,t,Rm(r)?!!r.capture:!!r,i):Ak(n,e,t,!1,r,i)}function Ak(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=Rm(i)?!!i.capture:!!i,a=ZC(n);if(a||(n[qC]=a=new tx(n)),t=a.add(e,t,r,o,s),t.proxy)return t;if(r=zK(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)LK||(i=o),i===void 0&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(Tk(e.toString()),r);else if(n.addListener&&n.removeListener)n.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return t}function zK(){function n(t){return e.call(n.src,n.listener,t)}const e=HK;return n}function wk(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)wk(n,e[s],t,r,i);return null}return t=eb(t),n&&n[Pm]?n.P(e,t,Rm(r)?!!r.capture:!!r,i):Ak(n,e,t,!0,r,i)}function Ek(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Ek(n,e[s],t,r,i);else r=Rm(r)?!!r.capture:!!r,t=eb(t),n&&n[Pm]?(n=n.i,e=String(e).toString(),e in n.g&&(s=n.g[e],t=qE(s,t,r,i),-1<t&&(ex(s[t]),Array.prototype.splice.call(s,t,1),s.length==0&&(delete n.g[e],n.h--)))):n&&(n=ZC(n))&&(e=n.g[e.toString()],n=-1,e&&(n=qE(e,t,r,i)),(t=-1<n?e[n]:null)&&QC(t))}function QC(n){if(typeof n!="number"&&n&&!n.fa){var e=n.src;if(e&&e[Pm])YE(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Tk(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=ZC(e))?(YE(t,n),t.h==0&&(t.src=null,e[qC]=null)):ex(n)}}}function Tk(n){return n in oA?oA[n]:oA[n]="on"+n}function HK(n,e){if(n.fa)n=!0;else{e=new jp(e,this);var t=n.listener,r=n.la||n.src;n.ia&&QC(n),n=t.call(r,e)}return n}function ZC(n){return n=n[qC],n instanceof tx?n:null}var aA="__closure_events_fn_"+(1e9*Math.random()>>>0);function eb(n){return typeof n=="function"?n:(n[aA]||(n[aA]=function(e){return n.handleEvent(e)}),n[aA])}function Er(){Bl.call(this),this.i=new tx(this),this.S=this,this.J=null}Tr(Er,Bl);Er.prototype[Pm]=!0;Er.prototype.removeEventListener=function(n,e,t,r){Ek(this,n,e,t,r)};function Fr(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,typeof e=="string")e=new ti(e,n);else if(e instanceof ti)e.target=e.target||n;else{var i=e;e=new ti(r,n),xk(e,i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=wy(o,r,!0,e)&&i}if(o=e.g=n,i=wy(o,r,!0,e)&&i,i=wy(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)o=e.g=t[s],i=wy(o,r,!1,e)&&i}Er.prototype.N=function(){if(Er.$.N.call(this),this.i){var n=this.i,e;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)ex(t[r]);delete n.g[e],n.h--}}this.J=null};Er.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)};Er.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};function wy(n,e,t,r){if(e=n.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==t){var a=o.listener,l=o.la||o.src;o.ia&&YE(n.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var tb=Tt.JSON.stringify;class GK{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function jK(){var n=nb;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}class WK{constructor(){this.h=this.g=null}add(e,t){const r=Mk.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}}var Mk=new GK(()=>new XK,n=>n.reset());class XK{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function KK(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function JK(n){Tt.setTimeout(()=>{throw n},0)}let Wp,Xp=!1,nb=new WK,Ck=()=>{const n=Tt.Promise.resolve(void 0);Wp=()=>{n.then($K)}};var $K=()=>{for(var n;n=jK();){try{n.h.call(n.g)}catch(t){JK(t)}var e=Mk;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Xp=!1};function nx(n,e){Er.call(this),this.h=n||1,this.g=e||Tt,this.j=ei(this.qb,this),this.l=Date.now()}Tr(nx,Er);ze=nx.prototype;ze.ga=!1;ze.T=null;ze.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Fr(this,"tick"),this.ga&&(rb(this),this.start()))}};ze.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function rb(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}ze.N=function(){nx.$.N.call(this),rb(this),delete this.g};function ib(n,e,t){if(typeof n=="function")t&&(n=ei(n,t));else if(n&&typeof n.handleEvent=="function")n=ei(n.handleEvent,n);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Tt.setTimeout(n,e||0)}function bk(n){n.g=ib(()=>{n.g=null,n.i&&(n.i=!1,bk(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}class YK extends Bl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:bk(this)}N(){super.N(),this.g&&(Tt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kp(n){Bl.call(this),this.h=n,this.g={}}Tr(Kp,Bl);var O3=[];function Rk(n,e,t,r){Array.isArray(t)||(t&&(O3[0]=t.toString()),t=O3);for(var i=0;i<t.length;i++){var s=Sk(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function Pk(n){YC(n.g,function(e,t){this.g.hasOwnProperty(t)&&QC(e)},n),n.g={}}Kp.prototype.N=function(){Kp.$.N.call(this),Pk(this)};Kp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function rx(){this.g=!0}rx.prototype.Ea=function(){this.g=!1};function qK(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var f=u.split("_");o=2<=f.length&&f[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+t+`
`+o})}function QK(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+t+`
`+s+" "+o})}function xh(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+eJ(n,t)+(r?" "+r:"")})}function ZK(n,e){n.info(function(){return"TIMEOUT: "+e})}rx.prototype.info=function(){};function eJ(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t){for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return tb(t)}catch{return e}}var au={},F3=null;function ix(){return F3=F3||new Er}au.Ta="serverreachability";function Ik(n){ti.call(this,au.Ta,n)}Tr(Ik,ti);function Jp(n){const e=ix();Fr(e,new Ik(e))}au.STAT_EVENT="statevent";function Lk(n,e){ti.call(this,au.STAT_EVENT,n),this.stat=e}Tr(Lk,ti);function vi(n){const e=ix();Fr(e,new Lk(e,n))}au.Ua="timingevent";function Dk(n,e){ti.call(this,au.Ua,n),this.size=e}Tr(Dk,ti);function Im(n,e){if(typeof n!="function")throw Error("Fn must not be null and must be a function");return Tt.setTimeout(function(){n()},e)}var sx={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Bk={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function sb(){}sb.prototype.h=null;function k3(n){return n.h||(n.h=n.i())}function Nk(){}var Lm={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ob(){ti.call(this,"d")}Tr(ob,ti);function ab(){ti.call(this,"c")}Tr(ab,ti);var QE;function ox(){}Tr(ox,sb);ox.prototype.g=function(){return new XMLHttpRequest};ox.prototype.i=function(){return{}};QE=new ox;function Dm(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Kp(this),this.P=tJ,n=KE?125:void 0,this.V=new nx(n),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ok}function Ok(){this.i=null,this.g="",this.h=!1}var tJ=45e3,Fk={},ZE={};ze=Dm.prototype;ze.setTimeout=function(n){this.P=n};function eT(n,e,t){n.L=1,n.A=lx(ya(e)),n.u=t,n.S=!0,kk(n,null)}function kk(n,e){n.G=Date.now(),Bm(n),n.B=ya(n.A);var t=n.B,r=n.W;Array.isArray(r)||(r=[String(r)]),Xk(t.i,"t",r),n.o=0,t=n.l.J,n.h=new Ok,n.g=dU(n.l,t?e:null,!n.u),0<n.O&&(n.M=new YK(ei(n.Pa,n,n.g),n.O)),Rk(n.U,n.g,"readystatechange",n.nb),e=n.I?_k(n.I):{},n.u?(n.v||(n.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.B,n.v,n.u,e)):(n.v="GET",n.g.ha(n.B,n.v,null,e)),Jp(),qK(n.j,n.v,n.B,n.m,n.W,n.u)}ze.nb=function(n){n=n.target;const e=this.M;e&&go(n)==3?e.l():this.Pa(n)};ze.Pa=function(n){try{if(n==this.g)e:{const u=go(this.g);var e=this.g.Ia();const f=this.g.da();if(!(3>u)&&(u!=3||KE||this.g&&(this.h.h||this.g.ja()||H3(this.g)))){this.J||u!=4||e==7||(e==8||0>=f?Jp(3):Jp(2)),ax(this);var t=this.g.da();this.ca=t;t:if(Uk(this)){var r=H3(this.g);n="";var i=r.length,s=go(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ac(this),rp(this);var o="";break t}this.h.i=new Tt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=n,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=t==200,QK(this.j,this.v,this.B,this.m,this.W,u,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Gp(a)){var c=a;break t}}c=null}if(t=c)xh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,tT(this,t);else{this.i=!1,this.s=3,vi(12),Ac(this),rp(this);break e}}this.S?(Vk(this,u,o),KE&&this.i&&u==3&&(Rk(this.U,this.V,"tick",this.mb),this.V.start())):(xh(this.j,this.m,o,null),tT(this,o)),u==4&&Ac(this),this.i&&!this.J&&(u==4?cU(this.l,this):(this.i=!1,Bm(this)))}else AJ(this.g),t==400&&0<o.indexOf("Unknown SID")?(this.s=3,vi(12)):(this.s=0,vi(13)),Ac(this),rp(this)}}}catch{}finally{}};function Uk(n){return n.g?n.v=="GET"&&n.L!=2&&n.l.Ha:!1}function Vk(n,e,t){let r=!0,i;for(;!n.J&&n.o<t.length;)if(i=nJ(n,t),i==ZE){e==4&&(n.s=4,vi(14),r=!1),xh(n.j,n.m,null,"[Incomplete Response]");break}else if(i==Fk){n.s=4,vi(15),xh(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}else xh(n.j,n.m,i,null),tT(n,i);Uk(n)&&n.o!=0&&(n.h.g=n.h.g.slice(n.o),n.o=0),e!=4||t.length!=0||n.h.h||(n.s=1,vi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,e=n.l,e.g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),db(e),e.M=!0,vi(11))):(xh(n.j,n.m,t,"[Invalid Chunked Response]"),Ac(n),rp(n))}ze.mb=function(){if(this.g){var n=go(this.g),e=this.g.ja();this.o<e.length&&(ax(this),Vk(this,n,e),this.i&&n!=4&&Bm(this))}};function nJ(n,e){var t=n.o,r=e.indexOf(`
`,t);return r==-1?ZE:(t=Number(e.substring(t,r)),isNaN(t)?Fk:(r+=1,r+t>e.length?ZE:(e=e.slice(r,r+t),n.o=r+t,e)))}ze.cancel=function(){this.J=!0,Ac(this)};function Bm(n){n.Y=Date.now()+n.P,zk(n,n.P)}function zk(n,e){if(n.C!=null)throw Error("WatchDog timer not null");n.C=Im(ei(n.lb,n),e)}function ax(n){n.C&&(Tt.clearTimeout(n.C),n.C=null)}ze.lb=function(){this.C=null;const n=Date.now();0<=n-this.Y?(ZK(this.j,this.B),this.L!=2&&(Jp(),vi(17)),Ac(this),this.s=2,rp(this)):zk(this,this.Y-n)};function rp(n){n.l.H==0||n.J||cU(n.l,n)}function Ac(n){ax(n);var e=n.M;e&&typeof e.sa=="function"&&e.sa(),n.M=null,rb(n.V),Pk(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function tT(n,e){try{var t=n.l;if(t.H!=0&&(t.g==n||nT(t.i,n))){if(!n.K&&nT(t.i,n)&&t.H==3){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!t.u){if(t.g)if(t.g.G+3e3<n.G)Wv(t),fx(t);else break e;fb(t),vi(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&t.A==0&&!t.v&&(t.v=Im(ei(t.ib,t),6e3));if(1>=$k(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else wc(t,11)}else if((n.K||t.g==n)&&Wv(t),!Gp(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(t.V=c[0],c=c[1],t.H==2)if(c[0]=="c"){t.K=c[1],t.pa=c[2];const u=c[3];u!=null&&(t.ra=u,t.l.info("VER="+t.ra));const f=c[4];f!=null&&(t.Ga=f,t.l.info("SVER="+t.Ga));const p=c[5];p!=null&&typeof p=="number"&&0<p&&(r=1.5*p,t.L=r,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const m=n.g;if(m){const y=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var s=r.i;s.g||y.indexOf("spdy")==-1&&y.indexOf("quic")==-1&&y.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(lb(s,s.h),s.h=null))}if(r.F){const S=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;S&&(r.Da=S,_n(r.I,r.F,S))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms")),r=t;var o=n;if(r.wa=fU(r,r.J?r.pa:null,r.Y),o.K){Yk(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(ax(a),Bm(a)),r.g=o}else aU(r);0<t.j.length&&dx(t)}else c[0]!="stop"&&c[0]!="close"||wc(t,7);else t.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?wc(t,7):hb(t):c[0]!="noop"&&t.h&&t.h.Aa(c),t.A=0)}}Jp(4)}catch{}}function rJ(n){if(n.Z&&typeof n.Z=="function")return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if(typeof n=="string")return n.split("");if(Q_(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}e=[],t=0;for(r in n)e[t++]=n[r];return e}function iJ(n){if(n.ta&&typeof n.ta=="function")return n.ta();if(!n.Z||typeof n.Z!="function"){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Q_(n)||typeof n=="string"){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}function Hk(n,e){if(n.forEach&&typeof n.forEach=="function")n.forEach(e,void 0);else if(Q_(n)||typeof n=="string")Array.prototype.forEach.call(n,e,void 0);else for(var t=iJ(n),r=rJ(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}var Gk=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sJ(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Bc(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Bc){this.h=n.h,Gv(this,n.j),this.s=n.s,this.g=n.g,jv(this,n.m),this.l=n.l;var e=n.i,t=new $p;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),U3(this,t),this.o=n.o}else n&&(e=String(n).match(Gk))?(this.h=!1,Gv(this,e[1]||"",!0),this.s=Hd(e[2]||""),this.g=Hd(e[3]||"",!0),jv(this,e[4]),this.l=Hd(e[5]||"",!0),U3(this,e[6]||"",!0),this.o=Hd(e[7]||"")):(this.h=!1,this.i=new $p(null,this.h))}Bc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Gd(e,V3,!0),":");var t=this.g;return(t||e=="file")&&(n.push("//"),(e=this.s)&&n.push(Gd(e,V3,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t=this.m,t!=null&&n.push(":",String(t))),(t=this.l)&&(this.g&&t.charAt(0)!="/"&&n.push("/"),n.push(Gd(t,t.charAt(0)=="/"?lJ:aJ,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Gd(t,uJ)),n.join("")};function ya(n){return new Bc(n)}function Gv(n,e,t){n.j=t?Hd(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function jv(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function U3(n,e,t){e instanceof $p?(n.i=e,hJ(n.i,n.h)):(t||(e=Gd(e,cJ)),n.i=new $p(e,n.h))}function _n(n,e,t){n.i.set(e,t)}function lx(n){return _n(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Hd(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Gd(n,e,t){return typeof n=="string"?(n=encodeURI(n).replace(e,oJ),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function oJ(n){return n=n.charCodeAt(0),"%"+(n>>4&15).toString(16)+(n&15).toString(16)}var V3=/[#\/\?@]/g,aJ=/[#\?:]/g,lJ=/[#\?]/g,cJ=/[#\?@]/g,uJ=/#/g;function $p(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Nl(n){n.g||(n.g=new Map,n.h=0,n.i&&sJ(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}ze=$p.prototype;ze.add=function(n,e){Nl(this),this.i=null,n=Rf(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this};function jk(n,e){Nl(n),e=Rf(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Wk(n,e){return Nl(n),e=Rf(n,e),n.g.has(e)}ze.forEach=function(n,e){Nl(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)};ze.ta=function(){Nl(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t};ze.Z=function(n){Nl(this);let e=[];if(typeof n=="string")Wk(this,n)&&(e=e.concat(this.g.get(Rf(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e};ze.set=function(n,e){return Nl(this),this.i=null,n=Rf(this,n),Wk(this,n)&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this};ze.get=function(n,e){return n?(n=this.Z(n),0<n.length?String(n[0]):e):e};function Xk(n,e,t){jk(n,e),0<t.length&&(n.i=null,n.g.set(Rf(n,e),JC(t)),n.h+=t.length)}ze.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};function Rf(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function hJ(n,e){e&&!n.j&&(Nl(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(jk(this,r),Xk(this,i,t))},n)),n.j=e}var fJ=class{constructor(n,e){this.g=n,this.map=e}};function Kk(n){this.l=n||dJ,Tt.PerformanceNavigationTiming?(n=Tt.performance.getEntriesByType("navigation"),n=0<n.length&&(n[0].nextHopProtocol=="hq"||n[0].nextHopProtocol=="h2")):n=!!(Tt.g&&Tt.g.Ka&&Tt.g.Ka()&&Tt.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var dJ=10;function Jk(n){return n.h?!0:n.g?n.g.size>=n.j:!1}function $k(n){return n.h?1:n.g?n.g.size:0}function nT(n,e){return n.h?n.h==e:n.g?n.g.has(e):!1}function lb(n,e){n.g?n.g.add(e):n.h=e}function Yk(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}Kk.prototype.cancel=function(){if(this.i=qk(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const n of this.g.values())n.cancel();this.g.clear()}};function qk(n){if(n.h!=null)return n.i.concat(n.h.F);if(n.g!=null&&n.g.size!==0){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return JC(n.i)}var pJ=class{stringify(n){return Tt.JSON.stringify(n,void 0)}parse(n){return Tt.JSON.parse(n,void 0)}};function mJ(){this.g=new pJ}function gJ(n,e,t){const r=t||"";try{Hk(n,function(i,s){let o=i;Rm(i)&&(o=tb(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function yJ(n,e){const t=new rx;if(Tt.Image){const r=new Image;r.onload=Ay(Ey,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Ay(Ey,t,r,"TestLoadImage: error",!1,e),r.onabort=Ay(Ey,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ay(Ey,t,r,"TestLoadImage: timeout",!1,e),Tt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}function Ey(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function cx(n){this.l=n.ec||null,this.j=n.ob||!1}Tr(cx,sb);cx.prototype.g=function(){return new ux(this.l,this.j)};cx.prototype.i=function(n){return function(){return n}}({});function ux(n,e){Er.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=cb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Tr(ux,Er);var cb=0;ze=ux.prototype;ze.open=function(n,e){if(this.readyState!=cb)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Yp(this)};ze.send=function(n){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Tt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};ze.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Nm(this)),this.readyState=cb};ze.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Yp(this)),this.g&&(this.readyState=3,Yp(this),this.g)))if(this.responseType==="arraybuffer")n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Tt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Qk(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))};function Qk(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}ze.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Nm(this):Yp(this),this.readyState==3&&Qk(this)}};ze.Za=function(n){this.g&&(this.response=this.responseText=n,Nm(this))};ze.Ya=function(n){this.g&&(this.response=n,Nm(this))};ze.ka=function(){this.g&&Nm(this)};function Nm(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Yp(n)}ze.setRequestHeader=function(n,e){this.v.append(n,e)};ze.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""};ze.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)t=t.value,n.push(t[0]+": "+t[1]),t=e.next();return n.join(`\r
`)};function Yp(n){n.onreadystatechange&&n.onreadystatechange.call(n)}Object.defineProperty(ux.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(n){this.m=n?"include":"same-origin"}});var vJ=Tt.JSON.parse;function Hn(n){Er.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Zk,this.L=this.M=!1}Tr(Hn,Er);var Zk="",_J=/^https?$/i,xJ=["POST","PUT"];ze=Hn.prototype;ze.Oa=function(n){this.M=n};ze.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():QE.g(),this.C=this.u?k3(this.u):k3(QE),this.g.onreadystatechange=ei(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){z3(this,s);return}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())t.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(t.keys()).find(s=>s.toLowerCase()=="content-type"),i=Tt.FormData&&n instanceof Tt.FormData,!(0<=mk(xJ,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{nU(this),0<this.B&&((this.L=SJ(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ei(this.ua,this)):this.A=ib(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){z3(this,s)}};function SJ(n){return tf&&typeof n.timeout=="number"&&n.ontimeout!==void 0}ze.ua=function(){typeof KC<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Fr(this,"timeout"),this.abort(8))};function z3(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,eU(n),hx(n)}function eU(n){n.F||(n.F=!0,Fr(n,"complete"),Fr(n,"error"))}ze.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Fr(this,"complete"),Fr(this,"abort"),hx(this))};ze.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),hx(this,!0)),Hn.$.N.call(this)};ze.La=function(){this.s||(this.G||this.v||this.l?tU(this):this.kb())};ze.kb=function(){tU(this)};function tU(n){if(n.h&&typeof KC<"u"&&(!n.C[1]||go(n)!=4||n.da()!=2)){if(n.v&&go(n)==4)ib(n.La,0,n);else if(Fr(n,"readystatechange"),go(n)==4){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=o===0){var i=String(n.I).match(Gk)[1]||null;!i&&Tt.self&&Tt.self.location&&(i=Tt.self.location.protocol.slice(0,-1)),r=!_J.test(i?i.toLowerCase():"")}t=r}if(t)Fr(n,"complete"),Fr(n,"success");else{n.m=6;try{var s=2<go(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",eU(n)}}finally{hx(n)}}}}function hx(n,e){if(n.g){nU(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Fr(n,"ready");try{t.onreadystatechange=r}catch{}}}function nU(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Tt.clearTimeout(n.A),n.A=null)}ze.isActive=function(){return!!this.g};function go(n){return n.g?n.g.readyState:0}ze.da=function(){try{return 2<go(this)?this.g.status:-1}catch{return-1}};ze.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};ze.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&e.indexOf(n)==0&&(e=e.substring(n.length)),vJ(e)}};function H3(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case Zk:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function AJ(n){const e={};n=(n.g&&2<=go(n)&&n.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<n.length;r++){if(Gp(n[r]))continue;var t=KK(n[r]);const i=t[0];if(t=t[1],typeof t!="string")continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}VK(e,function(r){return r.join(", ")})}ze.Ia=function(){return this.m};ze.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function rU(n){let e="";return YC(n,function(t,r){e+=r,e+=":",e+=t,e+=`\r
`}),e}function ub(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=rU(t),typeof n=="string"?t!=null&&encodeURIComponent(String(t)):_n(n,e,t))}function md(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function iU(n){this.Ga=0,this.j=[],this.l=new rx,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=md("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=md("baseRetryDelayMs",5e3,n),this.hb=md("retryDelaySeedMs",1e4,n),this.eb=md("forwardChannelMaxRetries",2,n),this.xa=md("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new Kk(n&&n.concurrentRequestLimit),this.Ja=new mJ,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}ze=iU.prototype;ze.ra=8;ze.H=1;function hb(n){if(sU(n),n.H==3){var e=n.W++,t=ya(n.I);if(_n(t,"SID",n.K),_n(t,"RID",e),_n(t,"TYPE","terminate"),Om(n,t),e=new Dm(n,n.l,e),e.L=2,e.A=lx(ya(t)),t=!1,Tt.navigator&&Tt.navigator.sendBeacon)try{t=Tt.navigator.sendBeacon(e.A.toString(),"")}catch{}!t&&Tt.Image&&(new Image().src=e.A,t=!0),t||(e.g=dU(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Bm(e)}hU(n)}function fx(n){n.g&&(db(n),n.g.cancel(),n.g=null)}function sU(n){fx(n),n.u&&(Tt.clearTimeout(n.u),n.u=null),Wv(n),n.i.cancel(),n.m&&(typeof n.m=="number"&&Tt.clearTimeout(n.m),n.m=null)}function dx(n){if(!Jk(n.i)&&!n.m){n.m=!0;var e=n.Na;Wp||Ck(),Xp||(Wp(),Xp=!0),nb.add(e,n),n.C=0}}function wJ(n,e){return $k(n.i)>=n.i.j-(n.m?1:0)?!1:n.m?(n.j=e.F.concat(n.j),!0):n.H==1||n.H==2||n.C>=(n.cb?0:n.eb)?!1:(n.m=Im(ei(n.Na,n,e),uU(n,n.C)),n.C++,!0)}ze.Na=function(n){if(this.m)if(this.m=null,this.H==1){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new Dm(this,this.l,n);let s=this.s;if(this.U&&(s?(s=_k(s),xk(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){t:{var r=this.j[t];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=t;break e}if(e===4096||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=oU(this,i,e),t=ya(this.I),_n(t,"RID",n),_n(t,"CVER",22),this.F&&_n(t,"X-HTTP-Session-Id",this.F),Om(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(rU(s)))+"&"+e:this.o&&ub(t,this.o,s)),lb(this.i,i),this.bb&&_n(t,"TYPE","init"),this.P?(_n(t,"$req",e),_n(t,"SID","null"),i.aa=!0,eT(i,t,null)):eT(i,t,e),this.H=2}}else this.H==3&&(n?G3(this,n):this.j.length==0||Jk(this.i)||G3(this))};function G3(n,e){var t;e?t=e.m:t=n.W++;const r=ya(n.I);_n(r,"SID",n.K),_n(r,"RID",t),_n(r,"AID",n.V),Om(n,r),n.o&&n.s&&ub(r,n.o,n.s),t=new Dm(n,n.l,t,n.C+1),n.o===null&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=oU(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),lb(n.i,t),eT(t,r,e)}function Om(n,e){n.na&&YC(n.na,function(t,r){_n(e,r,t)}),n.h&&Hk({},function(t,r){_n(e,r,t)})}function oU(n,e,t){t=Math.min(n.j.length,t);var r=n.h?ei(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const o=["count="+t];s==-1?0<t?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<t;l++){let c=i[l].g;const u=i[l].map;if(c-=s,0>c)s=Math.max(0,i[l].g-100),a=!1;else try{gJ(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function aU(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Wp||Ck(),Xp||(Wp(),Xp=!0),nb.add(e,n),n.A=0}}function fb(n){return n.g||n.u||3<=n.A?!1:(n.ba++,n.u=Im(ei(n.Ma,n),uU(n,n.A)),n.A++,!0)}ze.Ma=function(){if(this.u=null,lU(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Im(ei(this.jb,this),n)}};ze.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,vi(10),fx(this),lU(this))};function db(n){n.B!=null&&(Tt.clearTimeout(n.B),n.B=null)}function lU(n){n.g=new Dm(n,n.l,"rpc",n.ba),n.o===null&&(n.g.I=n.s),n.g.O=0;var e=ya(n.wa);_n(e,"RID","rpc"),_n(e,"SID",n.K),_n(e,"AID",n.V),_n(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&_n(e,"TO",n.qa),_n(e,"TYPE","xmlhttp"),Om(n,e),n.o&&n.s&&ub(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.A=lx(ya(e)),t.u=null,t.S=!0,kk(t,n)}ze.ib=function(){this.v!=null&&(this.v=null,fx(this),fb(this),vi(19))};function Wv(n){n.v!=null&&(Tt.clearTimeout(n.v),n.v=null)}function cU(n,e){var t=null;if(n.g==e){Wv(n),db(n),n.g=null;var r=2}else if(nT(n.i,e))t=e.F,Yk(n.i,e),r=1;else return;if(n.H!=0){if(e.i)if(r==1){t=e.u?e.u.length:0,e=Date.now()-e.G;var i=n.C;r=ix(),Fr(r,new Dk(r,t)),dx(n)}else aU(n);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&wJ(n,e)||r==2&&fb(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:wc(n,5);break;case 4:wc(n,10);break;case 3:wc(n,6);break;default:wc(n,2)}}}function uU(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function wc(n,e){if(n.l.info("Error code "+e),e==2){var t=null;n.h&&(t=null);var r=ei(n.pb,n);t||(t=new Bc("//www.google.com/images/cleardot.gif"),Tt.location&&Tt.location.protocol=="http"||Gv(t,"https"),lx(t)),yJ(t.toString(),r)}else vi(2);n.H=0,n.h&&n.h.za(e),hU(n),sU(n)}ze.pb=function(n){n?(this.l.info("Successfully pinged google.com"),vi(2)):(this.l.info("Failed to ping google.com"),vi(1))};function hU(n){if(n.H=0,n.ma=[],n.h){const e=qk(n.i);(e.length!=0||n.j.length!=0)&&(D3(n.ma,e),D3(n.ma,n.j),n.i.i.length=0,JC(n.j),n.j.length=0),n.h.ya()}}function fU(n,e,t){var r=t instanceof Bc?ya(t):new Bc(t);if(r.g!="")e&&(r.g=e+"."+r.g),jv(r,r.m);else{var i=Tt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Bc(null);r&&Gv(s,r),e&&(s.g=e),i&&jv(s,i),t&&(s.l=t),r=s}return t=n.F,e=n.Da,t&&e&&_n(r,t,e),_n(r,"VER",n.ra),Om(n,r),r}function dU(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n.Ha&&!n.va?new Hn(new cx({ob:t})):new Hn(n.va),e.Oa(n.J),e}ze.isActive=function(){return!!this.h&&this.h.isActive(this)};function pU(){}ze=pU.prototype;ze.Ba=function(){};ze.Aa=function(){};ze.za=function(){};ze.ya=function(){};ze.isActive=function(){return!0};ze.Va=function(){};function Xv(){if(tf&&!(10<=Number(OK)))throw Error("Environmental error: no available transport.")}Xv.prototype.g=function(n,e){return new es(n,e)};function es(n,e){Er.call(this),this.g=new iU(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Gp(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Gp(e)&&(this.g.F=e,n=this.h,n!==null&&e in n&&(n=this.h,e in n&&delete n[e])),this.j=new Pf(this)}Tr(es,Er);es.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;vi(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=fU(n,null,n.Y),dx(n)};es.prototype.close=function(){hb(this.g)};es.prototype.u=function(n){var e=this.g;if(typeof n=="string"){var t={};t.__data__=n,n=t}else this.v&&(t={},t.__data__=tb(n),n=t);e.j.push(new fJ(e.fb++,n)),e.H==3&&dx(e)};es.prototype.N=function(){this.g.h=null,delete this.j,hb(this.g),delete this.g,es.$.N.call(this)};function mU(n){ob.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=e!==null&&n in e?e[n]:void 0),this.data=e}else this.data=n}Tr(mU,ob);function gU(){ab.call(this),this.status=1}Tr(gU,ab);function Pf(n){this.g=n}Tr(Pf,pU);Pf.prototype.Ba=function(){Fr(this.g,"a")};Pf.prototype.Aa=function(n){Fr(this.g,new mU(n))};Pf.prototype.za=function(n){Fr(this.g,new gU)};Pf.prototype.ya=function(){Fr(this.g,"b")};function EJ(){this.blockSize=-1}function Js(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Tr(Js,EJ);Js.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function lA(n,e,t){t||(t=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;e=n.g[0],t=n.g[1],i=n.g[2];var s=n.g[3],o=e+(s^t&(i^s))+r[0]+3614090360&4294967295;e=t+(o<<7&4294967295|o>>>25),o=s+(i^e&(t^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(t^s&(e^t))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=t+(e^i&(s^e))+r[3]+3250441966&4294967295,t=i+(o<<22&4294967295|o>>>10),o=e+(s^t&(i^s))+r[4]+4118548399&4294967295,e=t+(o<<7&4294967295|o>>>25),o=s+(i^e&(t^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(t^s&(e^t))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=t+(e^i&(s^e))+r[7]+4249261313&4294967295,t=i+(o<<22&4294967295|o>>>10),o=e+(s^t&(i^s))+r[8]+1770035416&4294967295,e=t+(o<<7&4294967295|o>>>25),o=s+(i^e&(t^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(t^s&(e^t))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=t+(e^i&(s^e))+r[11]+2304563134&4294967295,t=i+(o<<22&4294967295|o>>>10),o=e+(s^t&(i^s))+r[12]+1804603682&4294967295,e=t+(o<<7&4294967295|o>>>25),o=s+(i^e&(t^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(t^s&(e^t))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=t+(e^i&(s^e))+r[15]+1236535329&4294967295,t=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(t^i))+r[1]+4129170786&4294967295,e=t+(o<<5&4294967295|o>>>27),o=s+(t^i&(e^t))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^t&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=t+(s^e&(i^s))+r[0]+3921069994&4294967295,t=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(t^i))+r[5]+3593408605&4294967295,e=t+(o<<5&4294967295|o>>>27),o=s+(t^i&(e^t))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^t&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=t+(s^e&(i^s))+r[4]+3889429448&4294967295,t=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(t^i))+r[9]+568446438&4294967295,e=t+(o<<5&4294967295|o>>>27),o=s+(t^i&(e^t))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^t&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=t+(s^e&(i^s))+r[8]+1163531501&4294967295,t=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(t^i))+r[13]+2850285829&4294967295,e=t+(o<<5&4294967295|o>>>27),o=s+(t^i&(e^t))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^t&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=t+(s^e&(i^s))+r[12]+2368359562&4294967295,t=i+(o<<20&4294967295|o>>>12),o=e+(t^i^s)+r[5]+4294588738&4294967295,e=t+(o<<4&4294967295|o>>>28),o=s+(e^t^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^t)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=t+(i^s^e)+r[14]+4259657740&4294967295,t=i+(o<<23&4294967295|o>>>9),o=e+(t^i^s)+r[1]+2763975236&4294967295,e=t+(o<<4&4294967295|o>>>28),o=s+(e^t^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^t)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=t+(i^s^e)+r[10]+3200236656&4294967295,t=i+(o<<23&4294967295|o>>>9),o=e+(t^i^s)+r[13]+681279174&4294967295,e=t+(o<<4&4294967295|o>>>28),o=s+(e^t^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^t)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=t+(i^s^e)+r[6]+76029189&4294967295,t=i+(o<<23&4294967295|o>>>9),o=e+(t^i^s)+r[9]+3654602809&4294967295,e=t+(o<<4&4294967295|o>>>28),o=s+(e^t^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^t)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=t+(i^s^e)+r[2]+3299628645&4294967295,t=i+(o<<23&4294967295|o>>>9),o=e+(i^(t|~s))+r[0]+4096336452&4294967295,e=t+(o<<6&4294967295|o>>>26),o=s+(t^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~t))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=t+(s^(i|~e))+r[5]+4237533241&4294967295,t=i+(o<<21&4294967295|o>>>11),o=e+(i^(t|~s))+r[12]+1700485571&4294967295,e=t+(o<<6&4294967295|o>>>26),o=s+(t^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~t))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=t+(s^(i|~e))+r[1]+2240044497&4294967295,t=i+(o<<21&4294967295|o>>>11),o=e+(i^(t|~s))+r[8]+1873313359&4294967295,e=t+(o<<6&4294967295|o>>>26),o=s+(t^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~t))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=t+(s^(i|~e))+r[13]+1309151649&4294967295,t=i+(o<<21&4294967295|o>>>11),o=e+(i^(t|~s))+r[4]+4149444226&4294967295,e=t+(o<<6&4294967295|o>>>26),o=s+(t^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~t))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=t+(s^(i|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}Js.prototype.j=function(n,e){e===void 0&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=t;)lA(this,n,s),s+=this.blockSize;if(typeof n=="string"){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){lA(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){lA(this,r),i=0;break}}this.h=i,this.i+=e};Js.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=t&255,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};function cn(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=n[i]|0;r&&s==e||(t[i]=s,r=!1)}this.g=t}var TJ={};function pb(n){return-128<=n&&128>n?DK(n,function(e){return new cn([e|0],0>e?-1:0)}):new cn([n|0],0>n?-1:0)}function yo(n){if(isNaN(n)||!isFinite(n))return kh;if(0>n)return Br(yo(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=rT;return new cn(e,0)}function yU(n,e){if(n.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(n.charAt(0)=="-")return Br(yU(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=yo(Math.pow(e,8)),r=kh,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),o=parseInt(n.substring(i,i+s),e);8>s?(s=yo(Math.pow(e,s)),r=r.R(s).add(yo(o))):(r=r.R(t),r=r.add(yo(o)))}return r}var rT=4294967296,kh=pb(0),iT=pb(1),j3=pb(16777216);ze=cn.prototype;ze.ea=function(){if(As(this))return-Br(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:rT+r)*e,e*=rT}return n};ze.toString=function(n){if(n=n||10,2>n||36<n)throw Error("radix out of range: "+n);if(na(this))return"0";if(As(this))return"-"+Br(this).toString(n);for(var e=yo(Math.pow(n,6)),t=this,r="";;){var i=Jv(t,e).g;t=Kv(t,i.R(e));var s=((0<t.g.length?t.g[0]:t.h)>>>0).toString(n);if(t=i,na(t))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};ze.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h};function na(n){if(n.h!=0)return!1;for(var e=0;e<n.g.length;e++)if(n.g[e]!=0)return!1;return!0}function As(n){return n.h==-1}ze.X=function(n){return n=Kv(this,n),As(n)?-1:na(n)?0:1};function Br(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new cn(t,~n.h).add(iT)}ze.abs=function(){return As(this)?Br(this):this};ze.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(n.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,t[i]=o<<16|s}return new cn(t,t[t.length-1]&-2147483648?-1:0)};function Kv(n,e){return n.add(Br(e))}ze.R=function(n){if(na(this)||na(n))return kh;if(As(this))return As(n)?Br(this).R(Br(n)):Br(Br(this).R(n));if(As(n))return Br(this.R(Br(n)));if(0>this.X(j3)&&0>n.X(j3))return yo(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=n.D(i)>>>16,l=n.D(i)&65535;t[2*r+2*i]+=o*l,Ty(t,2*r+2*i),t[2*r+2*i+1]+=s*l,Ty(t,2*r+2*i+1),t[2*r+2*i+1]+=o*a,Ty(t,2*r+2*i+1),t[2*r+2*i+2]+=s*a,Ty(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new cn(t,0)};function Ty(n,e){for(;(n[e]&65535)!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function gd(n,e){this.g=n,this.h=e}function Jv(n,e){if(na(e))throw Error("division by zero");if(na(n))return new gd(kh,kh);if(As(n))return e=Jv(Br(n),e),new gd(Br(e.g),Br(e.h));if(As(e))return e=Jv(n,Br(e)),new gd(Br(e.g),e.h);if(30<n.g.length){if(As(n)||As(e))throw Error("slowDivide_ only works with positive integers.");for(var t=iT,r=e;0>=r.X(n);)t=W3(t),r=W3(r);var i=Lu(t,1),s=Lu(r,1);for(r=Lu(r,2),t=Lu(t,2);!na(r);){var o=s.add(r);0>=o.X(n)&&(i=i.add(t),s=o),r=Lu(r,1),t=Lu(t,1)}return e=Kv(n,i.R(e)),new gd(i,e)}for(i=kh;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=Math.ceil(Math.log(t)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=yo(t),o=s.R(e);As(o)||0<o.X(n);)t-=r,s=yo(t),o=s.R(e);na(s)&&(s=iT),i=i.add(s),n=Kv(n,o)}return new gd(i,n)}ze.gb=function(n){return Jv(this,n).h};ze.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new cn(t,this.h&n.h)};ze.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new cn(t,this.h|n.h)};ze.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new cn(t,this.h^n.h)};function W3(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new cn(t,n.h)}function Lu(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new cn(i,n.h)}Xv.prototype.createWebChannel=Xv.prototype.g;es.prototype.send=es.prototype.u;es.prototype.open=es.prototype.m;es.prototype.close=es.prototype.close;sx.NO_ERROR=0;sx.TIMEOUT=8;sx.HTTP_ERROR=6;Bk.COMPLETE="complete";Nk.EventType=Lm;Lm.OPEN="a";Lm.CLOSE="b";Lm.ERROR="c";Lm.MESSAGE="d";Er.prototype.listen=Er.prototype.O;Hn.prototype.listenOnce=Hn.prototype.P;Hn.prototype.getLastError=Hn.prototype.Sa;Hn.prototype.getLastErrorCode=Hn.prototype.Ia;Hn.prototype.getStatus=Hn.prototype.da;Hn.prototype.getResponseJson=Hn.prototype.Wa;Hn.prototype.getResponseText=Hn.prototype.ja;Hn.prototype.send=Hn.prototype.ha;Hn.prototype.setWithCredentials=Hn.prototype.Oa;Js.prototype.digest=Js.prototype.l;Js.prototype.reset=Js.prototype.reset;Js.prototype.update=Js.prototype.j;cn.prototype.add=cn.prototype.add;cn.prototype.multiply=cn.prototype.R;cn.prototype.modulo=cn.prototype.gb;cn.prototype.compare=cn.prototype.X;cn.prototype.toNumber=cn.prototype.ea;cn.prototype.toString=cn.prototype.toString;cn.prototype.getBits=cn.prototype.D;cn.fromNumber=yo;cn.fromString=yU;var MJ=function(){return new Xv},CJ=function(){return ix()},cA=sx,bJ=Bk,RJ=au,X3={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},My=Nk,PJ=Hn,IJ=Js,Uh=cn;const K3="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qr.UNAUTHENTICATED=new qr(null),qr.GOOGLE_CREDENTIALS=new qr("google-credentials-uid"),qr.FIRST_PARTY=new qr("first-party-uid"),qr.MOCK_USER=new qr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let If="10.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc=new ck("@firebase/firestore");function yd(){return qc.logLevel}function je(n,...e){if(qc.logLevel<=Yt.DEBUG){const t=e.map(mb);qc.debug(`Firestore (${If}): ${n}`,...t)}}function bo(n,...e){if(qc.logLevel<=Yt.ERROR){const t=e.map(mb);qc.error(`Firestore (${If}): ${n}`,...t)}}function nf(n,...e){if(qc.logLevel<=Yt.WARN){const t=e.map(mb);qc.warn(`Firestore (${If}): ${n}`,...t)}}function mb(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(n="Unexpected state"){const e=`FIRESTORE (${If}) INTERNAL ASSERTION FAILED: `+n;throw bo(e),new Error(e)}function ir(n,e){n||Bt()}function nn(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends bf{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vU{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class LJ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(qr.UNAUTHENTICATED))}shutdown(){}}class DJ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class BJ{constructor(e){this.t=e,this.currentUser=qr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let r=this.i;const i=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve();let s=new dl;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new dl,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(je("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new dl)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ir(typeof r.accessToken=="string"),new vU(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ir(e===null||typeof e=="string"),new qr(e)}}class NJ{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=qr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class OJ{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new NJ(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(qr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class FJ{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kJ{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=s=>{s.error!=null&&je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,je("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ir(typeof t.token=="string"),this.R=t.token,new FJ(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UJ(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VJ{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=UJ(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function rn(n,e){return n<e?-1:n>e?1:0}function rf(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ct(Fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ct(Fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ct(Fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ct(Fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Bi.fromMillis(Date.now())}static fromDate(e){return Bi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Bi(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?rn(this.nanoseconds,e.nanoseconds):rn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new bt(e)}static min(){return new bt(new Bi(0,0))}static max(){return new bt(new Bi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,t,r){t===void 0?t=0:t>e.length&&Bt(),r===void 0?r=e.length-t:r>e.length-t&&Bt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return qp.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof qp?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Un extends qp{construct(e,t,r){return new Un(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ct(Fe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Un(t)}static emptyPath(){return new Un([])}}const zJ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mi extends qp{construct(e,t,r){return new mi(e,t,r)}static isValidIdentifier(e){return zJ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new mi(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ct(Fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ct(Fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ct(Fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ct(Fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mi(t)}static emptyPath(){return new mi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.path=e}static fromPath(e){return new _t(Un.fromString(e))}static fromName(e){return new _t(Un.fromString(e).popFirst(5))}static empty(){return new _t(Un.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Un.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Un.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _t(new Un(e.slice()))}}function HJ(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=bt.fromTimestamp(r===1e9?new Bi(t+1,0):new Bi(t,r));return new Al(i,_t.empty(),e)}function GJ(n){return new Al(n.readTime,n.key,-1)}class Al{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Al(bt.min(),_t.empty(),-1)}static max(){return new Al(bt.max(),_t.empty(),-1)}}function jJ(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=_t.comparator(n.documentKey,e.documentKey),t!==0?t:rn(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WJ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XJ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gb(n){if(n.code!==Fe.FAILED_PRECONDITION||n.message!==WJ)throw n;je("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Bt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ce((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ce?t:Ce.resolve(t)}catch(t){return Ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ce.reject(t)}static resolve(e){return new Ce((t,r)=>{t(e)})}static reject(e){return new Ce((t,r)=>{r(e)})}static waitFor(e){return new Ce((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},l=>r(l))}),o=!0,s===i&&t()})}static or(e){let t=Ce.resolve(!1);for(const r of e)t=t.next(i=>i?Ce.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new Ce((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;t(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,t){return new Ce((r,i)=>{const s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new dl,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new ip(e,t.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=vb(r.target.error);this.V.reject(new ip(e,i))}}static open(e,t,r,i){try{return new yb(t,e.transaction(i,r))}catch(s){throw new ip(t,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(je("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new JJ(t)}}class Ec{constructor(e,t,r){this.name=e,this.version=t,this.p=r,Ec.S(Vv())===12.2&&bo("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return je("SimpleDb","Removing database:",e),yc(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!ak())return!1;if(Ec.C())return!0;const e=Vv(),t=Ec.S(e),r=0<t&&t<10,i=Ec.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(je("SimpleDb","Opening database:",this.name),this.db=await new Promise((t,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;t(o)},i.onblocked=()=>{r(new ip(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new ct(Fe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new ct(Fe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new ip(e,o))},i.onupgradeneeded=s=>{je("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{je("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=t=>this.B(t)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,i){const s=t==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const a=yb.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),Ce.reject(c))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&o<3;if(je("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class KJ{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return yc(this.k.delete())}}class ip extends ct{constructor(e,t){super(Fe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Fm(n){return n.name==="IndexedDbTransactionError"}class JJ{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(je("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(je("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),yc(r)}add(e){return je("SimpleDb","ADD",this.store.name,e,e),yc(this.store.add(e))}get(e){return yc(this.store.get(e)).next(t=>(t===void 0&&(t=null),je("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return je("SimpleDb","DELETE",this.store.name,e),yc(this.store.delete(e))}count(){return je("SimpleDb","COUNT",this.store.name),yc(this.store.count())}W(e,t){const r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new Ce((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(r),o=[];return this.G(s,(a,l)=>{o.push(l)}).next(()=>o)}}j(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new Ce((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,t){je("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.G(i,t)}Z(e){const t=this.cursor({});return new Ce((r,i)=>{t.onerror=s=>{const o=vb(s.target.error);i(o)},t.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,t){const r=[];return new Ce((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new KJ(a),c=t(a.primaryKey,a.value,l);if(c instanceof Ce){const u=c.catch(f=>(l.done(),Ce.reject(f)));r.push(u)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>Ce.waitFor(r))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function yc(n){return new Ce((e,t)=>{n.onsuccess=r=>{const i=r.target.result;e(i)},n.onerror=r=>{const i=vb(r.target.error);t(i)}})}let J3=!1;function vb(n){const e=Ec.S(Vv());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new ct("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return J3||(J3=!0,setTimeout(()=>{throw r},0)),r}}return n}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.se(r),this.oe=r=>t.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}_b._e=-1;function px(n){return n==null}function sT(n){return n===0&&1/n==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $3(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function mx(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function $J(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e,t){this.comparator=e,this.root=t||Dr.EMPTY}insert(e,t){return new $n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Dr.BLACK,null,null))}remove(e){return new $n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cy(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cy(this.root,e,this.comparator,!0)}}class Cy{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dr{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Dr.RED,this.left=i??Dr.EMPTY,this.right=s??Dr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Dr(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Dr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Dr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Bt();const e=this.left.check();if(e!==this.right.check())throw Bt();return e+(this.isRed()?0:1)}}Dr.EMPTY=null,Dr.RED=!0,Dr.BLACK=!1;Dr.EMPTY=new class{constructor(){this.size=0}get key(){throw Bt()}get value(){throw Bt()}get color(){throw Bt()}get left(){throw Bt()}get right(){throw Bt()}copy(e,t,r,i,s){return this}insert(e,t,r){return new Dr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this.comparator=e,this.data=new $n(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Y3(this.data.getIterator())}getIteratorFrom(e){return new Y3(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof kr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new kr(this.comparator);return t.data=e,t}}class Y3{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e){this.fields=e,e.sort(mi.comparator)}static empty(){return new el([])}unionWith(e){let t=new kr(mi.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new el(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return rf(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new _U("Invalid base64 string: "+s):s}}(e);return new ii(t)}static fromUint8Array(e){const t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new ii(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ii.EMPTY_BYTE_STRING=new ii("");const YJ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wl(n){if(ir(!!n),typeof n=="string"){let e=0;const t=YJ.exec(n);if(ir(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:tr(n.seconds),nanos:tr(n.nanos)}}function tr(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Qc(n){return typeof n=="string"?ii.fromBase64String(n):ii.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Sb(n){const e=n.mapValue.fields.__previous_value__;return xb(e)?Sb(e):e}function Qp(n){const e=wl(n.mapValue.fields.__local_write_time__.timestampValue);return new Bi(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qJ{constructor(e,t,r,i,s,o,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Zp{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Zp("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Zp&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Zc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?xb(n)?4:QJ(n)?9007199254740991:10:Bt()}function Ro(n,e){if(n===e)return!0;const t=Zc(n);if(t!==Zc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Qp(n).isEqual(Qp(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=wl(i.timestampValue),a=wl(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return Qc(i.bytesValue).isEqual(Qc(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return tr(i.geoPointValue.latitude)===tr(s.geoPointValue.latitude)&&tr(i.geoPointValue.longitude)===tr(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return tr(i.integerValue)===tr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=tr(i.doubleValue),a=tr(s.doubleValue);return o===a?sT(o)===sT(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return rf(n.arrayValue.values||[],e.arrayValue.values||[],Ro);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if($3(o)!==$3(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Ro(o[l],a[l])))return!1;return!0}(n,e);default:return Bt()}}function em(n,e){return(n.values||[]).find(t=>Ro(t,e))!==void 0}function sf(n,e){if(n===e)return 0;const t=Zc(n),r=Zc(e);if(t!==r)return rn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return rn(n.booleanValue,e.booleanValue);case 2:return function(s,o){const a=tr(s.integerValue||s.doubleValue),l=tr(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return q3(n.timestampValue,e.timestampValue);case 4:return q3(Qp(n),Qp(e));case 5:return rn(n.stringValue,e.stringValue);case 6:return function(s,o){const a=Qc(s),l=Qc(o);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=rn(a[c],l[c]);if(u!==0)return u}return rn(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){const a=rn(tr(s.latitude),tr(o.latitude));return a!==0?a:rn(tr(s.longitude),tr(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=sf(a[c],l[c]);if(u)return u}return rn(a.length,l.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===by.mapValue&&o===by.mapValue)return 0;if(s===by.mapValue)return 1;if(o===by.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const p=rn(l[f],u[f]);if(p!==0)return p;const m=sf(a[l[f]],c[u[f]]);if(m!==0)return m}return rn(l.length,u.length)}(n.mapValue,e.mapValue);default:throw Bt()}}function q3(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return rn(n,e);const t=wl(n),r=wl(e),i=rn(t.seconds,r.seconds);return i!==0?i:rn(t.nanos,r.nanos)}function of(n){return oT(n)}function oT(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=wl(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Qc(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return _t.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=oT(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${oT(t.fields[o])}`;return i+"}"}(n.mapValue):Bt()}function aT(n){return!!n&&"integerValue"in n}function Ab(n){return!!n&&"arrayValue"in n}function Q3(n){return!!n&&"nullValue"in n}function Z3(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function uA(n){return!!n&&"mapValue"in n}function sp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return mx(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=sp(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=sp(n.arrayValue.values[t]);return e}return Object.assign({},n)}function QJ(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this.value=e}static empty(){return new mo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!uA(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=sp(t)}setAll(e){let t=mi.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=sp(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());uA(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ro(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];uA(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){mx(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new mo(sp(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Zr(e,0,bt.min(),bt.min(),bt.min(),mo.empty(),0)}static newFoundDocument(e,t,r,i){return new Zr(e,1,t,bt.min(),r,i,0)}static newNoDocument(e,t){return new Zr(e,2,t,bt.min(),bt.min(),mo.empty(),0)}static newUnknownDocument(e,t){return new Zr(e,3,t,bt.min(),bt.min(),mo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e,t){this.position=e,this.inclusive=t}}function eL(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(s.field.isKeyField()?r=_t.comparator(_t.fromName(o.referenceValue),t.key):r=sf(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function tL(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ro(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(e,t="asc"){this.field=e,this.dir=t}}function ZJ(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{}class ur extends xU{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new t$(e,t,r):t==="array-contains"?new i$(e,r):t==="in"?new s$(e,r):t==="not-in"?new o$(e,r):t==="array-contains-any"?new a$(e,r):new ur(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new n$(e,r):new r$(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(sf(t,this.value)):t!==null&&Zc(this.value)===Zc(t)&&this.matchesComparison(sf(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Bt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Po extends xU{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new Po(e,t)}matches(e){return SU(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function SU(n){return n.op==="and"}function AU(n){return e$(n)&&SU(n)}function e$(n){for(const e of n.filters)if(e instanceof Po)return!1;return!0}function lT(n){if(n instanceof ur)return n.field.canonicalString()+n.op.toString()+of(n.value);if(AU(n))return n.filters.map(e=>lT(e)).join(",");{const e=n.filters.map(t=>lT(t)).join(",");return`${n.op}(${e})`}}function wU(n,e){return n instanceof ur?function(r,i){return i instanceof ur&&r.op===i.op&&r.field.isEqual(i.field)&&Ro(r.value,i.value)}(n,e):n instanceof Po?function(r,i){return i instanceof Po&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&wU(o,i.filters[a]),!0):!1}(n,e):void Bt()}function EU(n){return n instanceof ur?function(t){return`${t.field.canonicalString()} ${t.op} ${of(t.value)}`}(n):n instanceof Po?function(t){return t.op.toString()+" {"+t.getFilters().map(EU).join(" ,")+"}"}(n):"Filter"}class t$ extends ur{constructor(e,t,r){super(e,t,r),this.key=_t.fromName(r.referenceValue)}matches(e){const t=_t.comparator(e.key,this.key);return this.matchesComparison(t)}}class n$ extends ur{constructor(e,t){super(e,"in",t),this.keys=TU("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class r$ extends ur{constructor(e,t){super(e,"not-in",t),this.keys=TU("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function TU(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>_t.fromName(r.referenceValue))}class i$ extends ur{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ab(t)&&em(t.arrayValue,this.value)}}class s$ extends ur{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&em(this.value.arrayValue,t)}}class o$ extends ur{constructor(e,t){super(e,"not-in",t)}matches(e){if(em(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!em(this.value.arrayValue,t)}}class a$ extends ur{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ab(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>em(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l${constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function nL(n,e=null,t=[],r=[],i=null,s=null,o=null){return new l$(n,e,t,r,i,s,o)}function wb(n){const e=nn(n);if(e.ce===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>lT(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),px(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>of(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>of(r)).join(",")),e.ce=t}return e.ce}function Eb(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!ZJ(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!wU(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!tL(n.startAt,e.startAt)&&tL(n.endAt,e.endAt)}function cT(n){return _t.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function c$(n,e,t,r,i,s,o,a){return new gx(n,e,t,r,i,s,o,a)}function MU(n){return new gx(n)}function rL(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function u$(n){return n.collectionGroup!==null}function op(n){const e=nn(n);if(e.le===null){e.le=[];const t=new Set;for(const s of e.explicitOrderBy)e.le.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new kr(mi.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.le.push(new Yv(s,r))}),t.has(mi.keyField().canonicalString())||e.le.push(new Yv(mi.keyField(),r))}return e.le}function Ao(n){const e=nn(n);return e.he||(e.he=h$(e,op(n))),e.he}function h$(n,e){if(n.limitType==="F")return nL(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Yv(i.field,s)});const t=n.endAt?new $v(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new $v(n.startAt.position,n.startAt.inclusive):null;return nL(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function uT(n,e,t){return new gx(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function yx(n,e){return Eb(Ao(n),Ao(e))&&n.limitType===e.limitType}function CU(n){return`${wb(Ao(n))}|lt:${n.limitType}`}function rh(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>EU(i)).join(", ")}]`),px(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>of(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>of(i)).join(",")),`Target(${r})`}(Ao(n))}; limitType=${n.limitType})`}function vx(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):_t.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of op(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=eL(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,op(r),i)||r.endAt&&!function(o,a,l){const c=eL(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,op(r),i))}(n,e)}function f$(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function bU(n){return(e,t)=>{let r=!1;for(const i of op(n)){const s=d$(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function d$(n,e,t){const r=n.field.isKeyField()?_t.comparator(e.key,t.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?sf(l,c):Bt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Bt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){mx(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return $J(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p$=new $n(_t.comparator);function El(){return p$}const RU=new $n(_t.comparator);function jd(...n){let e=RU;for(const t of n)e=e.insert(t.key,t);return e}function m$(n){let e=RU;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Tc(){return ap()}function PU(){return ap()}function ap(){return new Lf(n=>n.toString(),(n,e)=>n.isEqual(e))}const g$=new kr(_t.comparator);function qt(...n){let e=g$;for(const t of n)e=e.add(t);return e}const y$=new kr(rn);function v$(){return y$}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _$(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sT(e)?"-0":e}}function x$(n){return{integerValue:""+n}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(){this._=void 0}}function S$(n,e,t){return n instanceof hT?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&xb(s)&&(s=Sb(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof qv?IU(n,e):n instanceof Qv?LU(n,e):function(i,s){const o=w$(i,s),a=iL(o)+iL(i.Ie);return aT(o)&&aT(i.Ie)?x$(a):_$(i.serializer,a)}(n,e)}function A$(n,e,t){return n instanceof qv?IU(n,e):n instanceof Qv?LU(n,e):t}function w$(n,e){return n instanceof fT?function(r){return aT(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class hT extends _x{}class qv extends _x{constructor(e){super(),this.elements=e}}function IU(n,e){const t=DU(e);for(const r of n.elements)t.some(i=>Ro(i,r))||t.push(r);return{arrayValue:{values:t}}}class Qv extends _x{constructor(e){super(),this.elements=e}}function LU(n,e){let t=DU(e);for(const r of n.elements)t=t.filter(i=>!Ro(i,r));return{arrayValue:{values:t}}}class fT extends _x{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function iL(n){return tr(n.integerValue||n.doubleValue)}function DU(n){return Ab(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function E$(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof qv&&i instanceof qv||r instanceof Qv&&i instanceof Qv?rf(r.elements,i.elements,Ro):r instanceof fT&&i instanceof fT?Ro(r.Ie,i.Ie):r instanceof hT&&i instanceof hT}(n.transform,e.transform)}class Nc{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Nc}static exists(e){return new Nc(void 0,e)}static updateTime(e){return new Nc(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function K0(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Tb{}function BU(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new M$(n.key,Nc.none()):new Mb(n.key,n.data,Nc.none());{const t=n.data,r=mo.empty();let i=new kr(mi.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new xx(n.key,r,new el(i.toArray()),Nc.none())}}function T$(n,e,t){n instanceof Mb?function(i,s,o){const a=i.value.clone(),l=oL(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof xx?function(i,s,o){if(!K0(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=oL(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(NU(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function lp(n,e,t,r){return n instanceof Mb?function(s,o,a,l){if(!K0(s.precondition,o))return a;const c=s.value.clone(),u=aL(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,e,t,r):n instanceof xx?function(s,o,a,l){if(!K0(s.precondition,o))return a;const c=aL(s.fieldTransforms,l,o),u=o.data;return u.setAll(NU(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(n,e,t,r):function(s,o,a){return K0(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(n,e,t)}function sL(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&rf(r,i,(s,o)=>E$(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Mb extends Tb{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class xx extends Tb{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function NU(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function oL(n,e,t){const r=new Map;ir(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,A$(o,a,t[i]))}return r}function aL(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,S$(s,o,e))}return r}class M$ extends Tb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C${constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&T$(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=lp(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=lp(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=PU();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const l=BU(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(bt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),qt())}isEqual(e){return this.batchId===e.batchId&&rf(this.mutations,e.mutations,(t,r)=>sL(t,r))&&rf(this.baseMutations,e.baseMutations,(t,r)=>sL(t,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b${constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R${constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zn,Wt;function OU(n){if(n===void 0)return bo("GRPC error has no .code"),Fe.UNKNOWN;switch(n){case Zn.OK:return Fe.OK;case Zn.CANCELLED:return Fe.CANCELLED;case Zn.UNKNOWN:return Fe.UNKNOWN;case Zn.DEADLINE_EXCEEDED:return Fe.DEADLINE_EXCEEDED;case Zn.RESOURCE_EXHAUSTED:return Fe.RESOURCE_EXHAUSTED;case Zn.INTERNAL:return Fe.INTERNAL;case Zn.UNAVAILABLE:return Fe.UNAVAILABLE;case Zn.UNAUTHENTICATED:return Fe.UNAUTHENTICATED;case Zn.INVALID_ARGUMENT:return Fe.INVALID_ARGUMENT;case Zn.NOT_FOUND:return Fe.NOT_FOUND;case Zn.ALREADY_EXISTS:return Fe.ALREADY_EXISTS;case Zn.PERMISSION_DENIED:return Fe.PERMISSION_DENIED;case Zn.FAILED_PRECONDITION:return Fe.FAILED_PRECONDITION;case Zn.ABORTED:return Fe.ABORTED;case Zn.OUT_OF_RANGE:return Fe.OUT_OF_RANGE;case Zn.UNIMPLEMENTED:return Fe.UNIMPLEMENTED;case Zn.DATA_LOSS:return Fe.DATA_LOSS;default:return Bt()}}(Wt=Zn||(Zn={}))[Wt.OK=0]="OK",Wt[Wt.CANCELLED=1]="CANCELLED",Wt[Wt.UNKNOWN=2]="UNKNOWN",Wt[Wt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Wt[Wt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Wt[Wt.NOT_FOUND=5]="NOT_FOUND",Wt[Wt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Wt[Wt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Wt[Wt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Wt[Wt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Wt[Wt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Wt[Wt.ABORTED=10]="ABORTED",Wt[Wt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Wt[Wt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Wt[Wt.INTERNAL=13]="INTERNAL",Wt[Wt.UNAVAILABLE=14]="UNAVAILABLE",Wt[Wt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P$(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I$=new Uh([4294967295,4294967295],0);function lL(n){const e=P$().encode(n),t=new IJ;return t.update(e),new Uint8Array(t.digest())}function cL(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Uh([t,r],0),new Uh([i,s],0)]}class Cb{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Wd(`Invalid padding: ${t}`);if(r<0)throw new Wd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Wd(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Wd(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=Uh.fromNumber(this.Te)}de(e,t,r){let i=e.add(t.multiply(Uh.fromNumber(r)));return i.compare(I$)===1&&(i=new Uh([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=lL(e),[r,i]=cL(t);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Cb(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const t=lL(e),[r,i]=cL(t);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Wd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,km.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Sx(bt.min(),i,new $n(rn),El(),qt())}}class km{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new km(r,t,qt(),qt(),qt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e,t,r,i){this.Ve=e,this.removedTargetIds=t,this.key=r,this.me=i}}class FU{constructor(e,t){this.targetId=e,this.fe=t}}class kU{constructor(e,t,r=ii.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class uL{constructor(){this.ge=0,this.pe=fL(),this.ye=ii.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=qt(),t=qt(),r=qt();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Bt()}}),new km(this.ye,this.we,e,t,r)}Fe(){this.Se=!1,this.pe=fL()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,ir(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class L${constructor(e){this.Le=e,this.ke=new Map,this.qe=El(),this.Qe=hL(),this.Ke=new $n(rn)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(t);break;case 3:this.je(t)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.Ce(e.resumeToken));break;default:Bt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((r,i)=>{this.je(i)&&t(i)})}Je(e){const t=e.targetId,r=e.fe.count,i=this.Ye(t);if(i){const s=i.target;if(cT(s))if(r===0){const o=new _t(s.path);this.We(t,o,Zr.newNoDocument(o,bt.min()))}else ir(r===1);else{const o=this.Ze(t);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(t);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,c)}}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let o,a;try{o=Qc(r).toUint8Array()}catch(l){if(l instanceof _U)return nf("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Cb(o,i,s)}catch(l){return nf(l instanceof Wd?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,t,r){return t.fe.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(t,s,null),i++)}),i}it(e){const t=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&cT(a.target)){const l=new _t(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,Zr.newNoDocument(l,e))}s.De&&(t.set(o,s.ve()),s.Fe())}});let r=qt();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new Sx(e,t,this.Ke,this.qe,r);return this.qe=El(),this.Qe=hL(),this.Ke=new $n(rn),i}Ue(e,t){if(!this.je(e))return;const r=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,r),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,t)?i.Me(t,1):i.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),r&&(this.qe=this.qe.insert(t,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new uL,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new kr(rn),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||je("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new uL),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function hL(){return new $n(_t.comparator)}function fL(){return new $n(_t.comparator)}const D$={asc:"ASCENDING",desc:"DESCENDING"},B$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},N$={and:"AND",or:"OR"};class O${constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function dT(n,e){return n.useProto3Json||px(e)?e:{value:e}}function F$(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function k$(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Vh(n){return ir(!!n),bt.fromTimestamp(function(t){const r=wl(t);return new Bi(r.seconds,r.nanos)}(n))}function U$(n,e){return pT(n,e).canonicalString()}function pT(n,e){const t=function(i){return new Un(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function UU(n){const e=Un.fromString(n);return ir(jU(e)),e}function hA(n,e){const t=UU(e);if(t.get(1)!==n.databaseId.projectId)throw new ct(Fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ct(Fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _t(zU(t))}function VU(n,e){return U$(n.databaseId,e)}function V$(n){const e=UU(n);return e.length===4?Un.emptyPath():zU(e)}function dL(n){return new Un(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function zU(n){return ir(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function z$(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Bt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(ir(u===void 0||typeof u=="string"),ii.fromBase64String(u||"")):(ir(u===void 0||u instanceof Uint8Array),ii.fromUint8Array(u||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?Fe.UNKNOWN:OU(c.code);return new ct(u,c.message||"")}(o);t=new kU(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=hA(n,r.document.name),s=Vh(r.document.updateTime),o=r.document.createTime?Vh(r.document.createTime):bt.min(),a=new mo({mapValue:{fields:r.document.fields}}),l=Zr.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];t=new J0(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=hA(n,r.document),s=r.readTime?Vh(r.readTime):bt.min(),o=Zr.newNoDocument(i,s),a=r.removedTargetIds||[];t=new J0([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=hA(n,r.document),s=r.removedTargetIds||[];t=new J0([],s,i,null)}else{if(!("filter"in e))return Bt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new R$(i,s),a=r.targetId;t=new FU(a,o)}}return t}function H$(n,e){return{documents:[VU(n,e.path)]}}function G$(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=VU(n,i);const s=function(c){if(c.length!==0)return GU(Po.create(c,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(u=>function(p){return{field:ih(p.field),direction:X$(p.dir)}}(u))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const a=dT(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ut:t,parent:i}}function j$(n){let e=V$(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){ir(r===1);const u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];t.where&&(s=function(f){const p=HU(f);return p instanceof Po&&AU(p)?p.getFilters():[p]}(t.where));let o=[];t.orderBy&&(o=function(f){return f.map(p=>function(y){return new Yv(sh(y.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(p))}(t.orderBy));let a=null;t.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,px(p)?null:p}(t.limit));let l=null;t.startAt&&(l=function(f){const p=!!f.before,m=f.values||[];return new $v(m,p)}(t.startAt));let c=null;return t.endAt&&(c=function(f){const p=!f.before,m=f.values||[];return new $v(m,p)}(t.endAt)),c$(e,i,o,s,a,"F",l,c)}function W$(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Bt()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function HU(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=sh(t.unaryFilter.field);return ur.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=sh(t.unaryFilter.field);return ur.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=sh(t.unaryFilter.field);return ur.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=sh(t.unaryFilter.field);return ur.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Bt()}}(n):n.fieldFilter!==void 0?function(t){return ur.create(sh(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Bt()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Po.create(t.compositeFilter.filters.map(r=>HU(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Bt()}}(t.compositeFilter.op))}(n):Bt()}function X$(n){return D$[n]}function K$(n){return B$[n]}function J$(n){return N$[n]}function ih(n){return{fieldPath:n.canonicalString()}}function sh(n){return mi.fromServerFormat(n.fieldPath)}function GU(n){return n instanceof ur?function(t){if(t.op==="=="){if(Z3(t.value))return{unaryFilter:{field:ih(t.field),op:"IS_NAN"}};if(Q3(t.value))return{unaryFilter:{field:ih(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Z3(t.value))return{unaryFilter:{field:ih(t.field),op:"IS_NOT_NAN"}};if(Q3(t.value))return{unaryFilter:{field:ih(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ih(t.field),op:K$(t.op),value:t.value}}}(n):n instanceof Po?function(t){const r=t.getFilters().map(i=>GU(i));return r.length===1?r[0]:{compositeFilter:{op:J$(t.op),filters:r}}}(n):Bt()}function jU(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,t,r,i,s=bt.min(),o=bt.min(),a=ii.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new tl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new tl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new tl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new tl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $${constructor(e){this.ct=e}}function Y$(n){const e=j$({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?uT(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q${constructor(){this._n=new Q$}addToCollectionParentIndex(e,t){return this._n.add(t),Ce.resolve()}getCollectionParents(e,t){return Ce.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return Ce.resolve()}deleteFieldIndex(e,t){return Ce.resolve()}deleteAllFieldIndexes(e){return Ce.resolve()}createTargetIndexes(e,t){return Ce.resolve()}getDocumentsMatchingTarget(e,t){return Ce.resolve(null)}getIndexType(e,t){return Ce.resolve(0)}getFieldIndexes(e,t){return Ce.resolve([])}getNextCollectionGroupToUpdate(e){return Ce.resolve(null)}getMinOffset(e,t){return Ce.resolve(Al.min())}getMinOffsetFromCollectionGroup(e,t){return Ce.resolve(Al.min())}updateCollectionGroup(e,t,r){return Ce.resolve()}updateIndexEntries(e,t){return Ce.resolve()}}class Q${constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new kr(Un.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new kr(Un.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new af(0)}static Bn(){return new af(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z${constructor(){this.changes=new Lf(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Zr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Ce.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eY{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tY{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&lp(r.mutation,i,el.empty(),Bi.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,qt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=qt()){const i=Tc();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=jd();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=Tc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,qt()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=El();const o=ap(),a=function(){return ap()}();return t.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof xx)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),lp(u.mutation,c,u.mutation.getFieldMask(),Bi.now())):o.set(c.key,el.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),t.forEach((c,u)=>{var f;return a.set(c,new eY(u,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,t){const r=ap();let i=new $n((o,a)=>o-a),s=qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=t.get(l);if(c===null)return;let u=r.get(l)||el.empty();u=a.applyToLocalView(c,u),r.set(l,u);const f=(i.get(a.batchId)||qt()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,f=PU();u.forEach(p=>{if(!s.has(p)){const m=BU(t.get(p),r.get(p));m!==null&&f.set(p,m),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return Ce.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(o){return _t.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):u$(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):Ce.resolve(Tc());let a=-1,l=s;return o.next(c=>Ce.forEach(c,(u,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(u)?Ce.resolve():this.remoteDocumentCache.getEntry(e,u).next(p=>{l=l.insert(u,p)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,qt())).next(u=>({batchId:a,changes:m$(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _t(t)).next(r=>{let i=jd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let o=jd();return this.indexManager.getCollectionParents(e,s).next(a=>Ce.forEach(a,l=>{const c=function(f,p){return new gx(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(t,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,Zr.newInvalidDocument(u)))});let a=jd();return o.forEach((l,c)=>{const u=s.get(l);u!==void 0&&lp(u.mutation,c,el.empty(),Bi.now()),vx(t,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nY{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return Ce.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Vh(i.createTime)}}(t)),Ce.resolve()}getNamedQuery(e,t){return Ce.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(i){return{name:i.name,query:Y$(i.bundledQuery),readTime:Vh(i.readTime)}}(t)),Ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rY{constructor(){this.overlays=new $n(_t.comparator),this.hr=new Map}getOverlay(e,t){return Ce.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Tc();return Ce.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ht(e,t,s)}),Ce.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),Ce.resolve()}getOverlaysForCollection(e,t,r){const i=Tc(),s=t.length+1,o=new _t(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Ce.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new $n((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=Tc(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Tc(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return Ce.resolve(a)}ht(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new b$(t,r));let s=this.hr.get(t);s===void 0&&(s=qt(),this.hr.set(t,s)),this.hr.set(t,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(){this.Pr=new kr(xr.Ir),this.Tr=new kr(xr.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const r=new xr(e,t);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ar(new xr(e,t))}Rr(e,t){e.forEach(r=>this.removeReference(r,t))}Vr(e){const t=new _t(new Un([])),r=new xr(t,e),i=new xr(t,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new _t(new Un([])),r=new xr(t,e),i=new xr(t,e+1);let s=qt();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new xr(e,0),r=this.Pr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class xr{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return _t.comparator(e.key,t.key)||rn(e.pr,t.pr)}static Er(e,t){return rn(e.pr,t.pr)||_t.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iY{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new kr(xr.Ir)}checkEmpty(e){return Ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new C$(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new xr(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ce.resolve(o)}lookupMutationBatch(e,t){return Ce.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.br(r),s=i<0?0:i;return Ce.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ce.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return Ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new xr(t,0),i=new xr(t,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),Ce.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new kr(rn);return t.forEach(i=>{const s=new xr(i,0),o=new xr(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),Ce.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;_t.isDocumentKey(s)||(s=s.child(""));const o=new xr(new _t(s),0);let a=new kr(rn);return this.wr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.pr)),!0)},o),Ce.resolve(this.Dr(a))}Dr(e){const t=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){ir(this.Cr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return Ce.forEach(t.mutations,i=>{const s=new xr(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,t){const r=new xr(t,0),i=this.wr.firstAfterOrEqual(r);return Ce.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ce.resolve()}Cr(e,t){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sY{constructor(e){this.vr=e,this.docs=function(){return new $n(_t.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Ce.resolve(r?r.document.mutableCopy():Zr.newInvalidDocument(t))}getEntries(e,t){let r=El();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Zr.newInvalidDocument(i))}),Ce.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=El();const o=t.path,a=new _t(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||jJ(GJ(u),r)<=0||(i.has(u.key)||vx(t,u))&&(s=s.insert(u.key,u.mutableCopy()))}return Ce.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Bt()}Fr(e,t){return Ce.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new oY(this)}getSize(e){return Ce.resolve(this.size)}}class oY extends Z${constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),Ce.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aY{constructor(e){this.persistence=e,this.Mr=new Lf(t=>wb(t),Eb),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.Or=0,this.Nr=new bb,this.targetCount=0,this.Br=af.Nn()}forEachTarget(e,t){return this.Mr.forEach((r,i)=>t(i)),Ce.resolve()}getLastRemoteSnapshotVersion(e){return Ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ce.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),Ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Or&&(this.Or=t),Ce.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Br=new af(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,Ce.resolve()}updateTargetData(e,t){return this.qn(t),Ce.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,Ce.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Ce.waitFor(s).next(()=>i)}getTargetCount(e){return Ce.resolve(this.targetCount)}getTargetData(e,t){const r=this.Mr.get(t)||null;return Ce.resolve(r)}addMatchingKeys(e,t,r){return this.Nr.dr(t,r),Ce.resolve()}removeMatchingKeys(e,t,r){this.Nr.Rr(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Ce.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),Ce.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Nr.gr(t);return Ce.resolve(r)}containsKey(e,t){return Ce.resolve(this.Nr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lY{constructor(e,t){this.Lr={},this.overlays={},this.kr=new _b(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new aY(this),this.indexManager=new q$,this.remoteDocumentCache=function(i){return new sY(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new $$(t),this.$r=new nY(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new rY,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Lr[e.toKey()];return r||(r=new iY(t,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,r){je("MemoryPersistence","Starting transaction:",e);const i=new cY(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,t){return Ce.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,t)))}}class cY extends XJ{constructor(e){super(),this.currentSequenceNumber=e}}class Rb{constructor(e){this.persistence=e,this.zr=new bb,this.jr=null}static Hr(e){return new Rb(e)}get Jr(){if(this.jr)return this.jr;throw Bt()}addReference(e,t,r){return this.zr.addReference(r,t),this.Jr.delete(r.toString()),Ce.resolve()}removeReference(e,t,r){return this.zr.removeReference(r,t),this.Jr.add(r.toString()),Ce.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),Ce.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ce.forEach(this.Jr,r=>{const i=_t.fromPath(r);return this.Yr(e,i).next(s=>{s||t.removeEntry(i,bt.min())})}).next(()=>(this.jr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Yr(e,t).next(r=>{r?this.Jr.delete(t.toString()):this.Jr.add(t.toString())})}Kr(e){return 0}Yr(e,t){return Ce.or([()=>Ce.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.qi=r,this.Qi=i}static Ki(e,t){let r=qt(),i=qt();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Pb(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uY{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hY{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return fX()?8:Ec.v(Vv())>0?6:4}()}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.ji(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new uY;return this.Ji(e,t,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,t,o,a.size)})}).next(()=>s.result)}Yi(e,t,r,i){return r.documentReadCount<this.Wi?(yd()<=Yt.DEBUG&&je("QueryEngine","SDK will not create cache indexes for query:",rh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Ce.resolve()):(yd()<=Yt.DEBUG&&je("QueryEngine","Query:",rh(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(yd()<=Yt.DEBUG&&je("QueryEngine","The SDK decides to create cache indexes for query:",rh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ao(t))):Ce.resolve())}ji(e,t){if(rL(t))return Ce.resolve(null);let r=Ao(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=uT(t,null,"F"),r=Ao(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=qt(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Zi(t,a);return this.Xi(t,c,o,l.readTime)?this.ji(e,uT(t,null,"F")):this.es(e,c,t,l)}))})))}Hi(e,t,r,i){return rL(t)||i.isEqual(bt.min())?Ce.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(t,s);return this.Xi(t,o,r,i)?Ce.resolve(null):(yd()<=Yt.DEBUG&&je("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),rh(t)),this.es(e,o,t,HJ(i,-1)).next(a=>a))})}Zi(e,t){let r=new kr(bU(e));return t.forEach((i,s)=>{vx(e,s)&&(r=r.add(s))}),r}Xi(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,t,r){return yd()<=Yt.DEBUG&&je("QueryEngine","Using full collection scan to execute query:",rh(t)),this.zi.getDocumentsMatchingQuery(e,t,Al.min(),r)}es(e,t,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fY{constructor(e,t,r,i){this.persistence=e,this.ts=t,this.serializer=i,this.ns=new $n(rn),this.rs=new Lf(s=>wb(s),Eb),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tY(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ns))}}function dY(n,e,t,r){return new fY(n,e,t,r)}async function WU(n,e){const t=nn(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t._s(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=qt();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(r,l).next(c=>({us:c,removedBatchIds:o,addedBatchIds:a}))})})}function XU(n){const e=nn(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Qr.getLastRemoteSnapshotVersion(t))}function pY(n,e){const t=nn(n),r=e.snapshotVersion;let i=t.ns;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.os.newChangeBuffer({trackRemovals:!0});i=t.ns;const a=[];e.targetChanges.forEach((u,f)=>{const p=i.get(f);if(!p)return;a.push(t.Qr.removeMatchingKeys(s,u.removedDocuments,f).next(()=>t.Qr.addMatchingKeys(s,u.addedDocuments,f)));let m=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(ii.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):u.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(u.resumeToken,r)),i=i.insert(f,m),function(S,v,g){return S.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(p,m,u)&&a.push(t.Qr.updateTargetData(s,m))});let l=El(),c=qt();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(mY(s,o,e.documentUpdates).next(u=>{l=u.cs,c=u.ls})),!r.isEqual(bt.min())){const u=t.Qr.getLastRemoteSnapshotVersion(s).next(f=>t.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return Ce.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(t.ns=i,s))}function mY(n,e,t){let r=qt(),i=qt();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=El();return t.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(bt.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):je("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{cs:o,ls:i}})}function gY(n,e){const t=nn(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Qr.getTargetData(r,e).next(s=>s?(i=s,Ce.resolve(i)):t.Qr.allocateTargetId(r).next(o=>(i=new tl(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ns=t.ns.insert(r.targetId,r),t.rs.set(e,r.targetId)),r})}async function mT(n,e,t){const r=nn(n),i=r.ns.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Fm(o))throw o;je("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function pL(n,e,t){const r=nn(n);let i=bt.min(),s=qt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const f=nn(l),p=f.rs.get(u);return p!==void 0?Ce.resolve(f.ns.get(p)):f.Qr.getTargetData(c,u)}(r,o,Ao(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,t?i:bt.min(),t?s:qt())).next(a=>(yY(r,f$(e),a),{documents:a,hs:s})))}function yY(n,e,t){let r=n.ss.get(e)||bt.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.ss.set(e,r)}class mL{constructor(){this.activeTargetIds=v$()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vY{constructor(){this.no=new mL,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,r){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new mL,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Y{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){je("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){je("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ry=null;function fA(){return Ry===null?Ry=function(){return 268435456+Math.round(2147483648*Math.random())}():Ry++,"0x"+Ry.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xY={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SY{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr="WebChannelConnection";class AY extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+t.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(t,r,i,s,o){const a=fA(),l=this.bo(t,r.toUriEncodedString());je("RestConnection",`Sending RPC '${t}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(c,s,o),this.Co(t,l,c,i).then(u=>(je("RestConnection",`Received RPC '${t}' ${a}: `,u),u),u=>{throw nf("RestConnection",`RPC '${t}' ${a} failed with error: `,u,"url: ",l,"request:",i),u})}vo(t,r,i,s,o,a){return this.So(t,r,i,s,o)}Do(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+If}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}bo(t,r){const i=xY[t];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,t,r,i){const s=fA();return new Promise((o,a)=>{const l=new PJ;l.setWithCredentials(!0),l.listenOnce(bJ.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case cA.NO_ERROR:const u=l.getResponseJson();je(Kr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case cA.TIMEOUT:je(Kr,`RPC '${e}' ${s} timed out`),a(new ct(Fe.DEADLINE_EXCEEDED,"Request time out"));break;case cA.HTTP_ERROR:const f=l.getStatus();if(je(Kr,`RPC '${e}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const y=function(v){const g=v.toLowerCase().replace(/_/g,"-");return Object.values(Fe).indexOf(g)>=0?g:Fe.UNKNOWN}(m.status);a(new ct(y,m.message))}else a(new ct(Fe.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ct(Fe.UNAVAILABLE,"Connection failed."));break;default:Bt()}}finally{je(Kr,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);je(Kr,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",c,r,15)})}Fo(e,t,r){const i=fA(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=MJ(),a=CJ(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;const u=s.join("");je(Kr,`Creating RPC '${e}' stream ${i}: ${u}`,l);const f=o.createWebChannel(u,l);let p=!1,m=!1;const y=new SY({lo:v=>{m?je(Kr,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(p||(je(Kr,`Opening RPC '${e}' stream ${i} transport.`),f.open(),p=!0),je(Kr,`RPC '${e}' stream ${i} sending:`,v),f.send(v))},ho:()=>f.close()}),S=(v,g,x)=>{v.listen(g,A=>{try{x(A)}catch(E){setTimeout(()=>{throw E},0)}})};return S(f,My.EventType.OPEN,()=>{m||je(Kr,`RPC '${e}' stream ${i} transport opened.`)}),S(f,My.EventType.CLOSE,()=>{m||(m=!0,je(Kr,`RPC '${e}' stream ${i} transport closed`),y.Vo())}),S(f,My.EventType.ERROR,v=>{m||(m=!0,nf(Kr,`RPC '${e}' stream ${i} transport errored:`,v),y.Vo(new ct(Fe.UNAVAILABLE,"The operation could not be completed")))}),S(f,My.EventType.MESSAGE,v=>{var g;if(!m){const x=v.data[0];ir(!!x);const A=x,E=A.error||((g=A[0])===null||g===void 0?void 0:g.error);if(E){je(Kr,`RPC '${e}' stream ${i} received error:`,E);const b=E.status;let C=function(N){const M=Zn[N];if(M!==void 0)return OU(M)}(b),P=E.message;C===void 0&&(C=Fe.INTERNAL,P="Unknown error status: "+b+" with message "+E.message),m=!0,y.Vo(new ct(C,P)),f.close()}else je(Kr,`RPC '${e}' stream ${i} received:`,x),y.mo(x)}}),S(a,RJ.STAT_EVENT,v=>{v.stat===X3.PROXY?je(Kr,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===X3.NOPROXY&&je(Kr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.Ro()},0),y}}function dA(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KU(n){return new O$(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{constructor(e,t,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=t,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const t=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,t-r);i>0&&je("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wY{constructor(e,t,r,i,s,o,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new JU(e,t)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,t){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():t&&t.code===Fe.RESOURCE_EXHAUSTED?(bo(t.toString()),bo("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):t&&t.code===Fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(t)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),t=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===t&&this.o_(r,i)},r=>{e(()=>{const i=new ct(Fe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,t){const r=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return je("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return t=>{this.oi.enqueueAndForget(()=>this.Wo===e?t():(je("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class EY extends wY{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}a_(e,t){return this.connection.Fo("Listen",e,t)}onMessage(e){this.jo.reset();const t=z$(this.serializer,e),r=function(s){if(!("targetChange"in s))return bt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?bt.min():o.readTime?Vh(o.readTime):bt.min()}(e);return this.listener.u_(t,r)}c_(e){const t={};t.database=dL(this.serializer),t.addTarget=function(s,o){let a;const l=o.target;if(a=cT(l)?{documents:H$(s,l)}:{query:G$(s,l).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=k$(s,o.resumeToken);const c=dT(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(bt.min())>0){a.readTime=F$(s,o.snapshotVersion.toTimestamp());const c=dT(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=W$(this.serializer,e);r&&(t.labels=r),this.t_(t)}l_(e){const t={};t.database=dL(this.serializer),t.removeTarget=e,this.t_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TY extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new ct(Fe.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,pT(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ct(Fe.UNKNOWN,s.toString())})}vo(e,t,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,pT(t,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ct(Fe.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class MY{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(bo(t),this.g_=!1):je("OnlineStateTracker",t)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CY{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(async()=>{Vm(this)&&(je("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=nn(l);c.v_.add(4),await Um(c),c.x_.set("Unknown"),c.v_.delete(4),await Ax(c)}(this))})}),this.x_=new MY(r,i)}}async function Ax(n){if(Vm(n))for(const e of n.F_)await e(!0)}async function Um(n){for(const e of n.F_)await e(!1)}function $U(n,e){const t=nn(n);t.C_.has(e.targetId)||(t.C_.set(e.targetId,e),Db(t)?Lb(t):Df(t).Jo()&&Ib(t,e))}function YU(n,e){const t=nn(n),r=Df(t);t.C_.delete(e),r.Jo()&&qU(t,e),t.C_.size===0&&(r.Jo()?r.Xo():Vm(t)&&t.x_.set("Unknown"))}function Ib(n,e){if(n.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(bt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Df(n).c_(e)}function qU(n,e){n.O_.Oe(e),Df(n).l_(e)}function Lb(n){n.O_=new L$({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>n.C_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Df(n).start(),n.x_.p_()}function Db(n){return Vm(n)&&!Df(n).Ho()&&n.C_.size>0}function Vm(n){return nn(n).v_.size===0}function QU(n){n.O_=void 0}async function bY(n){n.C_.forEach((e,t)=>{Ib(n,e)})}async function RY(n,e){QU(n),Db(n)?(n.x_.S_(e),Lb(n)):n.x_.set("Unknown")}async function PY(n,e,t){if(n.x_.set("Online"),e instanceof kU&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))}(n,e)}catch(r){je("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await yL(n,r)}else if(e instanceof J0?n.O_.$e(e):e instanceof FU?n.O_.Je(e):n.O_.Ge(e),!t.isEqual(bt.min()))try{const r=await XU(n.localStore);t.compareTo(r)>=0&&await function(s,o){const a=s.O_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.C_.get(c);u&&s.C_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.C_.get(l);if(!u)return;s.C_.set(l,u.withResumeToken(ii.EMPTY_BYTE_STRING,u.snapshotVersion)),qU(s,l);const f=new tl(u.target,l,c,u.sequenceNumber);Ib(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t)}catch(r){je("RemoteStore","Failed to raise snapshot:",r),await yL(n,r)}}async function yL(n,e,t){if(!Fm(e))throw e;n.v_.add(1),await Um(n),n.x_.set("Offline"),t||(t=()=>XU(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{je("RemoteStore","Retrying IndexedDB access"),await t(),n.v_.delete(1),await Ax(n)})}async function vL(n,e){const t=nn(n);t.asyncQueue.verifyOperationInProgress(),je("RemoteStore","RemoteStore received new credentials");const r=Vm(t);t.v_.add(3),await Um(t),r&&t.x_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.v_.delete(3),await Ax(t)}async function IY(n,e){const t=nn(n);e?(t.v_.delete(2),await Ax(t)):e||(t.v_.add(2),await Um(t),t.x_.set("Unknown"))}function Df(n){return n.N_||(n.N_=function(t,r,i){const s=nn(t);return s.R_(),new EY(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Po:bY.bind(null,n),To:RY.bind(null,n),u_:PY.bind(null,n)}),n.F_.push(async e=>{e?(n.N_.Zo(),Db(n)?Lb(n):n.x_.set("Unknown")):(await n.N_.stop(),QU(n))})),n.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new dl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new Bb(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(Fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ZU(n,e){if(bo("AsyncQueue",`${e}: ${n}`),Fm(n))return new ct(Fe.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e){this.comparator=e?(t,r)=>e(t,r)||_t.comparator(t.key,r.key):(t,r)=>_t.comparator(t.key,r.key),this.keyedMap=jd(),this.sortedSet=new $n(this.comparator)}static emptySet(e){return new zh(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof zh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new zh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(){this.L_=new $n(_t.comparator)}track(e){const t=e.doc.key,r=this.L_.get(t);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(t,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(t):e.type===1&&r.type===2?this.L_=this.L_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):Bt():this.L_=this.L_.insert(t,e)}k_(){const e=[];return this.L_.inorderTraversal((t,r)=>{e.push(r)}),e}}class lf{constructor(e,t,r,i,s,o,a,l,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new lf(e,t,zh.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yx(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LY{constructor(){this.q_=void 0,this.Q_=[]}}class DY{constructor(){this.queries=new Lf(e=>CU(e),yx),this.onlineState="Unknown",this.K_=new Set}}async function BY(n,e){const t=nn(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new LY),i)try{s.q_=await t.onListen(r)}catch(o){const a=ZU(o,`Initialization of query '${rh(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.Q_.push(e),e.U_(t.onlineState),s.q_&&e.W_(s.q_)&&Nb(t)}async function NY(n,e){const t=nn(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),i=s.Q_.length===0)}if(i)return t.queries.delete(r),t.onUnlisten(r)}function OY(n,e){const t=nn(n);let r=!1;for(const i of e){const s=i.query,o=t.queries.get(s);if(o){for(const a of o.Q_)a.W_(i)&&(r=!0);o.q_=i}}r&&Nb(t)}function FY(n,e,t){const r=nn(n),i=r.queries.get(e);if(i)for(const s of i.Q_)s.onError(t);r.queries.delete(e)}function Nb(n){n.K_.forEach(e=>{e.next()})}class kY{constructor(e,t,r){this.query=e,this.G_=t,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new lf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.z_?this.H_(e)&&(this.G_.next(e),t=!0):this.J_(e,this.onlineState)&&(this.Y_(e),t=!0),this.j_=e,t}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let t=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),t=!0),t}J_(e,t){if(!e.fromCache)return!0;const r=t!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const t=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Y_(e){e=lf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{constructor(e){this.key=e}}class t9{constructor(e){this.key=e}}class UY{constructor(e,t){this.query=e,this.oa=t,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=qt(),this.mutatedKeys=qt(),this.ua=bU(e),this.ca=new zh(this.ua)}get la(){return this.oa}ha(e,t){const r=t?t.Pa:new _L,i=t?t.ca:this.ca;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,f)=>{const p=i.get(u),m=vx(this.query,f)?f:null,y=!!p&&this.mutatedKeys.has(p.key),S=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let v=!1;p&&m?p.data.isEqual(m.data)?y!==S&&(r.track({type:3,doc:m}),v=!0):this.Ia(p,m)||(r.track({type:2,doc:m}),v=!0,(l&&this.ua(m,l)>0||c&&this.ua(m,c)<0)&&(a=!0)):!p&&m?(r.track({type:0,doc:m}),v=!0):p&&!m&&(r.track({type:1,doc:p}),v=!0,(l||c)&&(a=!0)),v&&(m?(o=o.add(m),s=S?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{ca:o,Pa:r,Xi:a,mutatedKeys:s}}Ia(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const o=e.Pa.k_();o.sort((u,f)=>function(m,y){const S=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Bt()}};return S(m)-S(y)}(u.type,f.type)||this.ua(u.doc,f.doc)),this.Ta(r),i=i!=null&&i;const a=t&&!i?this.Ea():[],l=this.aa.size===0&&this.current&&!i?1:0,c=l!==this._a;return this._a=l,o.length!==0||c?{snapshot:new lf(this.query,e.ca,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new _L,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(t=>this.oa=this.oa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.oa=this.oa.delete(t)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=qt(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const t=[];return e.forEach(r=>{this.aa.has(r)||t.push(new t9(r))}),this.aa.forEach(r=>{e.has(r)||t.push(new e9(r))}),t}Ra(e){this.oa=e.hs,this.aa=qt();const t=this.ha(e.documents);return this.applyChanges(t,!0)}Va(){return lf.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class VY{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class zY{constructor(e){this.key=e,this.ma=!1}}class HY{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new Lf(a=>CU(a),yx),this.pa=new Map,this.ya=new Set,this.wa=new $n(_t.comparator),this.Sa=new Map,this.ba=new bb,this.Da={},this.Ca=new Map,this.va=af.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function GY(n,e){const t=YY(n);let r,i;const s=t.ga.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const o=await gY(t.localStore,Ao(e)),a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await jY(t,e,r,a==="current",o.resumeToken),t.isPrimaryClient&&$U(t.remoteStore,o)}return i}async function jY(n,e,t,r,i){n.Ma=(f,p,m)=>async function(S,v,g,x){let A=v.view.ha(g);A.Xi&&(A=await pL(S.localStore,v.query,!1).then(({documents:P})=>v.view.ha(P,A)));const E=x&&x.targetChanges.get(v.targetId),b=x&&x.targetMismatches.get(v.targetId)!=null,C=v.view.applyChanges(A,S.isPrimaryClient,E,b);return SL(S,v.targetId,C.da),C.snapshot}(n,f,p,m);const s=await pL(n.localStore,e,!0),o=new UY(e,s.hs),a=o.ha(s.documents),l=km.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),c=o.applyChanges(a,n.isPrimaryClient,l);SL(n,t,c.da);const u=new VY(e,t,o);return n.ga.set(e,u),n.pa.has(t)?n.pa.get(t).push(e):n.pa.set(t,[e]),c.snapshot}async function WY(n,e){const t=nn(n),r=t.ga.get(e),i=t.pa.get(r.targetId);if(i.length>1)return t.pa.set(r.targetId,i.filter(s=>!yx(s,e))),void t.ga.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||await mT(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),YU(t.remoteStore,r.targetId),gT(t,r.targetId)}).catch(gb)):(gT(t,r.targetId),await mT(t.localStore,r.targetId,!0))}async function n9(n,e){const t=nn(n);try{const r=await pY(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.Sa.get(s);o&&(ir(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?ir(o.ma):i.removedDocuments.size>0&&(ir(o.ma),o.ma=!1))}),await i9(t,r,e)}catch(r){await gb(r)}}function xL(n,e,t){const r=nn(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ga.forEach((s,o)=>{const a=o.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=nn(o);l.onlineState=a;let c=!1;l.queries.forEach((u,f)=>{for(const p of f.Q_)p.U_(a)&&(c=!0)}),c&&Nb(l)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function XY(n,e,t){const r=nn(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Sa.get(e),s=i&&i.key;if(s){let o=new $n(_t.comparator);o=o.insert(s,Zr.newNoDocument(s,bt.min()));const a=qt().add(s),l=new Sx(bt.min(),new Map,new $n(rn),o,a);await n9(r,l),r.wa=r.wa.remove(s),r.Sa.delete(e),Ob(r)}else await mT(r.localStore,e,!1).then(()=>gT(r,e,t)).catch(gb)}function gT(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.pa.get(e))n.ga.delete(r),t&&n.fa.xa(r,t);n.pa.delete(e),n.isPrimaryClient&&n.ba.Vr(e).forEach(r=>{n.ba.containsKey(r)||r9(n,r)})}function r9(n,e){n.ya.delete(e.path.canonicalString());const t=n.wa.get(e);t!==null&&(YU(n.remoteStore,t),n.wa=n.wa.remove(e),n.Sa.delete(t),Ob(n))}function SL(n,e,t){for(const r of t)r instanceof e9?(n.ba.addReference(r.key,e),KY(n,r)):r instanceof t9?(je("SyncEngine","Document no longer in limbo: "+r.key),n.ba.removeReference(r.key,e),n.ba.containsKey(r.key)||r9(n,r.key)):Bt()}function KY(n,e){const t=e.key,r=t.path.canonicalString();n.wa.get(t)||n.ya.has(r)||(je("SyncEngine","New document in limbo: "+t),n.ya.add(r),Ob(n))}function Ob(n){for(;n.ya.size>0&&n.wa.size<n.maxConcurrentLimboResolutions;){const e=n.ya.values().next().value;n.ya.delete(e);const t=new _t(Un.fromString(e)),r=n.va.next();n.Sa.set(r,new zY(t)),n.wa=n.wa.insert(t,r),$U(n.remoteStore,new tl(Ao(MU(t.path)),r,"TargetPurposeLimboResolution",_b._e))}}async function i9(n,e,t){const r=nn(n),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach((a,l)=>{o.push(r.Ma(l,e,t).then(c=>{if((c||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const u=Pb.Ki(l.targetId,c);s.push(u)}}))}),await Promise.all(o),r.fa.u_(i),await async function(l,c){const u=nn(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Ce.forEach(c,p=>Ce.forEach(p.qi,m=>u.persistence.referenceDelegate.addReference(f,p.targetId,m)).next(()=>Ce.forEach(p.Qi,m=>u.persistence.referenceDelegate.removeReference(f,p.targetId,m)))))}catch(f){if(!Fm(f))throw f;je("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const m=u.ns.get(p),y=m.snapshotVersion,S=m.withLastLimboFreeSnapshotVersion(y);u.ns=u.ns.insert(p,S)}}}(r.localStore,s))}async function JY(n,e){const t=nn(n);if(!t.currentUser.isEqual(e)){je("SyncEngine","User change. New user:",e.toKey());const r=await WU(t.localStore,e);t.currentUser=e,function(s,o){s.Ca.forEach(a=>{a.forEach(l=>{l.reject(new ct(Fe.CANCELLED,o))})}),s.Ca.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await i9(t,r.us)}}function $Y(n,e){const t=nn(n),r=t.Sa.get(e);if(r&&r.ma)return qt().add(r.key);{let i=qt();const s=t.pa.get(e);if(!s)return i;for(const o of s){const a=t.ga.get(o);i=i.unionWith(a.view.la)}return i}}function YY(n){const e=nn(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=n9.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$Y.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=XY.bind(null,e),e.fa.u_=OY.bind(null,e.eventManager),e.fa.xa=FY.bind(null,e.eventManager),e}class AL{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=KU(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return dY(this.persistence,new hY,e.initialUser,this.serializer)}createPersistence(e){return new lY(Rb.Hr,this.serializer)}createSharedClientState(e){return new vY}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class qY{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>xL(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=JY.bind(null,this.syncEngine),await IY(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new DY}()}createDatastore(e){const t=KU(e.databaseInfo.databaseId),r=function(s){return new AY(s)}(e.databaseInfo);return function(s,o,a,l){return new TY(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,s,o,a){return new CY(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,t=>xL(this.syncEngine,t,0),function(){return gL.D()?new gL:new _Y}())}createSyncEngine(e,t){return function(i,s,o,a,l,c,u){const f=new HY(i,s,o,a,l,c);return u&&(f.Fa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(r){const i=nn(r);je("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await Um(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QY{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):bo("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZY{constructor(e,t,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=qr.UNAUTHENTICATED,this.clientId=VJ.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{je("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(je("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ct(Fe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new dl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=ZU(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function pA(n,e){n.asyncQueue.verifyOperationInProgress(),je("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await WU(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function wL(n,e){n.asyncQueue.verifyOperationInProgress();const t=await tq(n);je("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>vL(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>vL(e.remoteStore,i)),n._onlineComponents=e}function eq(n){return n.name==="FirebaseError"?n.code===Fe.FAILED_PRECONDITION||n.code===Fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||n.code===22||n.code===20||n.code===11}async function tq(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){je("FirestoreClient","Using user provided OfflineComponentProvider");try{await pA(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!eq(t))throw t;nf("Error using user provided cache. Falling back to memory cache: "+t),await pA(n,new AL)}}else je("FirestoreClient","Using default OfflineComponentProvider"),await pA(n,new AL);return n._offlineComponents}async function nq(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(je("FirestoreClient","Using user provided OnlineComponentProvider"),await wL(n,n._uninitializedComponentsProvider._online)):(je("FirestoreClient","Using default OnlineComponentProvider"),await wL(n,new qY))),n._onlineComponents}async function rq(n){const e=await nq(n),t=e.eventManager;return t.onListen=GY.bind(null,e.syncEngine),t.onUnlisten=WY.bind(null,e.syncEngine),t}function iq(n,e,t={}){const r=new dl;return n.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new QY({next:p=>{o.enqueueAndForget(()=>NY(s,f)),p.fromCache&&l.source==="server"?c.reject(new ct(Fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new kY(a,u,{includeMetadataChanges:!0,Z_:!0});return BY(s,f)}(await rq(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s9(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EL=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sq(n,e,t){if(!t)throw new ct(Fe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function oq(n,e,t,r){if(e===!0&&r===!0)throw new ct(Fe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function TL(n){if(_t.isDocumentKey(n))throw new ct(Fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function aq(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Bt()}function yT(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ct(Fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=aq(n);throw new ct(Fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ct(Fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ct(Fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}oq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=s9((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ct(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ct(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ct(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fb{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ML({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ct(Fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ct(Fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ML(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new LJ;switch(r.type){case"firstParty":return new OJ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ct(Fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=EL.get(t);r&&(je("ComponentProvider","Removing Datastore"),EL.delete(t),r.terminate())}(this),Promise.resolve()}}function lq(n,e,t,r={}){var i;const s=(n=yT(n,Fb))._getSettings(),o=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&nf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=qr.MOCK_USER;else{a=uX(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ct(Fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new qr(c)}n._authCredentials=new DJ(new vU(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new wx(this.firestore,e,this._query)}}class Bf{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bf(this.firestore,e,this._key)}}class Hh extends wx{constructor(e,t,r){super(e,t,MU(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bf(this.firestore,null,new _t(e))}withConverter(e){return new Hh(this.firestore,e,this._path)}}function cq(n,e,...t){if(n=yX(n),sq("collection","path",e),n instanceof Fb){const r=Un.fromString(e,...t);return TL(r),new Hh(n,null,r)}{if(!(n instanceof Bf||n instanceof Hh))throw new ct(Fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Un.fromString(e,...t));return TL(r),new Hh(n.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uq{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new JU(this,"async_queue_retry"),this._u=()=>{const t=dA();t&&je("AsyncQueue","Visibility state changed to "+t.visibilityState),this.jo.Ko()};const e=dA();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const t=dA();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const t=new dl;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!Fm(e))throw e;je("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(e){const t=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw bo("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=t,t}enqueueAfterDelay(e,t,r){this.au(),this.ou.indexOf(e)>-1&&(t=0);const i=Bb.createAndSchedule(this,e,t,r,s=>this.lu(s));return this.nu.push(i),i}au(){this.ru&&Bt()}verifyOperationInProgress(){}async hu(){let e;do e=this.Xa,await e;while(e!==this.Xa)}Pu(e){for(const t of this.nu)if(t.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.nu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const t=this.nu.indexOf(e);this.nu.splice(t,1)}}class o9 extends Fb{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=function(){return new uq}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||a9(this),this._firestoreClient.terminate()}}function hq(n,e){const t=typeof n=="object"?n:gK(),r=typeof n=="string"?n:e||"(default)",i=fK(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=lX("firestore");s&&lq(i,...s)}return i}function fq(n){return n._firestoreClient||a9(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function a9(n){var e,t,r;const i=n._freezeSettings(),s=function(a,l,c,u){return new qJ(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,s9(u.experimentalLongPollingOptions),u.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._firestoreClient=new ZY(n._authCredentials,n._appCheckCredentials,n._queue,s),!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zv(ii.fromBase64String(e))}catch(t){throw new ct(Fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Zv(ii.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ct(Fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dq{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ct(Fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ct(Fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return rn(this._lat,e._lat)||rn(this._long,e._long)}}const pq=new RegExp("[~\\*/\\[\\]]");function mq(n,e,t){if(e.search(pq)>=0)throw CL(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new l9(...e.split("."))._internalPath}catch{throw CL(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function CL(n,e,t,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ct(Fe.INVALID_ARGUMENT,a+n+l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Bf(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new gq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(u9("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class gq extends c9{data(){return super.data()}}function u9(n,e){return typeof e=="string"?mq(n,e):e instanceof l9?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yq(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ct(Fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vq{convertValue(e,t="none"){switch(Zc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Qc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Bt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return mx(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new dq(tr(e.latitude),tr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Sb(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Qp(e));default:return null}}convertTimestamp(e){const t=wl(e);return new Bi(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Un.fromString(e);ir(jU(r));const i=new Zp(r.get(1),r.get(3)),s=new _t(r.popFirst(5));return i.isEqual(t)||bo(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _q extends c9{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new $0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(u9("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class $0 extends _q{data(e={}){return super.data(e)}}class xq{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Py(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new $0(this._firestore,this._userDataWriter,r.key,r,new Py(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ct(Fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new $0(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Py(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new $0(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Py(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:Sq(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Sq(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Bt()}}class Aq extends vq{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zv(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bf(this.firestore,null,t)}}function wq(n){n=yT(n,wx);const e=yT(n.firestore,o9),t=fq(e),r=new Aq(e);return yq(n._query),iq(t,n._query).then(i=>new xq(e,r,n,i))}(function(e,t=!0){(function(i){If=i})(mK),Hv(new zp("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new o9(new BJ(r.getProvider("auth-internal")),new kJ(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ct(Fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zp(c.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Fh(K3,"4.4.2",e),Fh(K3,"4.4.2","esm2017")})();var Eq="firebase",Tq="10.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fh(Eq,Tq,"app");const Mq={apiKey:"AIzaSyCdnuxel4imeAOVQVogRiHvqvrXb5qVRQw",authDomain:"ecovibe-c6720.firebaseapp.com",projectId:"ecovibe-c6720",storageBucket:"ecovibe-c6720.appspot.com",messagingSenderId:"944059551615",appId:"1:944059551615:web:2f96d7e9a67d0065e9544a"},Cq=fk(Mq),bq=hq(Cq);function kb(n,e){if(!e)return n;const{category:t="",tags:r=[],searchQuery:i="",collections:s=[],productTypes:o=[],priceRange:a={min:0,max:0},seller:l="",selectedOptions:c=[]}=e;let u=[];for(let f of n){let p=!0;r.length>0&&!f.Tags.some(m=>e.tags.includes(m))&&(p=!1),t!==""&&f.Category!==t&&(p=!1),i!==""&&!f.Name.toLowerCase().includes(i.toLowerCase())&&(p=!1),s.length>0&&!s.includes(f.Collection)&&(p=!1),o.length>0&&!o.includes(f.Type)&&(p=!1),a.min>-1&&a.max>0&&(f.Price<a.min||f.Price>a.max)&&(p=!1),l!=""&&f.Seller!==l&&(p=!1),c.length>0&&f.Options&&(f.Options.some(({title:y,options:S})=>c.some(v=>v.title===y&&S.some(g=>g===v.selectedOption)))||(p=!1)),p&&u.push(f)}return e.sortBy!==""&&u.sort((f,p)=>e.sortBy==="high to low"?p.Price-f.Price:e.sortBy==="low to high"?f.Price-p.Price:f.Tags.includes(e.sortBy)&&!p.Tags.includes(e.sortBy)?-1:!f.Tags.includes(e.sortBy)&&p.Tags.includes(e.sortBy)?1:0),u}const Y0=NW("products/getAsyncProducts",async(n,{rejectWithValue:e,fulfillWithValue:t})=>{try{const r=cq(bq,"Products"),s=(await wq(r)).docs.map(a=>({...a.data(),id:a.id}));return kb(s,n)}catch(r){return console.log(r),e(r.message)}}),Rq={loading:!1,data:[],error:""},Pq=HW({name:"products",initialState:Rq,extraReducers:n=>{n.addCase(Y0.pending,(e,t)=>{e.loading=!0,e.data=[],e.error=""}),n.addCase(Y0.fulfilled,(e,t)=>{e.loading=!1,e.data=t.payload,e.error=""}),n.addCase(Y0.rejected,(e,t)=>{e.loading=!1,e.data=[],e.error=t.payload})}}),Iq=Pq.reducer;var h9={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},bL=Gs.createContext&&Gs.createContext(h9),Lq=["attr","size","title"];function Dq(n,e){if(n==null)return{};var t=Bq(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function Bq(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function e_(){return e_=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},e_.apply(this,arguments)}function RL(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function t_(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?RL(Object(t),!0).forEach(function(r){Nq(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):RL(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Nq(n,e,t){return e=Oq(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Oq(n){var e=Fq(n,"string");return typeof e=="symbol"?e:String(e)}function Fq(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function f9(n){return n&&n.map((e,t)=>Gs.createElement(e.tag,t_({key:t},e.attr),f9(e.child)))}function hn(n){return e=>Gs.createElement(kq,e_({attr:t_({},n.attr)},e),f9(n.child))}function kq(n){var e=t=>{var{attr:r,size:i,title:s}=n,o=Dq(n,Lq),a=i||t.size||"1em",l;return t.className&&(l=t.className),n.className&&(l=(l?l+" ":"")+n.className),Gs.createElement("svg",e_({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,o,{className:l,style:t_(t_({color:n.color||t.color},t.style),n.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Gs.createElement("title",null,s),n.children)};return bL!==void 0?Gs.createElement(bL.Consumer,null,t=>e(t)):e(h9)}function n_(n){return hn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(n)}function Xs(n){return hn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(n)}function Ub(n){return hn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(n)}function Uq(n){return hn({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 416H381.54c-.74 19.81-14.71 32-32.74 32H288c-18.69 0-33.02-17.47-32.77-32H16c-8.8 0-16 7.2-16 16v16c0 35.2 28.8 64 64 64h512c35.2 0 64-28.8 64-64v-16c0-8.8-7.2-16-16-16zM576 48c0-26.4-21.6-48-48-48H112C85.6 0 64 21.6 64 48v336h512V48zm-64 272H128V64h384v256z"},child:[]}]})(n)}function Vq(n){return hn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"},child:[]}]})(n)}function PL(n){return hn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(n)}const IL=[{title:"Fashion"},{title:"Electronics"},{title:"Home Decor"},{title:"Health and Wellness"},{title:"Beauty and Personal Care"}],zq=[{title:"Home"},{title:"Products"},{title:"Contact Us"},{title:"FAQs"}],mA={homePage:{img01:"https://firebasestorage.googleapis.com/v0/b/ecovibe-c6720.appspot.com/o/AppImages%2Ffreestocks-_3Q3tsJ01nc-unsplash.jpg?alt=media&token=55706bbb-c885-44c2-9db2-a594a053329a",img02:"https://firebasestorage.googleapis.com/v0/b/ecovibe-c6720.appspot.com/o/AppImages%2Fbrooke-cagle-8jp-6SjVibM-unsplash.jpg?alt=media&token=00462705-2985-4e3d-813a-ae537817ac46",img03:"https://firebasestorage.googleapis.com/v0/b/ecovibe-c6720.appspot.com/o/AppImages%2Flauren-richmond-490uCO8h7ZA-unsplash.jpg?alt=media&token=4c8d59f0-a015-4f42-a916-12b17bf2c553"}};function d9(n){const e=n.reduce((i,s)=>Number(i)+Number(s),0),t=n.length;return Math.round(e/t)}const Hq=n=>{for(var e=[],t=0;t<n;t++)e.push(t);return e},Gq="https://firebasestorage.googleapis.com/v0/b/ecovibe-c6720.appspot.com/o/AppImages%2Ficon.svg?alt=media&token=927bf580-49b0-4e03-9118-0a11258c817e";function jq(n){return hn({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},child:[]},{tag:"path",attr:{d:"M3.604 7.197l7.138 -3.109a.96 .96 0 0 1 1.27 .527l4.924 11.902a1 1 0 0 1 -.514 1.304l-7.137 3.109a.96 .96 0 0 1 -1.271 -.527l-4.924 -11.903a1 1 0 0 1 .514 -1.304z"},child:[]},{tag:"path",attr:{d:"M15 4h1a1 1 0 0 1 1 1v3.5"},child:[]},{tag:"path",attr:{d:"M20 6c.264 .112 .52 .217 .768 .315a1 1 0 0 1 .53 1.311l-2.298 5.374"},child:[]}]})(n)}function Wq(n){return hn({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},child:[]},{tag:"path",attr:{d:"M4 4h6v6h-6z"},child:[]},{tag:"path",attr:{d:"M14 4h6v6h-6z"},child:[]},{tag:"path",attr:{d:"M4 14h6v6h-6z"},child:[]},{tag:"path",attr:{d:"M17 17m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"},child:[]}]})(n)}function p9(n){return hn({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},child:[]},{tag:"path",attr:{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"},child:[]},{tag:"path",attr:{d:"M12 7v5l3 3"},child:[]}]})(n)}function Xq(n){return hn({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},child:[]},{tag:"path",attr:{d:"M3 5m0 3a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3z"},child:[]},{tag:"path",attr:{d:"M3 10l18 0"},child:[]},{tag:"path",attr:{d:"M7 15l.01 0"},child:[]},{tag:"path",attr:{d:"M11 15l2 0"},child:[]}]})(n)}function Kq(n){return hn({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},child:[]},{tag:"path",attr:{d:"M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0"},child:[]},{tag:"path",attr:{d:"M14.071 17.764a8.989 8.989 0 0 1 -2.071 .236c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.346 0 6.173 1.727 8.482 5.182"},child:[]},{tag:"path",attr:{d:"M19 22v.01"},child:[]},{tag:"path",attr:{d:"M19 19a2.003 2.003 0 0 0 .914 -3.782a1.98 1.98 0 0 0 -2.414 .483"},child:[]}]})(n)}function Jq(n){return hn({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},child:[]},{tag:"path",attr:{d:"M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"},child:[]}]})(n)}function $q(n){return hn({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},child:[]},{tag:"path",attr:{d:"M21 3l-6.5 18a.55 .55 0 0 1 -1 0l-3.5 -7l-7 -3.5a.55 .55 0 0 1 0 -1l18 -6.5"},child:[]}]})(n)}function Yq(n){return hn({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},child:[]},{tag:"path",attr:{d:"M13.5 21h-6.5a2 2 0 0 1 -2 -2v-6a2 2 0 0 1 2 -2h10a2 2 0 0 1 1.74 1.012"},child:[]},{tag:"path",attr:{d:"M11 16a1 1 0 1 0 2 0a1 1 0 0 0 -2 0"},child:[]},{tag:"path",attr:{d:"M8 11v-4a4 4 0 1 1 8 0v4"},child:[]},{tag:"path",attr:{d:"M19 16l-2 3h4l-2 3"},child:[]}]})(n)}function qq(n){return hn({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},child:[]},{tag:"path",attr:{d:"M15 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2"},child:[]},{tag:"path",attr:{d:"M21 12h-13l3 -3"},child:[]},{tag:"path",attr:{d:"M11 15l-3 -3"},child:[]}]})(n)}function m9({title:n}){return R.jsxs("aside",{className:"md:hidden flex h-20 mx-auto w-[95%] px-4 py-2 bg-primary-900/90 rounded-lg items-center justify-between",children:[R.jsxs("div",{className:"flex flex-col justify-evenly h-full",children:[R.jsx("h2",{className:"text-lg text-white",children:n}),R.jsxs("p",{className:"flex items-center justify-center gap-x-1 py-1 text-gray-300",children:[R.jsx(p9,{className:"text-2xl"}),R.jsx("span",{className:"text-xs",children:"22h 55m 20s remaining "})]})]}),R.jsxs("button",{className:"flex items-center justify-center hover:bg-white transition-all hover:text-primary-500 hover:font-semibold text-white border border-gray-100 px-2 py-1 rounded-md text-sm gap-x-1.5",children:[R.jsx("span",{children:"View All"}),R.jsx("span",{children:R.jsx(Xs,{})})]})]})}const Qq=()=>R.jsxs("div",{className:"mx-auto 2xl:max-w-screen-2xl",children:[R.jsxs("div",{className:"flex flex-col md:flex-row gap-y-2 gap-x-2 items-center justify-between px-2 py-1 md:px-4 md:h-[500px] h-96",children:[R.jsxs("div",{className:"h-3/4 md:h-full md:w-2/3 w-full justify-center items-center bg-blue-400 rounded-md relative cursor-pointer",children:[R.jsx("div",{className:"absolute inset-0 w-full h-full z-0",children:R.jsx("img",{src:mA.homePage.img03,alt:"hero-image",className:"w-full h-full object-cover object-center rounded-md"})}),R.jsxs("div",{className:"bg-black bg-opacity-25 backdrop-blur-sm hover:backdrop-blur-md transition-all duration-700 absolute w-full h-full z-10 flex flex-col items-start justify-center px-6 py-2 rounded-md",children:[R.jsxs("h1",{className:"text-white text-3xl md:text-5xl font-bold",children:["Fresh & Healthy ",R.jsx("br",{}),R.jsx("span",{className:"text-primary-500",children:"Organic "}),"Food"]}),R.jsxs("div",{className:"flex flex-col items-start justify-between md:gap-y-4 gap-y-2 md:px-4 mf:py-2 px-2 py-1 border-l-4 mt-2 border-primary-600",children:[R.jsxs("p",{className:"text-white text-lg md:text-xl cursor-pointer",children:["Sale up to",R.jsx("span",{className:"bg-primary-500 text-white px-2 py-1 rounded-md mx-2 hover:px-3 hover:py-1.5 transition-all duration-300",children:"30% OFF"})]}),R.jsx("span",{className:"text-primary-800 text-sm md:text-xl bg-white bg-opacity-10 cursor-pointer",children:"Free shipping on all your order."})]}),R.jsx("button",{className:"md:px-10 px-4 font-semibold hover:bg-primary-700 hover:text-white transition-all duration-500 py-2 bg-white text-primary-600 ml-2 mt-4 rounded-lg text-sm md:text-lg",children:"Shop Now"})]})]}),R.jsxs("div",{className:"flex w-full h-1/4 md:h-full md:w-1/3 items-center md:flex-col justify-between gap-x-2 cursor-pointer",children:[R.jsxs("div",{className:"relative w-1/2 md:w-full md:h-[240px] h-24 rounded-md bg-amber-300",children:[R.jsx("div",{className:"absolute inset-0 w-full h-full z-0",children:R.jsx("img",{src:mA.homePage.img01,alt:"hero-image",className:"w-full h-full object-cover object-c rounded-md"})}),R.jsxs("div",{className:"bg-black bg-opacity-30 backdrop-blur-sm hover:backdrop-blur-md transition-all duration-700 absolute w-full h-full z-10 flex flex-col gap-y-1 items-center md:items-start justify-center px-6 py-2 rounded-md",children:[R.jsx("p",{className:"text-white text-xs md:text-lg font-semibold",children:"Summer Sale"}),R.jsx("p",{className:"text-white text-sm md:text-3xl font-bold border-b-4 border-b-primary-500",children:"75% OFF"}),R.jsx("span",{className:"md:text-sm text-gray-300 text-xs md:block hidden",children:"Only Fashion & clothes"}),R.jsxs("button",{className:"md:px-3 md:py-1.5 text-xs px-2 py-1 md:text-base bg-primary-400 rounded-lg text-white flex items-center justify-center gap-x-2 hover:scale-110 transition-all duration-300",children:[R.jsx("span",{children:"Shop Now"}),R.jsx(n_,{className:"rotate-180"})]})]})]}),R.jsxs("div",{className:"md:w-full w-1/2 md:h-[240px] h-24 rounded-md bg-accent-400 relative",children:[R.jsx("div",{className:"absolute inset-0 w-full h-full z-0",children:R.jsx("img",{src:mA.homePage.img02,alt:"hero-image",className:"w-full h-full object-cover object-c rounded-md"})}),R.jsxs("div",{className:"bg-black bg-opacity-30 backdrop-blur-sm hover:backdrop-blur-md transition-all duration-700 absolute w-full h-full z-10 flex flex-col gap-y-0.5 md:gap-y-1 items-center justify-center px-6 py-2 rounded-md",children:[R.jsx("p",{className:"text-white md:text-lg text-xs font-semibold",children:"Best Deal"}),R.jsxs("p",{className:"text-white text-xs md:text-2xl lg:text-3xl font-bold border-b md:border-b-4 border-b-primary-500",children:["Special Products ",R.jsx("br",{})," Deal of the Month"]}),R.jsxs("button",{className:"md:px-3 md:py-1.5 px-2 py-1 text-xs md:text-lg rounded-lg text-white flex items-center justify-center gap-x-2 hover:scale-110 transition-all duration-300",children:[R.jsx("span",{children:"Shop Now"}),R.jsx(n_,{className:"rotate-180"})]})]})]})]})]}),R.jsxs("div",{className:"",children:[R.jsxs("div",{className:"hidden md:flex items-center mx-auto w-[99%] px-2 py-1 my-4 rounded-lg bg-gray-50 shadow-xl xl:justify-around justify-between",children:[R.jsxs("div",{className:"flex items-center gap-x-3 lg:gap-x-4 justify-center h-20 px-2 py-1 group",children:[R.jsx("span",{className:"group-hover:scale-125 transition-all duration-500",children:R.jsx("svg",{width:"40",height:"28",viewBox:"0 0 40 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:R.jsx("path",{d:"M32.7021 20.3042C31.7247 20.3042 30.7962 20.687 30.0957 21.3793C29.3952 22.0798 29.0043 22.992 29.0043 23.9694C29.0043 24.9468 29.3871 25.8591 30.0957 26.5595C30.8043 27.2519 31.7247 27.6347 32.7021 27.6347C34.7058 27.6347 36.3348 25.9894 36.3348 23.9694C36.3348 21.9495 34.7058 20.3042 32.7021 20.3042ZM32.7021 26.0057C31.5781 26.0057 30.6333 25.0772 30.6333 23.9694C30.6333 22.8617 31.5781 21.9332 32.7021 21.9332C33.8098 21.9332 34.7058 22.8454 34.7058 23.9694C34.7058 25.0935 33.8098 26.0057 32.7021 26.0057ZM33.6469 8.09488C33.5003 7.95641 33.3048 7.88311 33.1012 7.88311H28.9228C28.4749 7.88311 28.1083 8.24964 28.1083 8.69761V15.3765C28.1083 15.8245 28.4749 16.191 28.9228 16.191H35.5528C36.0008 16.191 36.3673 15.8245 36.3673 15.3765V10.9049C36.3673 10.6768 36.2696 10.4569 36.0986 10.3022L33.6469 8.09488ZM34.7383 14.562H29.7373V9.50396H32.7835L34.7383 11.2633V14.562ZM12.8121 20.3042C11.8347 20.3042 10.9061 20.687 10.2057 21.3793C9.50519 22.0798 9.11423 22.992 9.11423 23.9694C9.11423 24.9468 9.49705 25.8591 10.2057 26.5595C10.9143 27.2519 11.8347 27.6347 12.8121 27.6347C14.8157 27.6347 16.4447 25.9894 16.4447 23.9694C16.4447 21.9495 14.8157 20.3042 12.8121 20.3042ZM12.8121 26.0057C11.688 26.0057 10.7432 25.0772 10.7432 23.9694C10.7432 22.8617 11.688 21.9332 12.8121 21.9332C13.9198 21.9332 14.8157 22.8454 14.8157 23.9694C14.8157 25.0935 13.9198 26.0057 12.8121 26.0057ZM7.37935 21.306H5.74221V19.1395C5.74221 18.6915 5.37569 18.325 4.92771 18.325C4.47974 18.325 4.11322 18.6915 4.11322 19.1395V22.1205C4.11322 22.5685 4.47974 22.935 4.92771 22.935H7.37935C7.82733 22.935 8.19385 22.5685 8.19385 22.1205C8.19385 21.6726 7.82733 21.306 7.37935 21.306ZM11.5089 16.867C11.5089 16.4191 11.1423 16.0525 10.6944 16.0525H0.814498C0.366524 16.0525 0 16.4191 0 16.867C0 17.315 0.366524 17.6815 0.814498 17.6815H10.6944C11.1423 17.6815 11.5089 17.3231 11.5089 16.867ZM2.46793 13.9267L12.3478 13.9837C12.7958 13.9837 13.1623 13.6253 13.1704 13.1773C13.1786 12.7212 12.8121 12.3547 12.3641 12.3547L2.48422 12.2977C2.47607 12.2977 2.47607 12.2977 2.47607 12.2977C2.0281 12.2977 1.66158 12.6561 1.66158 13.104C1.65343 13.5602 2.01996 13.9267 2.46793 13.9267ZM4.12951 10.2289H14.0094C14.4573 10.2289 14.8239 9.86234 14.8239 9.41437C14.8239 8.96639 14.4573 8.59987 14.0094 8.59987H4.12951C3.68153 8.59987 3.31501 8.96639 3.31501 9.41437C3.31501 9.86234 3.68153 10.2289 4.12951 10.2289ZM39.6986 9.12929L33.8668 4.29932C33.7202 4.17715 33.541 4.11199 33.3456 4.11199H26.4875V1.17979C26.4875 0.73182 26.121 0.365295 25.673 0.365295H4.92771C4.47974 0.365295 4.11322 0.73182 4.11322 1.17979V7.14192C4.11322 7.58989 4.47974 7.95642 4.92771 7.95642C5.37569 7.95642 5.74221 7.58989 5.74221 7.14192V1.99429H24.8666V21.306H18.1877C17.7398 21.306 17.3732 21.6726 17.3732 22.1205C17.3732 22.5685 17.7398 22.935 18.1877 22.935H28.1328C28.5807 22.935 28.9473 22.5685 28.9473 22.1205C28.9473 21.6726 28.5807 21.306 28.1328 21.306H26.4956V5.74098H33.0605L38.371 10.1393L38.314 21.2897H37.4669C37.0189 21.2897 36.6524 21.6563 36.6524 22.1042C36.6524 22.5522 37.0189 22.9187 37.4669 22.9187H39.1203C39.5683 22.9187 39.9348 22.5604 39.9348 22.1124L40 9.7646C39.9919 9.52025 39.886 9.28405 39.6986 9.12929Z",fill:"#445bee"})})}),R.jsxs("h3",{className:"flex flex-col justify-center gap-y-2 h-full",children:[R.jsx("span",{className:"font-bold",children:"Free Shipping"}),R.jsx("span",{className:"text-xs line-clamp-1",children:"Free shipping on all your order"})]})]}),R.jsxs("div",{className:"flex items-center gap-x-3 lg:gap-x-4 justify-center h-20 px-2 py-1 group",children:[R.jsx("span",{className:"group-hover:scale-125 transition-all duration-500",children:R.jsxs("svg",{width:"41",height:"40",viewBox:"0 0 41 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[R.jsx("g",{clipPath:"url(#clip0_44_853)",children:R.jsx("path",{d:"M34.0182 15.2101V13.6723C34.0182 9.9916 32.7157 6.57143 30.3543 4.03361C27.9342 1.42857 24.6064 0 20.9762 0H19.7073C16.077 0 12.7493 1.42857 10.3291 4.03361C7.96778 6.57143 6.66526 9.9916 6.66526 13.6723V15.2101C3.79971 15.4034 1.5224 17.7899 1.5224 20.7059V23.1092C1.5224 26.1429 3.99299 28.6134 7.0266 28.6134H10.1274C10.6821 28.6134 11.1358 28.1597 11.1358 27.605V16.2017C11.1358 15.6471 10.6821 15.1933 10.1274 15.1933H8.68206V13.6723C8.68206 7.02521 13.4216 2.01681 19.6989 2.01681H20.9678C27.2535 2.01681 31.9846 7.02521 31.9846 13.6723V15.1933H30.5392C29.9846 15.1933 29.5308 15.6471 29.5308 16.2017V27.5966C29.5308 28.1513 29.9846 28.605 30.5392 28.605H31.951C31.5392 33.8655 27.9174 35.084 26.2367 35.3613C25.7745 33.9412 24.4384 32.916 22.8669 32.916H20.3459C18.3964 32.916 16.8081 34.5042 16.8081 36.4538C16.8081 38.4034 18.3964 40 20.3459 40H22.8753C24.5056 40 25.8753 38.8908 26.2871 37.395C27.1106 37.2773 28.4132 36.9832 29.7073 36.2269C31.5308 35.1597 33.6905 32.9832 33.9762 28.5966C36.8585 28.4202 39.1443 26.0252 39.1443 23.1008V20.6975C39.1527 17.7899 36.8838 15.395 34.0182 15.2101ZM9.13585 26.5882H7.04341C5.11904 26.5882 3.55601 25.0252 3.55601 23.1008V20.6975C3.55601 18.7731 5.11904 17.2101 7.04341 17.2101H9.13585V26.5882ZM22.8753 37.9832H20.3459C19.5056 37.9832 18.8249 37.3025 18.8249 36.4622C18.8249 35.6218 19.5056 34.9412 20.3459 34.9412H22.8753C23.7157 34.9412 24.3964 35.6218 24.3964 36.4622C24.3964 37.3025 23.7157 37.9832 22.8753 37.9832ZM37.1359 23.1008C37.1359 25.0252 35.5728 26.5882 33.6485 26.5882H31.556V17.2101H33.6485C35.5728 17.2101 37.1359 18.7731 37.1359 20.6975V23.1008Z",fill:"#445bee"})}),R.jsx("defs",{children:R.jsx("clipPath",{id:"clip0_44_853",children:R.jsx("rect",{width:"40",height:"40",fill:"white",transform:"translate(0.333344)"})})})]})}),R.jsxs("h3",{className:"flex flex-col justify-center gap-y-2 h-full",children:[R.jsx("span",{className:"font-bold",children:"Free Shipping"}),R.jsx("span",{className:"text-xs line-clamp-1",children:"Free shipping on all your order"})]})]}),R.jsxs("div",{className:"flex items-center gap-x-3 lg:gap-x-4 justify-center h-20 px-2 py-1 group",children:[R.jsx("span",{className:"group-hover:scale-125 transition-all duration-500",children:R.jsxs("svg",{width:"41",height:"40",viewBox:"0 0 41 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[R.jsxs("g",{clipPath:"url(#clip0_44_884)",children:[R.jsx("path",{d:"M36.6468 34.6678L34.345 8.72697C34.3036 8.21362 33.873 7.82447 33.3514 7.82447H28.4994C28.4911 3.51066 24.9805 0 20.6666 0C16.3528 0 12.8422 3.51066 12.8339 7.82447H7.9819C7.46855 7.82447 7.03799 8.21362 6.98831 8.72697L4.68651 34.6678C4.68651 34.7009 4.68651 34.7257 4.68651 34.7589C4.68651 37.6485 7.34435 40 10.6066 40H30.7267C33.9889 40 36.6468 37.6485 36.6468 34.7589C36.6468 34.7257 36.6468 34.7009 36.6468 34.6678ZM20.6666 1.98717C23.8875 1.98717 26.5039 4.6036 26.5122 7.82447H14.8211C14.8293 4.6036 17.4458 1.98717 20.6666 1.98717ZM30.7267 38.0046H10.6066C8.45385 38.0046 6.69852 36.5721 6.67368 34.792L8.89268 9.81163H12.8339V13.2975C12.8339 13.8439 13.281 14.291 13.8275 14.291C14.3739 14.291 14.8211 13.8439 14.8211 13.2975V9.81163H26.5122V13.2975C26.5122 13.8439 26.9593 14.291 27.5058 14.291C28.0523 14.291 28.4994 13.8439 28.4994 13.2975V9.81163H32.4406L34.6596 34.8002C34.6348 36.5721 32.8794 38.0046 30.7267 38.0046Z",fill:"#445bee"}),R.jsx("path",{d:"M24.7982 20.6831L18.9361 26.5452L16.5432 24.1524C16.1541 23.7632 15.5248 23.7632 15.1357 24.1524C14.7465 24.5415 14.7465 25.1708 15.1357 25.5599L18.2323 28.6566C18.4228 28.8471 18.6794 28.9464 18.9361 28.9464C19.1928 28.9464 19.4412 28.8471 19.6399 28.6566L26.2058 22.0907C26.595 21.7015 26.595 21.0723 26.2058 20.6831C25.8167 20.3022 25.1874 20.3022 24.7982 20.6831Z",fill:"#445bee"})]}),R.jsx("defs",{children:R.jsx("clipPath",{id:"clip0_44_884",children:R.jsx("rect",{width:"40",height:"40",fill:"white",transform:"translate(0.666687)"})})})]})}),R.jsxs("h3",{className:"flex flex-col justify-center gap-y-2 h-full",children:[R.jsx("span",{className:"font-bold",children:"Free Shipping"}),R.jsx("span",{className:"text-xs line-clamp-1",children:"Free shipping on all your order"})]})]}),R.jsxs("div",{className:"flex items-center gap-x-3 lg:gap-x-4 justify-center h-20 px-2 py-1 group",children:[R.jsx("span",{className:"group-hover:scale-125 transition-all duration-500",children:R.jsx("svg",{width:"38",height:"40",viewBox:"0 0 38 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:R.jsx("path",{d:"M37.3959 9.43014C37.3959 9.27818 37.3621 9.12621 37.2946 8.98269C37.1595 8.69565 36.8978 8.50148 36.6108 8.44238L19.4136 0.101309C19.135 -0.0337695 18.8058 -0.0337695 18.5272 0.101309L1.16121 8.51836C0.823514 8.67877 0.604012 9.01646 0.587128 9.39637V9.40481C0.587128 9.41325 0.587128 9.4217 0.587128 9.43858V30.5614C0.587128 30.9498 0.80663 31.3043 1.16121 31.4732L18.5272 39.8903C18.5356 39.8903 18.5356 39.8903 18.5441 39.8987C18.5694 39.9071 18.5947 39.9156 18.6201 39.9325C18.6285 39.9325 18.6369 39.9409 18.6538 39.9409C18.6791 39.9493 18.7045 39.9578 18.7298 39.9662C18.7382 39.9662 18.7467 39.9747 18.7551 39.9747C18.7805 39.9831 18.8142 39.9831 18.8396 39.9916C18.848 39.9916 18.8564 39.9916 18.8649 39.9916C18.8987 39.9916 18.9409 40 18.9746 40C19.0084 40 19.0506 40 19.0844 39.9916C19.0928 39.9916 19.1013 39.9916 19.1097 39.9916C19.135 39.9916 19.1688 39.9831 19.1941 39.9747C19.2026 39.9747 19.211 39.9662 19.2195 39.9662C19.2448 39.9578 19.2701 39.9493 19.2954 39.9409C19.3039 39.9409 19.3123 39.9325 19.3292 39.9325C19.3545 39.924 19.3799 39.9156 19.4052 39.8987C19.4136 39.8987 19.4136 39.8987 19.4221 39.8903L36.8387 31.4479C37.1848 31.279 37.4128 30.9244 37.4128 30.5361V9.45547C37.3959 9.44702 37.3959 9.43858 37.3959 9.43014ZM18.9662 2.13592L34.0274 9.43858L28.4808 12.1317L13.4195 4.82904L18.9662 2.13592ZM18.9662 16.7412L3.90498 9.43858L11.0979 5.95188L26.1591 13.2545L18.9662 16.7412ZM2.6133 11.068L17.9531 18.5057V37.3575L2.6133 29.9198V11.068ZM19.9793 37.3575V18.5057L27.1806 15.0106V19.9409C27.1806 20.4981 27.6365 20.954 28.1937 20.954C28.7509 20.954 29.2068 20.4981 29.2068 19.9409V14.0228L35.3697 11.0342V29.886L19.9793 37.3575Z",fill:"#445bee"})})}),R.jsxs("h3",{className:"flex flex-col justify-center gap-y-2 h-full",children:[R.jsx("span",{className:"font-bold",children:"Free Shipping"}),R.jsx("span",{className:"text-xs line-clamp-1",children:"Free shipping on all your order"})]})]})]}),R.jsx(m9,{title:"Deal Of The Day"})]})]});function LL(n){return hn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21.822 7.431A1 1 0 0 0 21 7H7.333L6.179 4.23A1.994 1.994 0 0 0 4.333 3H2v2h2.333l4.744 11.385A1 1 0 0 0 10 17h8c.417 0 .79-.259.937-.648l3-8a1 1 0 0 0-.115-.921zM17.307 15h-6.64l-2.5-6h11.39l-2.25 6z"},child:[]},{tag:"circle",attr:{cx:"10.5",cy:"19.5",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"19.5",r:"1.5"},child:[]}]})(n)}function Zq(n){return hn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16.293 9.293 12 13.586 7.707 9.293l-1.414 1.414L12 16.414l5.707-5.707z"},child:[]}]})(n)}function g9(n){return hn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 4.595a5.904 5.904 0 0 0-3.996-1.558 5.942 5.942 0 0 0-4.213 1.758c-2.353 2.363-2.352 6.059.002 8.412l7.332 7.332c.17.299.498.492.875.492a.99.99 0 0 0 .792-.409l7.415-7.415c2.354-2.354 2.354-6.049-.002-8.416a5.938 5.938 0 0 0-4.209-1.754A5.906 5.906 0 0 0 12 4.595zm6.791 1.61c1.563 1.571 1.564 4.025.002 5.588L12 18.586l-6.793-6.793c-1.562-1.563-1.561-4.017-.002-5.584.76-.756 1.754-1.172 2.799-1.172s2.035.416 2.789 1.17l.5.5a.999.999 0 0 0 1.414 0l.5-.5c1.512-1.509 4.074-1.505 5.584-.002z"},child:[]}]})(n)}function eQ(n){return hn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M4 6h16v2H4zm0 5h16v2H4zm0 5h16v2H4z"},child:[]}]})(n)}function DL(n){return hn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M10 18a7.952 7.952 0 0 0 4.897-1.688l4.396 4.396 1.414-1.414-4.396-4.396A7.952 7.952 0 0 0 18 10c0-4.411-3.589-8-8-8s-8 3.589-8 8 3.589 8 8 8zm0-14c3.309 0 6 2.691 6 6s-2.691 6-6 6-6-2.691-6-6 2.691-6 6-6z"},child:[]}]})(n)}var y9={},v9={exports:{}},tQ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",nQ=tQ,rQ=nQ;function _9(){}function x9(){}x9.resetWarningCache=_9;var iQ=function(){function n(r,i,s,o,a,l){if(l!==rQ){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:x9,resetWarningCache:_9};return t.PropTypes=t,t};v9.exports=iQ();var sQ=v9.exports;Object.defineProperty(y9,"__esModule",{value:!0});var BL=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},oQ=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),S9=Y,gA=A9(S9),aQ=sQ,Go=A9(aQ);function A9(n){return n&&n.__esModule?n:{default:n}}function lQ(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function cQ(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function uQ(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var hQ={overflow:"hidden",position:"relative"},fQ={position:"relative",overflow:"hidden",cursor:"pointer",display:"block",float:"left"},dQ=function(e,t){return`
    .react-stars-`+t+`:before {
      position: absolute;
      overflow: hidden;
      display: block;
      z-index: 1;
      top: 0; left: 0;
      width: 50%;
      content: attr(data-forhalf);
      color: `+e+`;
  }`},Vb=function(n){uQ(e,n);function e(t){lQ(this,e);var r=cQ(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return t=BL({},t),r.state={uniqueness:(Math.random()+"").replace(".",""),value:t.value||0,stars:[],halfStar:{at:Math.floor(t.value),hidden:t.half&&t.value%1<.5}},r.state.config={count:t.count,size:t.size,char:t.char,color1:t.color1,color2:t.color2,half:t.half,edit:t.edit},r}return oQ(e,[{key:"componentDidMount",value:function(){this.setState({stars:this.getStars(this.state.value)})}},{key:"componentWillReceiveProps",value:function(r){this.setState({stars:this.getStars(r.value),value:r.value,halfStar:{at:Math.floor(r.value),hidden:this.state.config.half&&r.value%1<.5}})}},{key:"isDecimal",value:function(r){return r%1!==0}},{key:"getRate",value:function(){var r=void 0;return this.state.config.half?r=Math.floor(this.state.value):r=Math.round(this.state.value),r}},{key:"getStars",value:function(r){typeof r>"u"&&(r=this.getRate());for(var i=[],s=0;s<this.state.config.count;s++)i.push({active:s<=r-1});return i}},{key:"mouseOver",value:function(r){var i=this.state,s=i.config,o=i.halfStar;if(s.edit){var a=Number(r.target.getAttribute("data-index"));if(s.half){var l=this.moreThanHalf(r,s.size);o.hidden=l,l&&(a=a+1),o.at=a}else a=a+1;this.setState({stars:this.getStars(a)})}}},{key:"moreThanHalf",value:function(r,i){var s=r.target,o=r.clientX-s.getBoundingClientRect().left;return o=Math.round(Math.abs(o)),o>i/2}},{key:"mouseLeave",value:function(){var r=this.state,i=r.value,s=r.halfStar,o=r.config;o.edit&&(o.half&&(s.hidden=!this.isDecimal(i),s.at=Math.floor(this.state.value)),this.setState({stars:this.getStars()}))}},{key:"clicked",value:function(r){var i=this.state,s=i.config,o=i.halfStar;if(s.edit){var a=Number(r.target.getAttribute("data-index")),l=void 0;if(s.half){var c=this.moreThanHalf(r,s.size);o.hidden=c,c&&(a=a+1),l=c?a:a+.5,o.at=a}else l=a=a+1;this.setState({value:l,stars:this.getStars(a)}),this.props.onChange(l)}}},{key:"renderHalfStarStyleElement",value:function(){var r=this.state,i=r.config,s=r.uniqueness;return gA.default.createElement("style",{dangerouslySetInnerHTML:{__html:dQ(i.color2,s)}})}},{key:"renderStars",value:function(){var r=this,i=this.state,s=i.halfStar,o=i.stars,a=i.uniqueness,l=i.config,c=l.color1,u=l.color2,f=l.size,p=l.char,m=l.half,y=l.edit;return o.map(function(S,v){var g="";m&&!s.hidden&&s.at===v&&(g="react-stars-"+a);var x=BL({},fQ,{color:S.active?u:c,cursor:y?"pointer":"default",fontSize:f+"px"});return gA.default.createElement("span",{className:g,style:x,key:v,"data-index":v,"data-forhalf":p,onMouseOver:r.mouseOver.bind(r),onMouseMove:r.mouseOver.bind(r),onMouseLeave:r.mouseLeave.bind(r),onClick:r.clicked.bind(r)},p)})}},{key:"render",value:function(){var r=this.props.className;return gA.default.createElement("div",{className:r,style:hQ},this.state.config.half?this.renderHalfStarStyleElement():"",this.renderStars())}}]),e}(S9.Component);Vb.propTypes={className:Go.default.string,edit:Go.default.bool,half:Go.default.bool,value:Go.default.number,count:Go.default.number,char:Go.default.string,size:Go.default.number,color1:Go.default.string,color2:Go.default.string};Vb.defaultProps={edit:!0,half:!0,value:0,count:5,char:"★",size:15,color1:"gray",color2:"#ffd700",onChange:function(){}};var Ex=y9.default=Vb;function pQ(n){const{Thumbnail:e,Name:t,Price:r,Stars:i}=n;return R.jsxs("div",{className:"flex flex-col items-center justify-between hover:-translate-y-0.5 duration-500 h-72 md:h-80 md:w-56 w-44 bg-gray-50 rounded-lg hover:shadow-md transition-all",children:[R.jsxs("div",{className:"w-full h-3/5 relative",children:[R.jsx("img",{src:e,alt:t,className:"rounded-lg h-full w-full object-cover"}),R.jsxs("button",{className:"absolute top-2 right-2 text-xl md:text-2xl bg-gray-50/60 p-1.5 hover:scale-110 transition-all duration-300 rounded-full group",children:[R.jsx(g9,{className:"group-hover:hidden"}),R.jsx(Ub,{className:"hidden group-hover:block group-hover:text-red-600 transition-all"})]})]}),R.jsxs("div",{className:"flex flex-col justify-between px-3 py-1.5 md:px-4 md:py-2 h-2/5 w-full",children:[R.jsx("h2",{className:"font-bold line-clamp-2 md:mt-1",children:t}),R.jsxs("div",{className:"w-full flex items-center justify-between py-1",children:[R.jsx("div",{className:"",children:R.jsx(Ex,{count:5,value:d9(i),size:18,color2:"#ffd700",edit:!1})}),R.jsx("p",{className:"font-semibold ",children:R.jsxs("span",{children:["$",r]})})]})]})]})}function mQ(){return R.jsxs("div",{className:"flex flex-col items-center justify-between hover:-translate-y-0.5 duration-500 h-72 md:h-80 md:w-56 w-44 bg-gray-50 rounded-lg hover:shadow-md transition-all",children:[R.jsx("div",{className:"w-full h-3/5 relative",children:R.jsx("div",{className:"rounded-lg h-full w-full object-cover bg-gray-300"})}),R.jsxs("div",{className:"flex flex-col justify-between px-3 py-1.5 md:px-4 md:py-2 h-2/5 w-full",children:[R.jsx("h2",{className:"font-bold line-clamp-2 bg-gray-300 mt-2.5 w-3/5 h-4 rounded-full",children:" "}),R.jsxs("div",{className:"w-full flex items-center justify-between py-1",children:[R.jsx("div",{className:"",children:R.jsx(Ex,{count:5,size:18,color2:"gray",edit:!1})}),R.jsx("p",{className:"font-semibold bg-gray-300 w-11 h-4 rounded-full",children:R.jsx("span",{children:" "})})]})]})]})}function gQ(){return R.jsxs("div",{className:"mx-auto 2xl:max-w-screen-2xl my-4 md:my-6 relative animate-pulse",children:[R.jsx("h2",{className:"px-2 text-2xl font-bold my-1 md:my-2 md:text-3xl",children:"Trend Products"}),R.jsxs("div",{className:"w-full overflow-auto scroll-smooth styled-scroll-bar",children:[R.jsx("div",{className:"h-72 bg-gradient-to-l from-gray-50/0 transition-all duration-500 to-gray-50 w-16 md:w-24 absolute z-10 left-0 top-9 flex items-center justify-start opacity-50",children:R.jsx("button",{className:"text-lg md:text-2xl p-2 bg-gray-100 shadow-2xl rounded-md mx-2",children:R.jsx(n_,{})})}),R.jsx("div",{className:"inline-flex items-center gap-x-8 px-4 py-2",children:Hq(10).map((n,e)=>R.jsx(mQ,{},e))}),R.jsx("div",{className:"h-72 bg-gradient-to-r from-gray-50/0 transition-all duration-500 to-gray-50 w-16 md:w-24 absolute z-10 right-0 top-8 flex items-center justify-end opacity-50",children:R.jsx("button",{className:"text-lg md:text-2xl p-2 bg-gray-100 shadow-2xl rounded-md mx-2",children:R.jsx(Xs,{})})})]})]})}function yQ({isLoading:n,products:e,filterObject:t}){const r=kb(e,t),i=Y.useRef();if(n)return R.jsx(gQ,{});if(!n&&e.length)return R.jsxs("div",{className:"mx-auto 2xl:max-w-screen-2xl my-4 md:my-10 relative",children:[R.jsxs("div",{className:"w-full px-2 my-1 md:px-4 flex items-center justify-between",children:[R.jsx("h2",{className:"text-2xl font-bold  md:text-3xl",children:"Trend Products"}),R.jsxs("span",{className:"flex items-center gap-x-1 md:gap-x-1.5 md:text-lg text-sm text-gray-500 hover:text-accent-300 transition-all cursor-pointer",children:["View All ",R.jsx(Xs,{className:"text-xs md:text-base"})]})]}),R.jsxs("div",{ref:i,className:"w-full overflow-auto scroll-smooth styled-scroll-bar md:px-4",children:[R.jsx("div",{className:"h-72 bg-gradient-to-l from-gray-50/0 transition-all duration-500 to-gray-50 w-16 md:w-24 absolute z-10 left-0 top-9 flex items-center justify-start opacity-50 hover:opacity-100",children:R.jsx("button",{onClick:()=>{i.current.scrollLeft-=200},className:"text-lg md:text-2xl p-2 bg-gray-100 shadow-2xl rounded-md mx-2",children:R.jsx(n_,{})})}),R.jsx("div",{className:"inline-flex items-center gap-x-8 px-4 py-2",children:r.map(s=>R.jsx(pQ,{...s},s.id))}),R.jsx("div",{className:"h-72 bg-gradient-to-r from-gray-50/0 transition-all duration-500 to-gray-50 w-16 md:w-24 absolute z-10 right-0 top-8 flex items-center justify-end opacity-50 hover:opacity-100",children:R.jsx("button",{onClick:()=>{i.current.scrollLeft+=200},className:"text-lg md:text-2xl p-2 bg-gray-100 shadow-2xl rounded-md mx-2",children:R.jsx(Xs,{})})})]})]})}function vQ(){return R.jsxs("div",{className:"mx-auto 2xl:max-w-screen-2xl mt-6 bg-gray-50 py-4 lg:py-6 lg:px-4",children:[R.jsx("h2",{className:"px-2 text-2xl font-bold my-1 md:my-2 md:text-3xl",children:"SPRING/SUMMER 2024"}),R.jsxs("div",{id:"wrapper",className:"flex flex-col gap-y-3 lg:flex-row lg:gap-x-3 items-center px-1 py-0.5 lg:px-4 lg:py-2",children:[R.jsx(Iy,{}),R.jsxs("div",{className:"flex items-center gap-x-3 w-full",children:[R.jsx(Iy,{}),R.jsx(Iy,{})]}),R.jsx(Iy,{})]})]})}const Iy=()=>R.jsxs("div",{className:"w-full h-72 bg-gray-300/35 rounded-xl animate-pulse",children:[R.jsx("div",{className:"w-full h-3/5 relative",children:R.jsx("div",{className:"w-full h-full rounded-t-md object-cover bg-gray-400"})}),R.jsxs("div",{className:"flex flex-col items-start justify-evenly h-2/5 px-4 py-2",children:[R.jsx("span",{className:"my-0.5 w-1/4 p-0.5 rounded-full bg-gray-400"}),R.jsx("h2",{className:"w-3/4 p-0.5 rounded-full bg-gray-400"}),R.jsxs("p",{className:"mt-1 font-bold flex items-center w-full justify-between",children:[R.jsx("span",{className:"w-1/4 rounded-full h-2 bg-gray-400"}),R.jsx("div",{children:R.jsx(Ex,{count:5,size:18,color2:"red",edit:!1})})]})]})]});function _Q({products:n,isLoading:e}){const t=kb(n,{collections:["Summer"]});if(e)return R.jsx(vQ,{});if(t.length&&!e)return R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:"mx-auto 2xl:max-w-screen-2xl mt-6 bg-gray-100 py-4 lg:py-6",children:[R.jsx("h2",{className:"px-2 md:px-3 text-2xl font-bold my-1 md:text-3xl cursor-pointer hover:text-accent-300 w-fit transition-all",children:"SPRING/SUMMER 2024"}),R.jsxs("div",{id:"wrapper",className:"flex flex-col gap-y-3 lg:flex-row lg:gap-x-3 items-center px-2 py-1 lg:px-4 lg:py-2 lg:h-[450px]",children:[R.jsx(Ly,{product:t[0]}),R.jsxs("div",{className:"flex items-center gap-x-3 w-full",children:[R.jsx(Ly,{product:t[1],minimal:!0}),R.jsx(Ly,{product:t[2],minimal:!0})]}),R.jsx(Ly,{product:t[3]})]})]}),R.jsx(m9,{title:"Trending Products"})]})}const Ly=({product:n,minimal:e})=>R.jsxs("div",{className:"w-full h-80 lg:h-96 bg-gray-300/35 rounded-xl cursor-pointer",children:[R.jsxs("div",{className:"w-full h-3/5 relative",children:[R.jsx("img",{src:n.Thumbnail,alt:n.Name,className:"w-full h-full rounded-t-md object-cover"}),R.jsxs("button",{className:"absolute top-2 right-2 text-xl md:text-2xl bg-gray-50/60 p-1.5 hover:scale-110 transition-all duration-300 rounded-full group",children:[R.jsx(g9,{className:"group-hover:hidden"}),R.jsx(Ub,{className:"hidden group-hover:block group-hover:text-red-600 transition-all"})]})]}),R.jsxs("div",{className:"flex flex-col items-start h-2/5 justify-between px-4 py-2",children:[R.jsxs("div",{children:[R.jsx("span",{className:"text-xs my-0.5",children:n.Tags[0]}),R.jsx("h2",{className:"font-bold",children:n.Name}),R.jsxs("p",{className:`${e&&"hidden"} flex items-center justify-center gap-x-2 mt-2`,children:[n.Options.Color.map((t,r)=>R.jsx("span",{style:{backgroundColor:t},className:"p-2 rounded-full border border-gray-400"},r)),R.jsx("span",{className:"text-sm ml-0.5",children:"+5 more ..."})]})]}),R.jsxs("p",{className:"mt-1 font-bold flex items-center w-full justify-between",children:[R.jsxs("span",{children:["$",n.Price]}),R.jsx("div",{children:R.jsx(Ex,{count:5,value:d9(n.Stars),size:e?12:18,color2:"#ffd700",edit:!1})})]})]})]}),ci={menTshirts:{imgUrl:"https://firebasestorage.googleapis.com/v0/b/ecovibe-c6720.appspot.com/o/AppImages%2Fproduct%20gallery%20banner%20(1).jpg?alt=media&token=99be3f20-a87c-4023-9c78-6ed0767cd21e",title:"T-Shirt for men's",offer:"30%"},menConverse:{imgUrl:"https://firebasestorage.googleapis.com/v0/b/ecovibe-c6720.appspot.com/o/AppImages%2Fproduct%20gallery%20banner%20(5).jpg?alt=media&token=90803c66-3bef-4059-ad6e-e67923837011",title:"Men's Converse sneakers",offer:"40%"},sweaterWomen:{imgUrl:"https://firebasestorage.googleapis.com/v0/b/ecovibe-c6720.appspot.com/o/AppImages%2Fproduct%20gallery%20banner%20(4).jpg?alt=media&token=92d2cf69-e1b8-4f0c-86f3-3241d4083e40",title:"Sweater For Women",offer:"30-60%"},womenTshirts:{imgUrl:"https://firebasestorage.googleapis.com/v0/b/ecovibe-c6720.appspot.com/o/AppImages%2Fproduct%20gallery%20banner%20(3).jpg?alt=media&token=92fb3974-60c9-4cf2-a81d-770e9137d24f",title:"T-shirt For Womens",offer:"40-50%"},fashionBags:{imgUrl:"https://firebasestorage.googleapis.com/v0/b/ecovibe-c6720.appspot.com/o/AppImages%2Fproduct%20gallery%20banner%20(2).jpg?alt=media&token=e6298847-e5b3-445d-8052-c710dfbd8407",title:"Fashoinable Bag Women",offer:"20%"}};function xQ(){return R.jsxs("div",{className:"mx-auto 2xl:max-w-screen-2xl mt-4 md:mt-10",children:[R.jsxs("div",{className:"w-full px-2 my-1 md:my-4 md:px-4 flex items-center justify-between",children:[R.jsx("h2",{className:"text-2xl font-bold md:text-3xl",children:"Top Products"}),R.jsxs("span",{className:"flex items-center gap-x-1 md:gap-x-1.5 md:text-lg text-sm text-gray-500 hover:text-accent-300 transition-all cursor-pointer",children:["View All ",R.jsx(Xs,{className:"text-xs md:text-base"})]})]}),R.jsxs("div",{id:"wrapper",className:"flex flex-col md:flex-row w-full items-center gap-y-3 px-2 py-1 gap-x-4 md:h-[600px] lg:h-[700px]",children:[R.jsxs("div",{className:"flex md:flex-col w-full md:h-full items-center justify-between gap-x-2",children:[R.jsxs("div",{className:"w-1/2 md:w-full h-48 md:h-1/2 rounded-md group",children:[R.jsxs("div",{className:"h-3/4 relative",children:[R.jsx("img",{src:ci.menTshirts.imgUrl,alt:"men t-shirt pic",className:"w-full h-full object-cover rounded-md"}),R.jsx("div",{className:"inset-0 bg-gray-300/70 absolute rounded invisible h-0 group-hover:h-full group-hover:visible ease-linear duration-500 flex items-center justify-center",children:R.jsx("button",{className:"px-2 py-1 bg-white/65 text-black font-bold border-2 border-gray-300 rounded-md text-sm hidden group-hover:block md:text-lg hover:scale-110 transition-all",children:"view more ..."})})]}),R.jsxs("p",{className:"flex flex-col items-center px-2 py-1 ",children:[R.jsx("span",{className:"font-bold text-sm line-clamp-1 text-center md:text-lg",children:ci.menTshirts.title}),R.jsxs("span",{className:"px-2 py-1 bg-red-400 rounded-md text-white text-xs md:text-base",children:["Up to ",ci.menTshirts.offer," OFF"]})]})]}),R.jsxs("div",{className:"w-1/2 md:w-full h-48 md:h-1/2  group",children:[R.jsxs("div",{className:"h-3/4 relative",children:[R.jsx("img",{src:ci.menConverse.imgUrl,alt:"men t-shirt pic",className:"w-full h-full object-cover rounded-md"}),R.jsx("div",{className:"inset-0 bg-gray-300/70 absolute rounded invisible h-0 group-hover:h-full group-hover:visible ease-linear duration-500 flex items-center justify-center",children:R.jsx("button",{className:"px-2 py-1 bg-white/65 text-black font-bold border-2 border-gray-300 rounded-md text-sm hidden group-hover:block md:text-lg hover:scale-110 transition-all",children:"view more ..."})})]}),R.jsxs("p",{className:"flex flex-col items-center px-2 py-1 ",children:[R.jsx("span",{className:"font-bold text-sm line-clamp-1 text-center md:text-lg",children:ci.menConverse.title}),R.jsxs("span",{className:"px-2 py-1 bg-red-400 rounded-md text-white text-xs md:text-base",children:["Up to ",ci.menConverse.offer," OFF"]})]})]})]}),R.jsxs("div",{className:"w-full h-72 md:h-full group",children:[R.jsxs("div",{className:"h-3/4 md:h-5/6 relative",children:[R.jsx("img",{src:ci.sweaterWomen.imgUrl,alt:"men t-shirt pic",className:"w-full h-full object-cover rounded-md"}),R.jsx("div",{className:"inset-0 bg-gray-300/70 absolute rounded invisible h-0 group-hover:h-full group-hover:visible ease-linear duration-500 flex items-center justify-center",children:R.jsx("button",{className:"px-2 py-1 bg-white/65 text-black font-bold border-2 border-gray-300 rounded-md text-sm hidden group-hover:block md:text-lg hover:scale-110 transition-all",children:"view more ..."})})]}),R.jsxs("p",{className:"flex flex-col h-1/4 md:h-1/6 items-center justify-center px-2 py-1 md:px-4 md:py-2",children:[R.jsx("span",{className:"font-bold text-sm line-clamp-1 text-center md:text-lg",children:ci.sweaterWomen.title}),R.jsxs("span",{className:"px-2 py-1 bg-red-400 rounded-md text-white text-xs md:text-base",children:["Up to ",ci.sweaterWomen.offer," OFF"]})]})]}),R.jsxs("div",{className:"flex md:flex-col w-full md:h-full items-center justify-between gap-x-2",children:[R.jsxs("div",{className:"w-1/2 md:w-full h-48 md:h-1/2 group",children:[R.jsxs("div",{className:"h-3/4 relative",children:[R.jsx("img",{src:ci.womenTshirts.imgUrl,alt:"men t-shirt pic",className:"w-full h-full object-cover rounded-md"}),R.jsx("div",{className:"inset-0 bg-gray-300/70 absolute rounded invisible h-0 group-hover:h-full group-hover:visible ease-linear duration-500 flex items-center justify-center",children:R.jsx("button",{className:"px-2 py-1 bg-white/65 text-black font-bold border-2 border-gray-300 rounded-md text-sm hidden group-hover:block md:text-lg hover:scale-110 transition-all",children:"view more ..."})})]}),R.jsxs("p",{className:"flex flex-col items-center px-2 py-1 ",children:[R.jsx("span",{className:"font-bold text-sm line-clamp-1 text-center md:text-lg",children:ci.womenTshirts.title}),R.jsxs("span",{className:"px-2 py-1 bg-red-400 rounded-md text-white text-xs md:text-base",children:["Up to ",ci.womenTshirts.offer," OFF"]})]})]}),R.jsxs("div",{className:"w-1/2 md:w-full h-48 md:h-1/2 group",children:[R.jsxs("div",{className:"h-3/4 relative",children:[R.jsx("img",{src:ci.fashionBags.imgUrl,alt:"men t-shirt pic",className:"w-full h-full object-cover rounded-md"}),R.jsx("div",{className:"inset-0 bg-gray-300/70 absolute rounded invisible h-0 group-hover:h-full group-hover:visible ease-linear duration-500 flex items-center justify-center",children:R.jsx("button",{className:"px-2 py-1 bg-white/65 text-black font-bold border-2 border-gray-300 rounded-md text-sm hidden group-hover:block md:text-lg hover:scale-110 transition-all",children:"view more ..."})})]}),R.jsxs("p",{className:"flex flex-col items-center px-2 py-1 ",children:[R.jsx("span",{className:"font-bold text-sm line-clamp-1 text-center md:text-lg",children:ci.fashionBags.title}),R.jsxs("span",{className:"px-2 py-1 bg-red-400 rounded-md text-white text-xs md:text-base",children:["Up to ",ci.fashionBags.offer," OFF"]})]})]})]})]})]})}var w9={exports:{}};(function(n,e){(function(r,i){n.exports=i(Y)})(Od,t=>(()=>{var r={"./node_modules/css-mediaquery/index.js":(a,l)=>{l.match=y,l.parse=S;var c=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,u=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,f=/^(?:(min|max)-)?(.+)/,p=/(em|rem|px|cm|mm|in|pt|pc)?$/,m=/(dpi|dpcm|dppx)?$/;function y(A,E){return S(A).some(function(b){var C=b.inverse,P=b.type==="all"||E.type===b.type;if(P&&C||!(P||C))return!1;var L=b.expressions.every(function(N){var M=N.feature,D=N.modifier,z=N.value,W=E[M];if(!W)return!1;switch(M){case"orientation":case"scan":return W.toLowerCase()===z.toLowerCase();case"width":case"height":case"device-width":case"device-height":z=x(z),W=x(W);break;case"resolution":z=g(z),W=g(W);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":z=v(z),W=v(W);break;case"grid":case"color":case"color-index":case"monochrome":z=parseInt(z,10)||1,W=parseInt(W,10)||0;break}switch(D){case"min":return W>=z;case"max":return W<=z;default:return W===z}});return L&&!C||!L&&C})}function S(A){return A.split(",").map(function(E){E=E.trim();var b=E.match(c),C=b[1],P=b[2],L=b[3]||"",N={};return N.inverse=!!C&&C.toLowerCase()==="not",N.type=P?P.toLowerCase():"all",L=L.match(/\([^\)]+\)/g)||[],N.expressions=L.map(function(M){var D=M.match(u),z=D[1].toLowerCase().match(f);return{modifier:z[1],feature:z[2],value:D[2]}}),N})}function v(A){var E=Number(A),b;return E||(b=A.match(/^(\d+)\s*\/\s*(\d+)$/),E=b[1]/b[2]),E}function g(A){var E=parseFloat(A),b=String(A).match(m)[1];switch(b){case"dpcm":return E/2.54;case"dppx":return E*96;default:return E}}function x(A){var E=parseFloat(A),b=String(A).match(p)[1];switch(b){case"em":return E*16;case"rem":return E*16;case"cm":return E*96/2.54;case"mm":return E*96/2.54/10;case"in":return E*96;case"pt":return E*72;case"pc":return E*72/12;default:return E}}},"./node_modules/hyphenate-style-name/index.js":(a,l,c)=>{c.r(l),c.d(l,{default:()=>S});var u=/[A-Z]/g,f=/^ms-/,p={};function m(v){return"-"+v.toLowerCase()}function y(v){if(p.hasOwnProperty(v))return p[v];var g=v.replace(u,m);return p[v]=f.test(g)?"-"+g:g}const S=y},"./node_modules/matchmediaquery/index.js":(a,l,c)=>{var u=c("./node_modules/css-mediaquery/index.js").match,f=typeof window<"u"?window.matchMedia:null;function p(y,S,v){var g=this;if(f&&!v){var x=f.call(window,y);this.matches=x.matches,this.media=x.media,x.addListener(b)}else this.matches=u(y,S),this.media=y;this.addListener=A,this.removeListener=E,this.dispose=C;function A(P){x&&x.addListener(P)}function E(P){x&&x.removeListener(P)}function b(P){g.matches=P.matches,g.media=P.media}function C(){x&&x.removeListener(b)}}function m(y,S,v){return new p(y,S,v)}a.exports=m},"./node_modules/object-assign/index.js":a=>{/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var l=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable;function f(m){if(m==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(m)}function p(){try{if(!Object.assign)return!1;var m=new String("abc");if(m[5]="de",Object.getOwnPropertyNames(m)[0]==="5")return!1;for(var y={},S=0;S<10;S++)y["_"+String.fromCharCode(S)]=S;var v=Object.getOwnPropertyNames(y).map(function(x){return y[x]});if(v.join("")!=="0123456789")return!1;var g={};return"abcdefghijklmnopqrst".split("").forEach(function(x){g[x]=x}),Object.keys(Object.assign({},g)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}a.exports=p()?Object.assign:function(m,y){for(var S,v=f(m),g,x=1;x<arguments.length;x++){S=Object(arguments[x]);for(var A in S)c.call(S,A)&&(v[A]=S[A]);if(l){g=l(S);for(var E=0;E<g.length;E++)u.call(S,g[E])&&(v[g[E]]=S[g[E]])}}return v}},"./node_modules/prop-types/checkPropTypes.js":(a,l,c)=>{var u=function(){};{var f=c("./node_modules/prop-types/lib/ReactPropTypesSecret.js"),p={},m=c("./node_modules/prop-types/lib/has.js");u=function(S){var v="Warning: "+S;typeof console<"u"&&console.error(v);try{throw new Error(v)}catch{}}}function y(S,v,g,x,A){for(var E in S)if(m(S,E)){var b;try{if(typeof S[E]!="function"){var C=Error((x||"React class")+": "+g+" type `"+E+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof S[E]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw C.name="Invariant Violation",C}b=S[E](v,E,x,g,null,f)}catch(L){b=L}if(b&&!(b instanceof Error)&&u((x||"React class")+": type specification of "+g+" `"+E+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof b+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),b instanceof Error&&!(b.message in p)){p[b.message]=!0;var P=A?A():"";u("Failed "+g+" type: "+b.message+(P??""))}}}y.resetWarningCache=function(){p={}},a.exports=y},"./node_modules/prop-types/factoryWithTypeCheckers.js":(a,l,c)=>{var u=c("./node_modules/react-is/index.js"),f=c("./node_modules/object-assign/index.js"),p=c("./node_modules/prop-types/lib/ReactPropTypesSecret.js"),m=c("./node_modules/prop-types/lib/has.js"),y=c("./node_modules/prop-types/checkPropTypes.js"),S=function(){};S=function(g){var x="Warning: "+g;typeof console<"u"&&console.error(x);try{throw new Error(x)}catch{}};function v(){return null}a.exports=function(g,x){var A=typeof Symbol=="function"&&Symbol.iterator,E="@@iterator";function b(ce){var oe=ce&&(A&&ce[A]||ce[E]);if(typeof oe=="function")return oe}var C="<<anonymous>>",P={array:D("array"),bigint:D("bigint"),bool:D("boolean"),func:D("function"),number:D("number"),object:D("object"),string:D("string"),symbol:D("symbol"),any:z(),arrayOf:W,element:H(),elementType:$(),instanceOf:Z,node:K(),objectOf:O,oneOf:ae,oneOfType:j,shape:te,exact:Me};function L(ce,oe){return ce===oe?ce!==0||1/ce===1/oe:ce!==ce&&oe!==oe}function N(ce,oe){this.message=ce,this.data=oe&&typeof oe=="object"?oe:{},this.stack=""}N.prototype=Error.prototype;function M(ce){var oe={},V=0;function he(ye,le,be,Ee,F,B,J){if(Ee=Ee||C,B=B||be,J!==p){if(x){var xe=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw xe.name="Invariant Violation",xe}else if(typeof console<"u"){var Se=Ee+":"+be;!oe[Se]&&V<3&&(S("You are manually calling a React.PropTypes validation function for the `"+B+"` prop on `"+Ee+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),oe[Se]=!0,V++)}}return le[be]==null?ye?le[be]===null?new N("The "+F+" `"+B+"` is marked as required "+("in `"+Ee+"`, but its value is `null`.")):new N("The "+F+" `"+B+"` is marked as required in "+("`"+Ee+"`, but its value is `undefined`.")):null:ce(le,be,Ee,F,B)}var ie=he.bind(null,!1);return ie.isRequired=he.bind(null,!0),ie}function D(ce){function oe(V,he,ie,ye,le,be){var Ee=V[he],F=Ae(Ee);if(F!==ce){var B=Pe(Ee);return new N("Invalid "+ye+" `"+le+"` of type "+("`"+B+"` supplied to `"+ie+"`, expected ")+("`"+ce+"`."),{expectedType:ce})}return null}return M(oe)}function z(){return M(v)}function W(ce){function oe(V,he,ie,ye,le){if(typeof ce!="function")return new N("Property `"+le+"` of component `"+ie+"` has invalid PropType notation inside arrayOf.");var be=V[he];if(!Array.isArray(be)){var Ee=Ae(be);return new N("Invalid "+ye+" `"+le+"` of type "+("`"+Ee+"` supplied to `"+ie+"`, expected an array."))}for(var F=0;F<be.length;F++){var B=ce(be,F,ie,ye,le+"["+F+"]",p);if(B instanceof Error)return B}return null}return M(oe)}function H(){function ce(oe,V,he,ie,ye){var le=oe[V];if(!g(le)){var be=Ae(le);return new N("Invalid "+ie+" `"+ye+"` of type "+("`"+be+"` supplied to `"+he+"`, expected a single ReactElement."))}return null}return M(ce)}function $(){function ce(oe,V,he,ie,ye){var le=oe[V];if(!u.isValidElementType(le)){var be=Ae(le);return new N("Invalid "+ie+" `"+ye+"` of type "+("`"+be+"` supplied to `"+he+"`, expected a single ReactElement type."))}return null}return M(ce)}function Z(ce){function oe(V,he,ie,ye,le){if(!(V[he]instanceof ce)){var be=ce.name||C,Ee=ke(V[he]);return new N("Invalid "+ye+" `"+le+"` of type "+("`"+Ee+"` supplied to `"+ie+"`, expected ")+("instance of `"+be+"`."))}return null}return M(oe)}function ae(ce){if(!Array.isArray(ce))return arguments.length>1?S("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):S("Invalid argument supplied to oneOf, expected an array."),v;function oe(V,he,ie,ye,le){for(var be=V[he],Ee=0;Ee<ce.length;Ee++)if(L(be,ce[Ee]))return null;var F=JSON.stringify(ce,function(J,xe){var Se=Pe(xe);return Se==="symbol"?String(xe):xe});return new N("Invalid "+ye+" `"+le+"` of value `"+String(be)+"` "+("supplied to `"+ie+"`, expected one of "+F+"."))}return M(oe)}function O(ce){function oe(V,he,ie,ye,le){if(typeof ce!="function")return new N("Property `"+le+"` of component `"+ie+"` has invalid PropType notation inside objectOf.");var be=V[he],Ee=Ae(be);if(Ee!=="object")return new N("Invalid "+ye+" `"+le+"` of type "+("`"+Ee+"` supplied to `"+ie+"`, expected an object."));for(var F in be)if(m(be,F)){var B=ce(be,F,ie,ye,le+"."+F,p);if(B instanceof Error)return B}return null}return M(oe)}function j(ce){if(!Array.isArray(ce))return S("Invalid argument supplied to oneOfType, expected an instance of array."),v;for(var oe=0;oe<ce.length;oe++){var V=ce[oe];if(typeof V!="function")return S("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+Ke(V)+" at index "+oe+"."),v}function he(ie,ye,le,be,Ee){for(var F=[],B=0;B<ce.length;B++){var J=ce[B],xe=J(ie,ye,le,be,Ee,p);if(xe==null)return null;xe.data&&m(xe.data,"expectedType")&&F.push(xe.data.expectedType)}var Se=F.length>0?", expected one of type ["+F.join(", ")+"]":"";return new N("Invalid "+be+" `"+Ee+"` supplied to "+("`"+le+"`"+Se+"."))}return M(he)}function K(){function ce(oe,V,he,ie,ye){return ne(oe[V])?null:new N("Invalid "+ie+" `"+ye+"` supplied to "+("`"+he+"`, expected a ReactNode."))}return M(ce)}function q(ce,oe,V,he,ie){return new N((ce||"React class")+": "+oe+" type `"+V+"."+he+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+ie+"`.")}function te(ce){function oe(V,he,ie,ye,le){var be=V[he],Ee=Ae(be);if(Ee!=="object")return new N("Invalid "+ye+" `"+le+"` of type `"+Ee+"` "+("supplied to `"+ie+"`, expected `object`."));for(var F in ce){var B=ce[F];if(typeof B!="function")return q(ie,ye,le,F,Pe(B));var J=B(be,F,ie,ye,le+"."+F,p);if(J)return J}return null}return M(oe)}function Me(ce){function oe(V,he,ie,ye,le){var be=V[he],Ee=Ae(be);if(Ee!=="object")return new N("Invalid "+ye+" `"+le+"` of type `"+Ee+"` "+("supplied to `"+ie+"`, expected `object`."));var F=f({},V[he],ce);for(var B in F){var J=ce[B];if(m(ce,B)&&typeof J!="function")return q(ie,ye,le,B,Pe(J));if(!J)return new N("Invalid "+ye+" `"+le+"` key `"+B+"` supplied to `"+ie+"`.\nBad object: "+JSON.stringify(V[he],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(ce),null,"  "));var xe=J(be,B,ie,ye,le+"."+B,p);if(xe)return xe}return null}return M(oe)}function ne(ce){switch(typeof ce){case"number":case"string":case"undefined":return!0;case"boolean":return!ce;case"object":if(Array.isArray(ce))return ce.every(ne);if(ce===null||g(ce))return!0;var oe=b(ce);if(oe){var V=oe.call(ce),he;if(oe!==ce.entries){for(;!(he=V.next()).done;)if(!ne(he.value))return!1}else for(;!(he=V.next()).done;){var ie=he.value;if(ie&&!ne(ie[1]))return!1}}else return!1;return!0;default:return!1}}function de(ce,oe){return ce==="symbol"?!0:oe?oe["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&oe instanceof Symbol:!1}function Ae(ce){var oe=typeof ce;return Array.isArray(ce)?"array":ce instanceof RegExp?"object":de(oe,ce)?"symbol":oe}function Pe(ce){if(typeof ce>"u"||ce===null)return""+ce;var oe=Ae(ce);if(oe==="object"){if(ce instanceof Date)return"date";if(ce instanceof RegExp)return"regexp"}return oe}function Ke(ce){var oe=Pe(ce);switch(oe){case"array":case"object":return"an "+oe;case"boolean":case"date":case"regexp":return"a "+oe;default:return oe}}function ke(ce){return!ce.constructor||!ce.constructor.name?C:ce.constructor.name}return P.checkPropTypes=y,P.resetWarningCache=y.resetWarningCache,P.PropTypes=P,P}},"./node_modules/prop-types/index.js":(a,l,c)=>{{var u=c("./node_modules/react-is/index.js"),f=!0;a.exports=c("./node_modules/prop-types/factoryWithTypeCheckers.js")(u.isElement,f)}},"./node_modules/prop-types/lib/ReactPropTypesSecret.js":a=>{var l="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";a.exports=l},"./node_modules/prop-types/lib/has.js":a=>{a.exports=Function.call.bind(Object.prototype.hasOwnProperty)},"./node_modules/react-is/cjs/react-is.development.js":(a,l)=>{/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var c=typeof Symbol=="function"&&Symbol.for,u=c?Symbol.for("react.element"):60103,f=c?Symbol.for("react.portal"):60106,p=c?Symbol.for("react.fragment"):60107,m=c?Symbol.for("react.strict_mode"):60108,y=c?Symbol.for("react.profiler"):60114,S=c?Symbol.for("react.provider"):60109,v=c?Symbol.for("react.context"):60110,g=c?Symbol.for("react.async_mode"):60111,x=c?Symbol.for("react.concurrent_mode"):60111,A=c?Symbol.for("react.forward_ref"):60112,E=c?Symbol.for("react.suspense"):60113,b=c?Symbol.for("react.suspense_list"):60120,C=c?Symbol.for("react.memo"):60115,P=c?Symbol.for("react.lazy"):60116,L=c?Symbol.for("react.block"):60121,N=c?Symbol.for("react.fundamental"):60117,M=c?Symbol.for("react.responder"):60118,D=c?Symbol.for("react.scope"):60119;function z(J){return typeof J=="string"||typeof J=="function"||J===p||J===x||J===y||J===m||J===E||J===b||typeof J=="object"&&J!==null&&(J.$$typeof===P||J.$$typeof===C||J.$$typeof===S||J.$$typeof===v||J.$$typeof===A||J.$$typeof===N||J.$$typeof===M||J.$$typeof===D||J.$$typeof===L)}function W(J){if(typeof J=="object"&&J!==null){var xe=J.$$typeof;switch(xe){case u:var Se=J.type;switch(Se){case g:case x:case p:case y:case m:case E:return Se;default:var we=Se&&Se.$$typeof;switch(we){case v:case A:case P:case C:case S:return we;default:return xe}}case f:return xe}}}var H=g,$=x,Z=v,ae=S,O=u,j=A,K=p,q=P,te=C,Me=f,ne=y,de=m,Ae=E,Pe=!1;function Ke(J){return Pe||(Pe=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),ke(J)||W(J)===g}function ke(J){return W(J)===x}function ce(J){return W(J)===v}function oe(J){return W(J)===S}function V(J){return typeof J=="object"&&J!==null&&J.$$typeof===u}function he(J){return W(J)===A}function ie(J){return W(J)===p}function ye(J){return W(J)===P}function le(J){return W(J)===C}function be(J){return W(J)===f}function Ee(J){return W(J)===y}function F(J){return W(J)===m}function B(J){return W(J)===E}l.AsyncMode=H,l.ConcurrentMode=$,l.ContextConsumer=Z,l.ContextProvider=ae,l.Element=O,l.ForwardRef=j,l.Fragment=K,l.Lazy=q,l.Memo=te,l.Portal=Me,l.Profiler=ne,l.StrictMode=de,l.Suspense=Ae,l.isAsyncMode=Ke,l.isConcurrentMode=ke,l.isContextConsumer=ce,l.isContextProvider=oe,l.isElement=V,l.isForwardRef=he,l.isFragment=ie,l.isLazy=ye,l.isMemo=le,l.isPortal=be,l.isProfiler=Ee,l.isStrictMode=F,l.isSuspense=B,l.isValidElementType=z,l.typeOf=W})()},"./node_modules/react-is/index.js":(a,l,c)=>{a.exports=c("./node_modules/react-is/cjs/react-is.development.js")},"./node_modules/shallow-equal/dist/index.esm.js":(a,l,c)=>{c.r(l),c.d(l,{shallowEqualArrays:()=>f,shallowEqualObjects:()=>u});function u(p,m){if(p===m)return!0;if(!p||!m)return!1;var y=Object.keys(p),S=Object.keys(m),v=y.length;if(S.length!==v)return!1;for(var g=0;g<v;g++){var x=y[g];if(p[x]!==m[x]||!Object.prototype.hasOwnProperty.call(m,x))return!1}return!0}function f(p,m){if(p===m)return!0;if(!p||!m)return!1;var y=p.length;if(m.length!==y)return!1;for(var S=0;S<y;S++)if(p[S]!==m[S])return!1;return!0}},"./src/Component.ts":function(a,l,c){var u=this&&this.__rest||function(y,S){var v={};for(var g in y)Object.prototype.hasOwnProperty.call(y,g)&&S.indexOf(g)<0&&(v[g]=y[g]);if(y!=null&&typeof Object.getOwnPropertySymbols=="function")for(var x=0,g=Object.getOwnPropertySymbols(y);x<g.length;x++)S.indexOf(g[x])<0&&Object.prototype.propertyIsEnumerable.call(y,g[x])&&(v[g[x]]=y[g[x]]);return v},f=this&&this.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(l,"__esModule",{value:!0});var p=f(c("./src/useMediaQuery.ts")),m=function(y){var S=y.children,v=y.device,g=y.onChange,x=u(y,["children","device","onChange"]),A=(0,p.default)(x,v,g);return typeof S=="function"?S(A):A?S:null};l.default=m},"./src/Context.ts":(a,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});var u=c("react"),f=(0,u.createContext)(void 0);l.default=f},"./src/index.ts":function(a,l,c){var u=this&&this.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(l,"__esModule",{value:!0}),l.Context=l.toQuery=l.useMediaQuery=l.default=void 0;var f=u(c("./src/useMediaQuery.ts"));l.useMediaQuery=f.default;var p=u(c("./src/Component.ts"));l.default=p.default;var m=u(c("./src/toQuery.ts"));l.toQuery=m.default;var y=u(c("./src/Context.ts"));l.Context=y.default},"./src/mediaQuery.ts":function(a,l,c){var u=this&&this.__assign||function(){return u=Object.assign||function(E){for(var b,C=1,P=arguments.length;C<P;C++){b=arguments[C];for(var L in b)Object.prototype.hasOwnProperty.call(b,L)&&(E[L]=b[L])}return E},u.apply(this,arguments)},f=this&&this.__rest||function(E,b){var C={};for(var P in E)Object.prototype.hasOwnProperty.call(E,P)&&b.indexOf(P)<0&&(C[P]=E[P]);if(E!=null&&typeof Object.getOwnPropertySymbols=="function")for(var L=0,P=Object.getOwnPropertySymbols(E);L<P.length;L++)b.indexOf(P[L])<0&&Object.prototype.propertyIsEnumerable.call(E,P[L])&&(C[P[L]]=E[P[L]]);return C},p=this&&this.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(l,"__esModule",{value:!0});var m=p(c("./node_modules/prop-types/index.js")),y=m.default.oneOfType([m.default.string,m.default.number]),S={all:m.default.bool,grid:m.default.bool,aural:m.default.bool,braille:m.default.bool,handheld:m.default.bool,print:m.default.bool,projection:m.default.bool,screen:m.default.bool,tty:m.default.bool,tv:m.default.bool,embossed:m.default.bool},v={orientation:m.default.oneOf(["portrait","landscape"]),scan:m.default.oneOf(["progressive","interlace"]),aspectRatio:m.default.string,deviceAspectRatio:m.default.string,height:y,deviceHeight:y,width:y,deviceWidth:y,color:m.default.bool,colorIndex:m.default.bool,monochrome:m.default.bool,resolution:y,type:Object.keys(S)};v.type;var g=f(v,["type"]),x=u({minAspectRatio:m.default.string,maxAspectRatio:m.default.string,minDeviceAspectRatio:m.default.string,maxDeviceAspectRatio:m.default.string,minHeight:y,maxHeight:y,minDeviceHeight:y,maxDeviceHeight:y,minWidth:y,maxWidth:y,minDeviceWidth:y,maxDeviceWidth:y,minColor:m.default.number,maxColor:m.default.number,minColorIndex:m.default.number,maxColorIndex:m.default.number,minMonochrome:m.default.number,maxMonochrome:m.default.number,minResolution:y,maxResolution:y},g),A=u(u({},S),x);l.default={all:A,types:S,matchers:v,features:x}},"./src/toQuery.ts":function(a,l,c){var u=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});var f=u(c("./node_modules/hyphenate-style-name/index.js")),p=u(c("./src/mediaQuery.ts")),m=function(g){return"not ".concat(g)},y=function(g,x){var A=(0,f.default)(g);return typeof x=="number"&&(x="".concat(x,"px")),x===!0?A:x===!1?m(A):"(".concat(A,": ").concat(x,")")},S=function(g){return g.join(" and ")},v=function(g){var x=[];return Object.keys(p.default.all).forEach(function(A){var E=g[A];E!=null&&x.push(y(A,E))}),S(x)};l.default=v},"./src/useMediaQuery.ts":function(a,l,c){var u=this&&this.__importDefault||function(N){return N&&N.__esModule?N:{default:N}};Object.defineProperty(l,"__esModule",{value:!0});var f=c("react"),p=u(c("./node_modules/matchmediaquery/index.js")),m=u(c("./node_modules/hyphenate-style-name/index.js")),y=c("./node_modules/shallow-equal/dist/index.esm.js"),S=u(c("./src/toQuery.ts")),v=u(c("./src/Context.ts")),g=function(N){return N.query||(0,S.default)(N)},x=function(N){if(N){var M=Object.keys(N);return M.reduce(function(D,z){return D[(0,m.default)(z)]=N[z],D},{})}},A=function(){var N=(0,f.useRef)(!1);return(0,f.useEffect)(function(){N.current=!0},[]),N.current},E=function(N){var M=(0,f.useContext)(v.default),D=function(){return x(N)||x(M)},z=(0,f.useState)(D),W=z[0],H=z[1];return(0,f.useEffect)(function(){var $=D();(0,y.shallowEqualObjects)(W,$)||H($)},[N,M]),W},b=function(N){var M=function(){return g(N)},D=(0,f.useState)(M),z=D[0],W=D[1];return(0,f.useEffect)(function(){var H=M();z!==H&&W(H)},[N]),z},C=function(N,M){var D=function(){return(0,p.default)(N,M||{},!!M)},z=(0,f.useState)(D),W=z[0],H=z[1],$=A();return(0,f.useEffect)(function(){if($){var Z=D();return H(Z),function(){Z&&Z.dispose()}}},[N,M]),W},P=function(N){var M=(0,f.useState)(N.matches),D=M[0],z=M[1];return(0,f.useEffect)(function(){var W=function(H){z(H.matches)};return N.addListener(W),z(N.matches),function(){N.removeListener(W)}},[N]),D},L=function(N,M,D){var z=E(M),W=b(N);if(!W)throw new Error("Invalid or missing MediaQuery!");var H=C(W,z),$=P(H),Z=A();return(0,f.useEffect)(function(){Z&&D&&D($)},[$]),(0,f.useEffect)(function(){return function(){H&&H.dispose()}},[]),$};l.default=L},react:a=>{a.exports=t}},i={};function s(a){var l=i[a];if(l!==void 0)return l.exports;var c=i[a]={exports:{}};return r[a].call(c.exports,c,c.exports,s),c.exports}s.d=(a,l)=>{for(var c in l)s.o(l,c)&&!s.o(a,c)&&Object.defineProperty(a,c,{enumerable:!0,get:l[c]})},s.o=(a,l)=>Object.prototype.hasOwnProperty.call(a,l),s.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var o=s("./src/index.ts");return o})())})(w9);var E9=w9.exports,T9={},M9={},Tx={},C9={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0},t=e;n.default=t})(C9);var SQ="Expected a function",NL=NaN,AQ="[object Symbol]",wQ=/^\s+|\s+$/g,EQ=/^[-+]0x[0-9a-f]+$/i,TQ=/^0b[01]+$/i,MQ=/^0o[0-7]+$/i,CQ=parseInt,bQ=typeof Od=="object"&&Od&&Od.Object===Object&&Od,RQ=typeof self=="object"&&self&&self.Object===Object&&self,PQ=bQ||RQ||Function("return this")(),IQ=Object.prototype,LQ=IQ.toString,DQ=Math.max,BQ=Math.min,yA=function(){return PQ.Date.now()};function NQ(n,e,t){var r,i,s,o,a,l,c=0,u=!1,f=!1,p=!0;if(typeof n!="function")throw new TypeError(SQ);e=OL(e)||0,vT(t)&&(u=!!t.leading,f="maxWait"in t,s=f?DQ(OL(t.maxWait)||0,e):s,p="trailing"in t?!!t.trailing:p);function m(C){var P=r,L=i;return r=i=void 0,c=C,o=n.apply(L,P),o}function y(C){return c=C,a=setTimeout(g,e),u?m(C):o}function S(C){var P=C-l,L=C-c,N=e-P;return f?BQ(N,s-L):N}function v(C){var P=C-l,L=C-c;return l===void 0||P>=e||P<0||f&&L>=s}function g(){var C=yA();if(v(C))return x(C);a=setTimeout(g,S(C))}function x(C){return a=void 0,p&&r?m(C):(r=i=void 0,o)}function A(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function E(){return a===void 0?o:x(yA())}function b(){var C=yA(),P=v(C);if(r=arguments,i=this,l=C,P){if(a===void 0)return y(l);if(f)return a=setTimeout(g,e),m(l)}return a===void 0&&(a=setTimeout(g,e)),o}return b.cancel=A,b.flush=E,b}function vT(n){var e=typeof n;return!!n&&(e=="object"||e=="function")}function OQ(n){return!!n&&typeof n=="object"}function FQ(n){return typeof n=="symbol"||OQ(n)&&LQ.call(n)==AQ}function OL(n){if(typeof n=="number")return n;if(FQ(n))return NL;if(vT(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=vT(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=n.replace(wQ,"");var t=TQ.test(n);return t||MQ.test(n)?CQ(n.slice(2),t?2:8):EQ.test(n)?NL:+n}var kQ=NQ,b9={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return t.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(b9);var Mx=b9.exports,We={};Object.defineProperty(We,"__esModule",{value:!0});We.checkSpecKeys=We.checkNavigable=We.changeSlide=We.canUseDOM=We.canGoNext=void 0;We.clamp=R9;We.swipeStart=We.swipeMove=We.swipeEnd=We.slidesOnRight=We.slidesOnLeft=We.slideHandler=We.siblingDirection=We.safePreventDefault=We.lazyStartIndex=We.lazySlidesOnRight=We.lazySlidesOnLeft=We.lazyEndIndex=We.keyHandler=We.initializedState=We.getWidth=We.getTrackLeft=We.getTrackCSS=We.getTrackAnimateCSS=We.getTotalSlides=We.getSwipeDirection=We.getSlideCount=We.getRequiredLazySlides=We.getPreClones=We.getPostClones=We.getOnDemandLazySlides=We.getNavigableIndexes=We.getHeight=We.extractObject=void 0;var UQ=VQ(Y);function VQ(n){return n&&n.__esModule?n:{default:n}}function FL(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function En(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?FL(Object(t),!0).forEach(function(r){zQ(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):FL(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function zQ(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function R9(n,e,t){return Math.max(e,Math.min(n,t))}var Oc=function(e){var t=["onTouchStart","onTouchMove","onWheel"];t.includes(e._reactName)||e.preventDefault()};We.safePreventDefault=Oc;var zb=function(e){for(var t=[],r=Hb(e),i=Gb(e),s=r;s<i;s++)e.lazyLoadedList.indexOf(s)<0&&t.push(s);return t};We.getOnDemandLazySlides=zb;var HQ=function(e){for(var t=[],r=Hb(e),i=Gb(e),s=r;s<i;s++)t.push(s);return t};We.getRequiredLazySlides=HQ;var Hb=function(e){return e.currentSlide-P9(e)};We.lazyStartIndex=Hb;var Gb=function(e){return e.currentSlide+I9(e)};We.lazyEndIndex=Gb;var P9=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0};We.lazySlidesOnLeft=P9;var I9=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow};We.lazySlidesOnRight=I9;var r_=function(e){return e&&e.offsetWidth||0};We.getWidth=r_;var jb=function(e){return e&&e.offsetHeight||0};We.getHeight=jb;var Wb=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r,i,s,o;return r=e.startX-e.curX,i=e.startY-e.curY,s=Math.atan2(i,r),o=Math.round(s*180/Math.PI),o<0&&(o=360-Math.abs(o)),o<=45&&o>=0||o<=360&&o>=315?"left":o>=135&&o<=225?"right":t===!0?o>=35&&o<=135?"up":"down":"vertical"};We.getSwipeDirection=Wb;var Xb=function(e){var t=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(t=!1),t};We.canGoNext=Xb;var GQ=function(e,t){var r={};return t.forEach(function(i){return r[i]=e[i]}),r};We.extractObject=GQ;var jQ=function(e){var t=UQ.default.Children.count(e.children),r=e.listRef,i=Math.ceil(r_(r)),s=e.trackRef&&e.trackRef.node,o=Math.ceil(r_(s)),a;if(e.vertical)a=i;else{var l=e.centerMode&&parseInt(e.centerPadding)*2;typeof e.centerPadding=="string"&&e.centerPadding.slice(-1)==="%"&&(l*=i/100),a=Math.ceil((i-l)/e.slidesToShow)}var c=r&&jb(r.querySelector('[data-index="0"]')),u=c*e.slidesToShow,f=e.currentSlide===void 0?e.initialSlide:e.currentSlide;e.rtl&&e.currentSlide===void 0&&(f=t-1-e.initialSlide);var p=e.lazyLoadedList||[],m=zb(En(En({},e),{},{currentSlide:f,lazyLoadedList:p}));p=p.concat(m);var y={slideCount:t,slideWidth:a,listWidth:i,trackWidth:o,currentSlide:f,slideHeight:c,listHeight:u,lazyLoadedList:p};return e.autoplaying===null&&e.autoplay&&(y.autoplaying="playing"),y};We.initializedState=jQ;var WQ=function(e){var t=e.waitForAnimate,r=e.animating,i=e.fade,s=e.infinite,o=e.index,a=e.slideCount,l=e.lazyLoad,c=e.currentSlide,u=e.centerMode,f=e.slidesToScroll,p=e.slidesToShow,m=e.useCSS,y=e.lazyLoadedList;if(t&&r)return{};var S=o,v,g,x,A={},E={},b=s?o:R9(o,0,a-1);if(i){if(!s&&(o<0||o>=a))return{};o<0?S=o+a:o>=a&&(S=o-a),l&&y.indexOf(S)<0&&(y=y.concat(S)),A={animating:!0,currentSlide:S,lazyLoadedList:y,targetSlide:S},E={animating:!1,targetSlide:S}}else v=S,S<0?(v=S+a,s?a%f!==0&&(v=a-a%f):v=0):!Xb(e)&&S>c?S=v=c:u&&S>=a?(S=s?a:a-1,v=s?0:a-1):S>=a&&(v=S-a,s?a%f!==0&&(v=0):v=a-p),!s&&S+p>=a&&(v=a-p),g=nm(En(En({},e),{},{slideIndex:S})),x=nm(En(En({},e),{},{slideIndex:v})),s||(g===x&&(S=v),g=x),l&&(y=y.concat(zb(En(En({},e),{},{currentSlide:S})))),m?(A={animating:!0,currentSlide:v,trackStyle:Kb(En(En({},e),{},{left:g})),lazyLoadedList:y,targetSlide:b},E={animating:!1,currentSlide:v,trackStyle:tm(En(En({},e),{},{left:x})),swipeLeft:null,targetSlide:b}):A={currentSlide:v,trackStyle:tm(En(En({},e),{},{left:x})),lazyLoadedList:y,targetSlide:b};return{state:A,nextState:E}};We.slideHandler=WQ;var XQ=function(e,t){var r,i,s,o,a,l=e.slidesToScroll,c=e.slidesToShow,u=e.slideCount,f=e.currentSlide,p=e.targetSlide,m=e.lazyLoad,y=e.infinite;if(o=u%l!==0,r=o?0:(u-f)%l,t.message==="previous")s=r===0?l:c-r,a=f-s,m&&!y&&(i=f-s,a=i===-1?u-1:i),y||(a=p-l);else if(t.message==="next")s=r===0?l:r,a=f+s,m&&!y&&(a=(f+l)%u+r),y||(a=p+l);else if(t.message==="dots")a=t.index*t.slidesToScroll;else if(t.message==="children"){if(a=t.index,y){var S=N9(En(En({},e),{},{targetSlide:a}));a>t.currentSlide&&S==="left"?a=a-u:a<t.currentSlide&&S==="right"&&(a=a+u)}}else t.message==="index"&&(a=Number(t.index));return a};We.changeSlide=XQ;var KQ=function(e,t,r){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!t?"":e.keyCode===37?r?"next":"previous":e.keyCode===39?r?"previous":"next":""};We.keyHandler=KQ;var JQ=function(e,t,r){return e.target.tagName==="IMG"&&Oc(e),!t||!r&&e.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};We.swipeStart=JQ;var $Q=function(e,t){var r=t.scrolling,i=t.animating,s=t.vertical,o=t.swipeToSlide,a=t.verticalSwiping,l=t.rtl,c=t.currentSlide,u=t.edgeFriction,f=t.edgeDragged,p=t.onEdge,m=t.swiped,y=t.swiping,S=t.slideCount,v=t.slidesToScroll,g=t.infinite,x=t.touchObject,A=t.swipeEvent,E=t.listHeight,b=t.listWidth;if(!r){if(i)return Oc(e);s&&o&&a&&Oc(e);var C,P={},L=nm(t);x.curX=e.touches?e.touches[0].pageX:e.clientX,x.curY=e.touches?e.touches[0].pageY:e.clientY,x.swipeLength=Math.round(Math.sqrt(Math.pow(x.curX-x.startX,2)));var N=Math.round(Math.sqrt(Math.pow(x.curY-x.startY,2)));if(!a&&!y&&N>10)return{scrolling:!0};a&&(x.swipeLength=N);var M=(l?-1:1)*(x.curX>x.startX?1:-1);a&&(M=x.curY>x.startY?1:-1);var D=Math.ceil(S/v),z=Wb(t.touchObject,a),W=x.swipeLength;return g||(c===0&&(z==="right"||z==="down")||c+1>=D&&(z==="left"||z==="up")||!Xb(t)&&(z==="left"||z==="up"))&&(W=x.swipeLength*u,f===!1&&p&&(p(z),P.edgeDragged=!0)),!m&&A&&(A(z),P.swiped=!0),s?C=L+W*(E/b)*M:l?C=L-W*M:C=L+W*M,a&&(C=L+W*M),P=En(En({},P),{},{touchObject:x,swipeLeft:C,trackStyle:tm(En(En({},t),{},{left:C}))}),Math.abs(x.curX-x.startX)<Math.abs(x.curY-x.startY)*.8||x.swipeLength>10&&(P.swiping=!0,Oc(e)),P}};We.swipeMove=$Q;var YQ=function(e,t){var r=t.dragging,i=t.swipe,s=t.touchObject,o=t.listWidth,a=t.touchThreshold,l=t.verticalSwiping,c=t.listHeight,u=t.swipeToSlide,f=t.scrolling,p=t.onSwipe,m=t.targetSlide,y=t.currentSlide,S=t.infinite;if(!r)return i&&Oc(e),{};var v=l?c/a:o/a,g=Wb(s,l),x={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(f||!s.swipeLength)return x;if(s.swipeLength>v){Oc(e),p&&p(g);var A,E,b=S?y:m;switch(g){case"left":case"up":E=b+xT(t),A=u?_T(t,E):E,x.currentDirection=0;break;case"right":case"down":E=b-xT(t),A=u?_T(t,E):E,x.currentDirection=1;break;default:A=b}x.triggerSlideHandler=A}else{var C=nm(t);x.trackStyle=Kb(En(En({},t),{},{left:C}))}return x};We.swipeEnd=YQ;var L9=function(e){for(var t=e.infinite?e.slideCount*2:e.slideCount,r=e.infinite?e.slidesToShow*-1:0,i=e.infinite?e.slidesToShow*-1:0,s=[];r<t;)s.push(r),r=i+e.slidesToScroll,i+=Math.min(e.slidesToScroll,e.slidesToShow);return s};We.getNavigableIndexes=L9;var _T=function(e,t){var r=L9(e),i=0;if(t>r[r.length-1])t=r[r.length-1];else for(var s in r){if(t<r[s]){t=i;break}i=r[s]}return t};We.checkNavigable=_T;var xT=function(e){var t=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var r,i=e.listRef,s=i.querySelectorAll&&i.querySelectorAll(".slick-slide")||[];if(Array.from(s).every(function(l){if(e.vertical){if(l.offsetTop+jb(l)/2>e.swipeLeft*-1)return r=l,!1}else if(l.offsetLeft-t+r_(l)/2>e.swipeLeft*-1)return r=l,!1;return!0}),!r)return 0;var o=e.rtl===!0?e.slideCount-e.currentSlide:e.currentSlide,a=Math.abs(r.dataset.index-o)||1;return a}else return e.slidesToScroll};We.getSlideCount=xT;var Cx=function(e,t){return t.reduce(function(r,i){return r&&e.hasOwnProperty(i)},!0)?null:console.error("Keys Missing:",e)};We.checkSpecKeys=Cx;var tm=function(e){Cx(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var t,r,i=e.slideCount+2*e.slidesToShow;e.vertical?r=i*e.slideHeight:t=B9(e)*e.slideWidth;var s={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var o=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",l=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";s=En(En({},s),{},{WebkitTransform:o,transform:a,msTransform:l})}else e.vertical?s.top=e.left:s.left=e.left;return e.fade&&(s={opacity:1}),t&&(s.width=t),r&&(s.height=r),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?s.marginTop=e.left+"px":s.marginLeft=e.left+"px"),s};We.getTrackCSS=tm;var Kb=function(e){Cx(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var t=tm(e);return e.useTransform?(t.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,t.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?t.transition="top "+e.speed+"ms "+e.cssEase:t.transition="left "+e.speed+"ms "+e.cssEase,t};We.getTrackAnimateCSS=Kb;var nm=function(e){if(e.unslick)return 0;Cx(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var t=e.slideIndex,r=e.trackRef,i=e.infinite,s=e.centerMode,o=e.slideCount,a=e.slidesToShow,l=e.slidesToScroll,c=e.slideWidth,u=e.listWidth,f=e.variableWidth,p=e.slideHeight,m=e.fade,y=e.vertical,S=0,v,g,x=0;if(m||e.slideCount===1)return 0;var A=0;if(i?(A=-cp(e),o%l!==0&&t+l>o&&(A=-(t>o?a-(t-o):o%l)),s&&(A+=parseInt(a/2))):(o%l!==0&&t+l>o&&(A=a-o%l),s&&(A=parseInt(a/2))),S=A*c,x=A*p,y?v=t*p*-1+x:v=t*c*-1+S,f===!0){var E,b=r&&r.node;if(E=t+cp(e),g=b&&b.childNodes[E],v=g?g.offsetLeft*-1:0,s===!0){E=i?t+cp(e):t,g=b&&b.children[E],v=0;for(var C=0;C<E;C++)v-=b&&b.children[C]&&b.children[C].offsetWidth;v-=parseInt(e.centerPadding),v+=g&&(u-g.offsetWidth)/2}}return v};We.getTrackLeft=nm;var cp=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)};We.getPreClones=cp;var D9=function(e){return e.unslick||!e.infinite?0:e.slideCount};We.getPostClones=D9;var B9=function(e){return e.slideCount===1?1:cp(e)+e.slideCount+D9(e)};We.getTotalSlides=B9;var N9=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+O9(e)?"left":"right":e.targetSlide<e.currentSlide-F9(e)?"right":"left"};We.siblingDirection=N9;var O9=function(e){var t=e.slidesToShow,r=e.centerMode,i=e.rtl,s=e.centerPadding;if(r){var o=(t-1)/2+1;return parseInt(s)>0&&(o+=1),i&&t%2===0&&(o+=1),o}return i?0:t-1};We.slidesOnRight=O9;var F9=function(e){var t=e.slidesToShow,r=e.centerMode,i=e.rtl,s=e.centerPadding;if(r){var o=(t-1)/2+1;return parseInt(s)>0&&(o+=1),!i&&t%2===0&&(o+=1),o}return i?t-1:0};We.slidesOnLeft=F9;var qQ=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};We.canUseDOM=qQ;var bx={};function ST(n){"@babel/helpers - typeof";return ST=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ST(n)}Object.defineProperty(bx,"__esModule",{value:!0});bx.Track=void 0;var ja=k9(Y),vA=k9(Mx),_A=We;function k9(n){return n&&n.__esModule?n:{default:n}}function AT(){return AT=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},AT.apply(this,arguments)}function QQ(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function kL(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function ZQ(n,e,t){return e&&kL(n.prototype,e),t&&kL(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function eZ(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&wT(n,e)}function wT(n,e){return wT=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},wT(n,e)}function tZ(n){var e=rZ();return function(){var r=i_(n),i;if(e){var s=i_(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return nZ(this,i)}}function nZ(n,e){if(e&&(ST(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ET(n)}function ET(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function rZ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function i_(n){return i_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},i_(n)}function UL(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Mi(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?UL(Object(t),!0).forEach(function(r){TT(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):UL(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function TT(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var xA=function(e){var t,r,i,s,o;e.rtl?o=e.slideCount-1-e.index:o=e.index,i=o<0||o>=e.slideCount,e.centerMode?(s=Math.floor(e.slidesToShow/2),r=(o-e.currentSlide)%e.slideCount===0,o>e.currentSlide-s-1&&o<=e.currentSlide+s&&(t=!0)):t=e.currentSlide<=o&&o<e.currentSlide+e.slidesToShow;var a;e.targetSlide<0?a=e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?a=e.targetSlide-e.slideCount:a=e.targetSlide;var l=o===a;return{"slick-slide":!0,"slick-active":t,"slick-center":r,"slick-cloned":i,"slick-current":l}},iZ=function(e){var t={};return(e.variableWidth===void 0||e.variableWidth===!1)&&(t.width=e.slideWidth),e.fade&&(t.position="relative",e.vertical?t.top=-e.index*parseInt(e.slideHeight):t.left=-e.index*parseInt(e.slideWidth),t.opacity=e.currentSlide===e.index?1:0,e.useCSS&&(t.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),t},SA=function(e,t){return e.key||t},sZ=function(e){var t,r=[],i=[],s=[],o=ja.default.Children.count(e.children),a=(0,_A.lazyStartIndex)(e),l=(0,_A.lazyEndIndex)(e);return ja.default.Children.forEach(e.children,function(c,u){var f,p={message:"children",index:u,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(u)>=0?f=c:f=ja.default.createElement("div",null);var m=iZ(Mi(Mi({},e),{},{index:u})),y=f.props.className||"",S=xA(Mi(Mi({},e),{},{index:u}));if(r.push(ja.default.cloneElement(f,{key:"original"+SA(f,u),"data-index":u,className:(0,vA.default)(S,y),tabIndex:"-1","aria-hidden":!S["slick-active"],style:Mi(Mi({outline:"none"},f.props.style||{}),m),onClick:function(x){f.props&&f.props.onClick&&f.props.onClick(x),e.focusOnSelect&&e.focusOnSelect(p)}})),e.infinite&&e.fade===!1){var v=o-u;v<=(0,_A.getPreClones)(e)&&o!==e.slidesToShow&&(t=-v,t>=a&&(f=c),S=xA(Mi(Mi({},e),{},{index:t})),i.push(ja.default.cloneElement(f,{key:"precloned"+SA(f,t),"data-index":t,tabIndex:"-1",className:(0,vA.default)(S,y),"aria-hidden":!S["slick-active"],style:Mi(Mi({},f.props.style||{}),m),onClick:function(x){f.props&&f.props.onClick&&f.props.onClick(x),e.focusOnSelect&&e.focusOnSelect(p)}}))),o!==e.slidesToShow&&(t=o+u,t<l&&(f=c),S=xA(Mi(Mi({},e),{},{index:t})),s.push(ja.default.cloneElement(f,{key:"postcloned"+SA(f,t),"data-index":t,tabIndex:"-1",className:(0,vA.default)(S,y),"aria-hidden":!S["slick-active"],style:Mi(Mi({},f.props.style||{}),m),onClick:function(x){f.props&&f.props.onClick&&f.props.onClick(x),e.focusOnSelect&&e.focusOnSelect(p)}})))}}),e.rtl?i.concat(r,s).reverse():i.concat(r,s)},oZ=function(n){eZ(t,n);var e=tZ(t);function t(){var r;QQ(this,t);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),TT(ET(r),"node",null),TT(ET(r),"handleRef",function(a){r.node=a}),r}return ZQ(t,[{key:"render",value:function(){var i=sZ(this.props),s=this.props,o=s.onMouseEnter,a=s.onMouseOver,l=s.onMouseLeave,c={onMouseEnter:o,onMouseOver:a,onMouseLeave:l};return ja.default.createElement("div",AT({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},c),i)}}]),t}(ja.default.PureComponent);bx.Track=oZ;var Rx={};function MT(n){"@babel/helpers - typeof";return MT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},MT(n)}Object.defineProperty(Rx,"__esModule",{value:!0});Rx.Dots=void 0;var Dy=U9(Y),aZ=U9(Mx),VL=We;function U9(n){return n&&n.__esModule?n:{default:n}}function zL(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function lZ(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?zL(Object(t),!0).forEach(function(r){cZ(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):zL(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function cZ(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function uZ(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function HL(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function hZ(n,e,t){return e&&HL(n.prototype,e),t&&HL(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function fZ(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&CT(n,e)}function CT(n,e){return CT=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},CT(n,e)}function dZ(n){var e=gZ();return function(){var r=s_(n),i;if(e){var s=s_(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return pZ(this,i)}}function pZ(n,e){if(e&&(MT(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mZ(n)}function mZ(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function gZ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function s_(n){return s_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},s_(n)}var yZ=function(e){var t;return e.infinite?t=Math.ceil(e.slideCount/e.slidesToScroll):t=Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,t},vZ=function(n){fZ(t,n);var e=dZ(t);function t(){return uZ(this,t),e.apply(this,arguments)}return hZ(t,[{key:"clickHandler",value:function(i,s){s.preventDefault(),this.props.clickHandler(i)}},{key:"render",value:function(){for(var i=this.props,s=i.onMouseEnter,o=i.onMouseOver,a=i.onMouseLeave,l=i.infinite,c=i.slidesToScroll,u=i.slidesToShow,f=i.slideCount,p=i.currentSlide,m=yZ({slideCount:f,slidesToScroll:c,slidesToShow:u,infinite:l}),y={onMouseEnter:s,onMouseOver:o,onMouseLeave:a},S=[],v=0;v<m;v++){var g=(v+1)*c-1,x=l?g:(0,VL.clamp)(g,0,f-1),A=x-(c-1),E=l?A:(0,VL.clamp)(A,0,f-1),b=(0,aZ.default)({"slick-active":l?p>=E&&p<=x:p===E}),C={message:"dots",index:v,slidesToScroll:c,currentSlide:p},P=this.clickHandler.bind(this,C);S=S.concat(Dy.default.createElement("li",{key:v,className:b},Dy.default.cloneElement(this.props.customPaging(v),{onClick:P})))}return Dy.default.cloneElement(this.props.appendDots(S),lZ({className:this.props.dotsClass},y))}}]),t}(Dy.default.PureComponent);Rx.Dots=vZ;var cf={};function bT(n){"@babel/helpers - typeof";return bT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bT(n)}Object.defineProperty(cf,"__esModule",{value:!0});cf.PrevArrow=cf.NextArrow=void 0;var Gh=z9(Y),V9=z9(Mx),_Z=We;function z9(n){return n&&n.__esModule?n:{default:n}}function o_(){return o_=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},o_.apply(this,arguments)}function GL(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function a_(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?GL(Object(t),!0).forEach(function(r){xZ(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):GL(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function xZ(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function H9(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function jL(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function G9(n,e,t){return e&&jL(n.prototype,e),t&&jL(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function j9(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&RT(n,e)}function RT(n,e){return RT=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},RT(n,e)}function W9(n){var e=wZ();return function(){var r=l_(n),i;if(e){var s=l_(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return SZ(this,i)}}function SZ(n,e){if(e&&(bT(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AZ(n)}function AZ(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function wZ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function l_(n){return l_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},l_(n)}var EZ=function(n){j9(t,n);var e=W9(t);function t(){return H9(this,t),e.apply(this,arguments)}return G9(t,[{key:"clickHandler",value:function(i,s){s&&s.preventDefault(),this.props.clickHandler(i,s)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-prev":!0},s=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(i["slick-disabled"]=!0,s=null);var o={key:"0","data-role":"none",className:(0,V9.default)(i),style:{display:"block"},onClick:s},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.prevArrow?l=Gh.default.cloneElement(this.props.prevArrow,a_(a_({},o),a)):l=Gh.default.createElement("button",o_({key:"0",type:"button"},o)," ","Previous"),l}}]),t}(Gh.default.PureComponent);cf.PrevArrow=EZ;var TZ=function(n){j9(t,n);var e=W9(t);function t(){return H9(this,t),e.apply(this,arguments)}return G9(t,[{key:"clickHandler",value:function(i,s){s&&s.preventDefault(),this.props.clickHandler(i,s)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-next":!0},s=this.clickHandler.bind(this,{message:"next"});(0,_Z.canGoNext)(this.props)||(i["slick-disabled"]=!0,s=null);var o={key:"1","data-role":"none",className:(0,V9.default)(i),style:{display:"block"},onClick:s},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.nextArrow?l=Gh.default.cloneElement(this.props.nextArrow,a_(a_({},o),a)):l=Gh.default.createElement("button",o_({key:"1",type:"button"},o)," ","Next"),l}}]),t}(Gh.default.PureComponent);cf.NextArrow=TZ;var X9=function(){if(typeof Map<"u")return Map;function n(e,t){var r=-1;return e.some(function(i,s){return i[0]===t?(r=s,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var r=n(this.__entries__,t),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(t,r){var i=n(this.__entries__,t);~i?this.__entries__[i][1]=r:this.__entries__.push([t,r])},e.prototype.delete=function(t){var r=this.__entries__,i=n(r,t);~i&&r.splice(i,1)},e.prototype.has=function(t){return!!~n(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,r){r===void 0&&(r=null);for(var i=0,s=this.__entries__;i<s.length;i++){var o=s[i];t.call(r,o[1],o[0])}},e}()}(),PT=typeof window<"u"&&typeof document<"u"&&window.document===document,c_=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),MZ=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(c_):function(n){return setTimeout(function(){return n(Date.now())},1e3/60)}}(),CZ=2;function bZ(n,e){var t=!1,r=!1,i=0;function s(){t&&(t=!1,n()),r&&a()}function o(){MZ(s)}function a(){var l=Date.now();if(t){if(l-i<CZ)return;r=!0}else t=!0,r=!1,setTimeout(o,e);i=l}return a}var RZ=20,PZ=["top","right","bottom","left","width","height","size","weight"],IZ=typeof MutationObserver<"u",LZ=function(){function n(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=bZ(this.refresh.bind(this),RZ)}return n.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},n.prototype.removeObserver=function(e){var t=this.observers_,r=t.indexOf(e);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},n.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},n.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},n.prototype.connect_=function(){!PT||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),IZ?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},n.prototype.disconnect_=function(){!PT||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},n.prototype.onTransitionEnd_=function(e){var t=e.propertyName,r=t===void 0?"":t,i=PZ.some(function(s){return!!~r.indexOf(s)});i&&this.refresh()},n.getInstance=function(){return this.instance_||(this.instance_=new n),this.instance_},n.instance_=null,n}(),K9=function(n,e){for(var t=0,r=Object.keys(e);t<r.length;t++){var i=r[t];Object.defineProperty(n,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return n},uf=function(n){var e=n&&n.ownerDocument&&n.ownerDocument.defaultView;return e||c_},J9=Px(0,0,0,0);function u_(n){return parseFloat(n)||0}function WL(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(r,i){var s=n["border-"+i+"-width"];return r+u_(s)},0)}function DZ(n){for(var e=["top","right","bottom","left"],t={},r=0,i=e;r<i.length;r++){var s=i[r],o=n["padding-"+s];t[s]=u_(o)}return t}function BZ(n){var e=n.getBBox();return Px(0,0,e.width,e.height)}function NZ(n){var e=n.clientWidth,t=n.clientHeight;if(!e&&!t)return J9;var r=uf(n).getComputedStyle(n),i=DZ(r),s=i.left+i.right,o=i.top+i.bottom,a=u_(r.width),l=u_(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+s)!==e&&(a-=WL(r,"left","right")+s),Math.round(l+o)!==t&&(l-=WL(r,"top","bottom")+o)),!FZ(n)){var c=Math.round(a+s)-e,u=Math.round(l+o)-t;Math.abs(c)!==1&&(a-=c),Math.abs(u)!==1&&(l-=u)}return Px(i.left,i.top,a,l)}var OZ=function(){return typeof SVGGraphicsElement<"u"?function(n){return n instanceof uf(n).SVGGraphicsElement}:function(n){return n instanceof uf(n).SVGElement&&typeof n.getBBox=="function"}}();function FZ(n){return n===uf(n).document.documentElement}function kZ(n){return PT?OZ(n)?BZ(n):NZ(n):J9}function UZ(n){var e=n.x,t=n.y,r=n.width,i=n.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(s.prototype);return K9(o,{x:e,y:t,width:r,height:i,top:t,right:e+r,bottom:i+t,left:e}),o}function Px(n,e,t,r){return{x:n,y:e,width:t,height:r}}var VZ=function(){function n(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Px(0,0,0,0),this.target=e}return n.prototype.isActive=function(){var e=kZ(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},n.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},n}(),zZ=function(){function n(e,t){var r=UZ(t);K9(this,{target:e,contentRect:r})}return n}(),HZ=function(){function n(e,t,r){if(this.activeObservations_=[],this.observations_=new X9,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return n.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof uf(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new VZ(e)),this.controller_.addObserver(this),this.controller_.refresh())}},n.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof uf(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},n.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},n.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(r){return new zZ(r.target,r.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},n.prototype.clearActive=function(){this.activeObservations_.splice(0)},n.prototype.hasActive=function(){return this.activeObservations_.length>0},n}(),$9=typeof WeakMap<"u"?new WeakMap:new X9,Y9=function(){function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=LZ.getInstance(),r=new HZ(e,t,this);$9.set(this,r)}return n}();["observe","unobserve","disconnect"].forEach(function(n){Y9.prototype[n]=function(){var e;return(e=$9.get(this))[n].apply(e,arguments)}});var GZ=function(){return typeof c_.ResizeObserver<"u"?c_.ResizeObserver:Y9}();const jZ=Object.freeze(Object.defineProperty({__proto__:null,default:GZ},Symbol.toStringTag,{value:"Module"})),WZ=K8(jZ);Object.defineProperty(Tx,"__esModule",{value:!0});Tx.InnerSlider=void 0;var ui=zm(Y),XZ=zm(C9),KZ=zm(kQ),JZ=zm(Mx),bn=We,$Z=bx,YZ=Rx,XL=cf,qZ=zm(WZ);function zm(n){return n&&n.__esModule?n:{default:n}}function h_(n){"@babel/helpers - typeof";return h_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h_(n)}function f_(){return f_=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},f_.apply(this,arguments)}function QZ(n,e){if(n==null)return{};var t=ZZ(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function ZZ(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function KL(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function dt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?KL(Object(t),!0).forEach(function(r){Vt(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):KL(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function eee(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function JL(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function tee(n,e,t){return e&&JL(n.prototype,e),t&&JL(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function nee(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&IT(n,e)}function IT(n,e){return IT=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},IT(n,e)}function ree(n){var e=see();return function(){var r=d_(n),i;if(e){var s=d_(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return iee(this,i)}}function iee(n,e){if(e&&(h_(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ut(n)}function Ut(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function see(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function d_(n){return d_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d_(n)}function Vt(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var oee=function(n){nee(t,n);var e=ree(t);function t(r){var i;eee(this,t),i=e.call(this,r),Vt(Ut(i),"listRefHandler",function(o){return i.list=o}),Vt(Ut(i),"trackRefHandler",function(o){return i.track=o}),Vt(Ut(i),"adaptHeight",function(){if(i.props.adaptiveHeight&&i.list){var o=i.list.querySelector('[data-index="'.concat(i.state.currentSlide,'"]'));i.list.style.height=(0,bn.getHeight)(o)+"px"}}),Vt(Ut(i),"componentDidMount",function(){if(i.props.onInit&&i.props.onInit(),i.props.lazyLoad){var o=(0,bn.getOnDemandLazySlides)(dt(dt({},i.props),i.state));o.length>0&&(i.setState(function(l){return{lazyLoadedList:l.lazyLoadedList.concat(o)}}),i.props.onLazyLoad&&i.props.onLazyLoad(o))}var a=dt({listRef:i.list,trackRef:i.track},i.props);i.updateState(a,!0,function(){i.adaptHeight(),i.props.autoplay&&i.autoPlay("update")}),i.props.lazyLoad==="progressive"&&(i.lazyLoadTimer=setInterval(i.progressiveLazyLoad,1e3)),i.ro=new qZ.default(function(){i.state.animating?(i.onWindowResized(!1),i.callbackTimers.push(setTimeout(function(){return i.onWindowResized()},i.props.speed))):i.onWindowResized()}),i.ro.observe(i.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(l){l.onfocus=i.props.pauseOnFocus?i.onSlideFocus:null,l.onblur=i.props.pauseOnFocus?i.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",i.onWindowResized):window.attachEvent("onresize",i.onWindowResized)}),Vt(Ut(i),"componentWillUnmount",function(){i.animationEndCallback&&clearTimeout(i.animationEndCallback),i.lazyLoadTimer&&clearInterval(i.lazyLoadTimer),i.callbackTimers.length&&(i.callbackTimers.forEach(function(o){return clearTimeout(o)}),i.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",i.onWindowResized):window.detachEvent("onresize",i.onWindowResized),i.autoplayTimer&&clearInterval(i.autoplayTimer),i.ro.disconnect()}),Vt(Ut(i),"componentDidUpdate",function(o){if(i.checkImagesLoad(),i.props.onReInit&&i.props.onReInit(),i.props.lazyLoad){var a=(0,bn.getOnDemandLazySlides)(dt(dt({},i.props),i.state));a.length>0&&(i.setState(function(u){return{lazyLoadedList:u.lazyLoadedList.concat(a)}}),i.props.onLazyLoad&&i.props.onLazyLoad(a))}i.adaptHeight();var l=dt(dt({listRef:i.list,trackRef:i.track},i.props),i.state),c=i.didPropsChange(o);c&&i.updateState(l,c,function(){i.state.currentSlide>=ui.default.Children.count(i.props.children)&&i.changeSlide({message:"index",index:ui.default.Children.count(i.props.children)-i.props.slidesToShow,currentSlide:i.state.currentSlide}),i.props.autoplay?i.autoPlay("update"):i.pause("paused")})}),Vt(Ut(i),"onWindowResized",function(o){i.debouncedResize&&i.debouncedResize.cancel(),i.debouncedResize=(0,KZ.default)(function(){return i.resizeWindow(o)},50),i.debouncedResize()}),Vt(Ut(i),"resizeWindow",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,a=!!(i.track&&i.track.node);if(a){var l=dt(dt({listRef:i.list,trackRef:i.track},i.props),i.state);i.updateState(l,o,function(){i.props.autoplay?i.autoPlay("update"):i.pause("paused")}),i.setState({animating:!1}),clearTimeout(i.animationEndCallback),delete i.animationEndCallback}}),Vt(Ut(i),"updateState",function(o,a,l){var c=(0,bn.initializedState)(o);o=dt(dt(dt({},o),c),{},{slideIndex:c.currentSlide});var u=(0,bn.getTrackLeft)(o);o=dt(dt({},o),{},{left:u});var f=(0,bn.getTrackCSS)(o);(a||ui.default.Children.count(i.props.children)!==ui.default.Children.count(o.children))&&(c.trackStyle=f),i.setState(c,l)}),Vt(Ut(i),"ssrInit",function(){if(i.props.variableWidth){var o=0,a=0,l=[],c=(0,bn.getPreClones)(dt(dt(dt({},i.props),i.state),{},{slideCount:i.props.children.length})),u=(0,bn.getPostClones)(dt(dt(dt({},i.props),i.state),{},{slideCount:i.props.children.length}));i.props.children.forEach(function(P){l.push(P.props.style.width),o+=P.props.style.width});for(var f=0;f<c;f++)a+=l[l.length-1-f],o+=l[l.length-1-f];for(var p=0;p<u;p++)o+=l[p];for(var m=0;m<i.state.currentSlide;m++)a+=l[m];var y={width:o+"px",left:-a+"px"};if(i.props.centerMode){var S="".concat(l[i.state.currentSlide],"px");y.left="calc(".concat(y.left," + (100% - ").concat(S,") / 2 ) ")}return{trackStyle:y}}var v=ui.default.Children.count(i.props.children),g=dt(dt(dt({},i.props),i.state),{},{slideCount:v}),x=(0,bn.getPreClones)(g)+(0,bn.getPostClones)(g)+v,A=100/i.props.slidesToShow*x,E=100/x,b=-E*((0,bn.getPreClones)(g)+i.state.currentSlide)*A/100;i.props.centerMode&&(b+=(100-E*A/100)/2);var C={width:A+"%",left:b+"%"};return{slideWidth:E+"%",trackStyle:C}}),Vt(Ut(i),"checkImagesLoad",function(){var o=i.list&&i.list.querySelectorAll&&i.list.querySelectorAll(".slick-slide img")||[],a=o.length,l=0;Array.prototype.forEach.call(o,function(c){var u=function(){return++l&&l>=a&&i.onWindowResized()};if(!c.onclick)c.onclick=function(){return c.parentNode.focus()};else{var f=c.onclick;c.onclick=function(){f(),c.parentNode.focus()}}c.onload||(i.props.lazyLoad?c.onload=function(){i.adaptHeight(),i.callbackTimers.push(setTimeout(i.onWindowResized,i.props.speed))}:(c.onload=u,c.onerror=function(){u(),i.props.onLazyLoadError&&i.props.onLazyLoadError()}))})}),Vt(Ut(i),"progressiveLazyLoad",function(){for(var o=[],a=dt(dt({},i.props),i.state),l=i.state.currentSlide;l<i.state.slideCount+(0,bn.getPostClones)(a);l++)if(i.state.lazyLoadedList.indexOf(l)<0){o.push(l);break}for(var c=i.state.currentSlide-1;c>=-(0,bn.getPreClones)(a);c--)if(i.state.lazyLoadedList.indexOf(c)<0){o.push(c);break}o.length>0?(i.setState(function(u){return{lazyLoadedList:u.lazyLoadedList.concat(o)}}),i.props.onLazyLoad&&i.props.onLazyLoad(o)):i.lazyLoadTimer&&(clearInterval(i.lazyLoadTimer),delete i.lazyLoadTimer)}),Vt(Ut(i),"slideHandler",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=i.props,c=l.asNavFor,u=l.beforeChange,f=l.onLazyLoad,p=l.speed,m=l.afterChange,y=i.state.currentSlide,S=(0,bn.slideHandler)(dt(dt(dt({index:o},i.props),i.state),{},{trackRef:i.track,useCSS:i.props.useCSS&&!a})),v=S.state,g=S.nextState;if(v){u&&u(y,v.currentSlide);var x=v.lazyLoadedList.filter(function(A){return i.state.lazyLoadedList.indexOf(A)<0});f&&x.length>0&&f(x),!i.props.waitForAnimate&&i.animationEndCallback&&(clearTimeout(i.animationEndCallback),m&&m(y),delete i.animationEndCallback),i.setState(v,function(){c&&i.asNavForIndex!==o&&(i.asNavForIndex=o,c.innerSlider.slideHandler(o)),g&&(i.animationEndCallback=setTimeout(function(){var A=g.animating,E=QZ(g,["animating"]);i.setState(E,function(){i.callbackTimers.push(setTimeout(function(){return i.setState({animating:A})},10)),m&&m(v.currentSlide),delete i.animationEndCallback})},p))})}}),Vt(Ut(i),"changeSlide",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=dt(dt({},i.props),i.state),c=(0,bn.changeSlide)(l,o);if(!(c!==0&&!c)&&(a===!0?i.slideHandler(c,a):i.slideHandler(c),i.props.autoplay&&i.autoPlay("update"),i.props.focusOnSelect)){var u=i.list.querySelectorAll(".slick-current");u[0]&&u[0].focus()}}),Vt(Ut(i),"clickHandler",function(o){i.clickable===!1&&(o.stopPropagation(),o.preventDefault()),i.clickable=!0}),Vt(Ut(i),"keyHandler",function(o){var a=(0,bn.keyHandler)(o,i.props.accessibility,i.props.rtl);a!==""&&i.changeSlide({message:a})}),Vt(Ut(i),"selectHandler",function(o){i.changeSlide(o)}),Vt(Ut(i),"disableBodyScroll",function(){var o=function(l){l=l||window.event,l.preventDefault&&l.preventDefault(),l.returnValue=!1};window.ontouchmove=o}),Vt(Ut(i),"enableBodyScroll",function(){window.ontouchmove=null}),Vt(Ut(i),"swipeStart",function(o){i.props.verticalSwiping&&i.disableBodyScroll();var a=(0,bn.swipeStart)(o,i.props.swipe,i.props.draggable);a!==""&&i.setState(a)}),Vt(Ut(i),"swipeMove",function(o){var a=(0,bn.swipeMove)(o,dt(dt(dt({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));a&&(a.swiping&&(i.clickable=!1),i.setState(a))}),Vt(Ut(i),"swipeEnd",function(o){var a=(0,bn.swipeEnd)(o,dt(dt(dt({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));if(a){var l=a.triggerSlideHandler;delete a.triggerSlideHandler,i.setState(a),l!==void 0&&(i.slideHandler(l),i.props.verticalSwiping&&i.enableBodyScroll())}}),Vt(Ut(i),"touchEnd",function(o){i.swipeEnd(o),i.clickable=!0}),Vt(Ut(i),"slickPrev",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"previous"})},0))}),Vt(Ut(i),"slickNext",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"next"})},0))}),Vt(Ut(i),"slickGoTo",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(o=Number(o),isNaN(o))return"";i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"index",index:o,currentSlide:i.state.currentSlide},a)},0))}),Vt(Ut(i),"play",function(){var o;if(i.props.rtl)o=i.state.currentSlide-i.props.slidesToScroll;else if((0,bn.canGoNext)(dt(dt({},i.props),i.state)))o=i.state.currentSlide+i.props.slidesToScroll;else return!1;i.slideHandler(o)}),Vt(Ut(i),"autoPlay",function(o){i.autoplayTimer&&clearInterval(i.autoplayTimer);var a=i.state.autoplaying;if(o==="update"){if(a==="hovered"||a==="focused"||a==="paused")return}else if(o==="leave"){if(a==="paused"||a==="focused")return}else if(o==="blur"&&(a==="paused"||a==="hovered"))return;i.autoplayTimer=setInterval(i.play,i.props.autoplaySpeed+50),i.setState({autoplaying:"playing"})}),Vt(Ut(i),"pause",function(o){i.autoplayTimer&&(clearInterval(i.autoplayTimer),i.autoplayTimer=null);var a=i.state.autoplaying;o==="paused"?i.setState({autoplaying:"paused"}):o==="focused"?(a==="hovered"||a==="playing")&&i.setState({autoplaying:"focused"}):a==="playing"&&i.setState({autoplaying:"hovered"})}),Vt(Ut(i),"onDotsOver",function(){return i.props.autoplay&&i.pause("hovered")}),Vt(Ut(i),"onDotsLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),Vt(Ut(i),"onTrackOver",function(){return i.props.autoplay&&i.pause("hovered")}),Vt(Ut(i),"onTrackLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),Vt(Ut(i),"onSlideFocus",function(){return i.props.autoplay&&i.pause("focused")}),Vt(Ut(i),"onSlideBlur",function(){return i.props.autoplay&&i.state.autoplaying==="focused"&&i.autoPlay("blur")}),Vt(Ut(i),"render",function(){var o=(0,JZ.default)("slick-slider",i.props.className,{"slick-vertical":i.props.vertical,"slick-initialized":!0}),a=dt(dt({},i.props),i.state),l=(0,bn.extractObject)(a,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),c=i.props.pauseOnHover;l=dt(dt({},l),{},{onMouseEnter:c?i.onTrackOver:null,onMouseLeave:c?i.onTrackLeave:null,onMouseOver:c?i.onTrackOver:null,focusOnSelect:i.props.focusOnSelect&&i.clickable?i.selectHandler:null});var u;if(i.props.dots===!0&&i.state.slideCount>=i.props.slidesToShow){var f=(0,bn.extractObject)(a,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),p=i.props.pauseOnDotsHover;f=dt(dt({},f),{},{clickHandler:i.changeSlide,onMouseEnter:p?i.onDotsLeave:null,onMouseOver:p?i.onDotsOver:null,onMouseLeave:p?i.onDotsLeave:null}),u=ui.default.createElement(YZ.Dots,f)}var m,y,S=(0,bn.extractObject)(a,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);S.clickHandler=i.changeSlide,i.props.arrows&&(m=ui.default.createElement(XL.PrevArrow,S),y=ui.default.createElement(XL.NextArrow,S));var v=null;i.props.vertical&&(v={height:i.state.listHeight});var g=null;i.props.vertical===!1?i.props.centerMode===!0&&(g={padding:"0px "+i.props.centerPadding}):i.props.centerMode===!0&&(g={padding:i.props.centerPadding+" 0px"});var x=dt(dt({},v),g),A=i.props.touchMove,E={className:"slick-list",style:x,onClick:i.clickHandler,onMouseDown:A?i.swipeStart:null,onMouseMove:i.state.dragging&&A?i.swipeMove:null,onMouseUp:A?i.swipeEnd:null,onMouseLeave:i.state.dragging&&A?i.swipeEnd:null,onTouchStart:A?i.swipeStart:null,onTouchMove:i.state.dragging&&A?i.swipeMove:null,onTouchEnd:A?i.touchEnd:null,onTouchCancel:i.state.dragging&&A?i.swipeEnd:null,onKeyDown:i.props.accessibility?i.keyHandler:null},b={className:o,dir:"ltr",style:i.props.style};return i.props.unslick&&(E={className:"slick-list"},b={className:o}),ui.default.createElement("div",b,i.props.unslick?"":m,ui.default.createElement("div",f_({ref:i.listRefHandler},E),ui.default.createElement($Z.Track,f_({ref:i.trackRefHandler},l),i.props.children)),i.props.unslick?"":y,i.props.unslick?"":u)}),i.list=null,i.track=null,i.state=dt(dt({},XZ.default),{},{currentSlide:i.props.initialSlide,slideCount:ui.default.Children.count(i.props.children)}),i.callbackTimers=[],i.clickable=!0,i.debouncedResize=null;var s=i.ssrInit();return i.state=dt(dt({},i.state),s),i}return tee(t,[{key:"didPropsChange",value:function(i){for(var s=!1,o=0,a=Object.keys(this.props);o<a.length;o++){var l=a[o];if(!i.hasOwnProperty(l)){s=!0;break}if(!(h_(i[l])==="object"||typeof i[l]=="function")&&i[l]!==this.props[l]){s=!0;break}}return s||ui.default.Children.count(this.props.children)!==ui.default.Children.count(i.children)}}]),t}(ui.default.Component);Tx.InnerSlider=oee;var aee=function(n){return n.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()},lee=aee,cee=lee,uee=function(n){var e=/[height|width]$/;return e.test(n)},$L=function(n){var e="",t=Object.keys(n);return t.forEach(function(r,i){var s=n[r];r=cee(r),uee(r)&&typeof s=="number"&&(s=s+"px"),s===!0?e+=r:s===!1?e+="not "+r:e+="("+r+": "+s+")",i<t.length-1&&(e+=" and ")}),e},hee=function(n){var e="";return typeof n=="string"?n:n instanceof Array?(n.forEach(function(t,r){e+=$L(t),r<n.length-1&&(e+=", ")}),e):$L(n)},fee=hee,q9={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=t(Y);function t(s){return s&&s.__esModule?s:{default:s}}var r={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(o){return e.default.createElement("ul",{style:{display:"block"}},o)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(o){return e.default.createElement("button",null,o+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0},i=r;n.default=i})(q9);var AA,YL;function dee(){if(YL)return AA;YL=1;function n(e){this.options=e,!e.deferSetup&&this.setup()}return n.prototype={constructor:n,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},AA=n,AA}var wA,qL;function Q9(){if(qL)return wA;qL=1;function n(r,i){var s=0,o=r.length,a;for(s;s<o&&(a=i(r[s],s),a!==!1);s++);}function e(r){return Object.prototype.toString.apply(r)==="[object Array]"}function t(r){return typeof r=="function"}return wA={isFunction:t,isArray:e,each:n},wA}var EA,QL;function pee(){if(QL)return EA;QL=1;var n=dee(),e=Q9().each;function t(r,i){this.query=r,this.isUnconditional=i,this.handlers=[],this.mql=window.matchMedia(r);var s=this;this.listener=function(o){s.mql=o.currentTarget||o,s.assess()},this.mql.addListener(this.listener)}return t.prototype={constuctor:t,addHandler:function(r){var i=new n(r);this.handlers.push(i),this.matches()&&i.on()},removeHandler:function(r){var i=this.handlers;e(i,function(s,o){if(s.equals(r))return s.destroy(),!i.splice(o,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){e(this.handlers,function(r){r.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var r=this.matches()?"on":"off";e(this.handlers,function(i){i[r]()})}},EA=t,EA}var TA,ZL;function mee(){if(ZL)return TA;ZL=1;var n=pee(),e=Q9(),t=e.each,r=e.isFunction,i=e.isArray;function s(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return s.prototype={constructor:s,register:function(o,a,l){var c=this.queries,u=l&&this.browserIsIncapable;return c[o]||(c[o]=new n(o,u)),r(a)&&(a={match:a}),i(a)||(a=[a]),t(a,function(f){r(f)&&(f={match:f}),c[o].addHandler(f)}),this},unregister:function(o,a){var l=this.queries[o];return l&&(a?l.removeHandler(a):(l.clear(),delete this.queries[o])),this}},TA=s,TA}var MA,eD;function gee(){if(eD)return MA;eD=1;var n=mee();return MA=new n,MA}(function(n){function e(L){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},e(L)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=a(Y),r=Tx,i=a(fee),s=a(q9),o=We;function a(L){return L&&L.__esModule?L:{default:L}}function l(){return l=Object.assign||function(L){for(var N=1;N<arguments.length;N++){var M=arguments[N];for(var D in M)Object.prototype.hasOwnProperty.call(M,D)&&(L[D]=M[D])}return L},l.apply(this,arguments)}function c(L,N){var M=Object.keys(L);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(L);N&&(D=D.filter(function(z){return Object.getOwnPropertyDescriptor(L,z).enumerable})),M.push.apply(M,D)}return M}function u(L){for(var N=1;N<arguments.length;N++){var M=arguments[N]!=null?arguments[N]:{};N%2?c(Object(M),!0).forEach(function(D){b(L,D,M[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(M)):c(Object(M)).forEach(function(D){Object.defineProperty(L,D,Object.getOwnPropertyDescriptor(M,D))})}return L}function f(L,N){if(!(L instanceof N))throw new TypeError("Cannot call a class as a function")}function p(L,N){for(var M=0;M<N.length;M++){var D=N[M];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(L,D.key,D)}}function m(L,N,M){return N&&p(L.prototype,N),M&&p(L,M),Object.defineProperty(L,"prototype",{writable:!1}),L}function y(L,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function");L.prototype=Object.create(N&&N.prototype,{constructor:{value:L,writable:!0,configurable:!0}}),Object.defineProperty(L,"prototype",{writable:!1}),N&&S(L,N)}function S(L,N){return S=Object.setPrototypeOf||function(D,z){return D.__proto__=z,D},S(L,N)}function v(L){var N=A();return function(){var D=E(L),z;if(N){var W=E(this).constructor;z=Reflect.construct(D,arguments,W)}else z=D.apply(this,arguments);return g(this,z)}}function g(L,N){if(N&&(e(N)==="object"||typeof N=="function"))return N;if(N!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x(L)}function x(L){if(L===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L}function A(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function E(L){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(M){return M.__proto__||Object.getPrototypeOf(M)},E(L)}function b(L,N,M){return N in L?Object.defineProperty(L,N,{value:M,enumerable:!0,configurable:!0,writable:!0}):L[N]=M,L}var C=(0,o.canUseDOM)()&&gee(),P=function(L){y(M,L);var N=v(M);function M(D){var z;return f(this,M),z=N.call(this,D),b(x(z),"innerSliderRefHandler",function(W){return z.innerSlider=W}),b(x(z),"slickPrev",function(){return z.innerSlider.slickPrev()}),b(x(z),"slickNext",function(){return z.innerSlider.slickNext()}),b(x(z),"slickGoTo",function(W){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return z.innerSlider.slickGoTo(W,H)}),b(x(z),"slickPause",function(){return z.innerSlider.pause("paused")}),b(x(z),"slickPlay",function(){return z.innerSlider.autoPlay("play")}),z.state={breakpoint:null},z._responsiveMediaHandlers=[],z}return m(M,[{key:"media",value:function(z,W){C.register(z,W),this._responsiveMediaHandlers.push({query:z,handler:W})}},{key:"componentDidMount",value:function(){var z=this;if(this.props.responsive){var W=this.props.responsive.map(function($){return $.breakpoint});W.sort(function($,Z){return $-Z}),W.forEach(function($,Z){var ae;Z===0?ae=(0,i.default)({minWidth:0,maxWidth:$}):ae=(0,i.default)({minWidth:W[Z-1]+1,maxWidth:$}),(0,o.canUseDOM)()&&z.media(ae,function(){z.setState({breakpoint:$})})});var H=(0,i.default)({minWidth:W.slice(-1)[0]});(0,o.canUseDOM)()&&this.media(H,function(){z.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(z){C.unregister(z.query,z.handler)})}},{key:"render",value:function(){var z=this,W,H;this.state.breakpoint?(H=this.props.responsive.filter(function(ne){return ne.breakpoint===z.state.breakpoint}),W=H[0].settings==="unslick"?"unslick":u(u(u({},s.default),this.props),H[0].settings)):W=u(u({},s.default),this.props),W.centerMode&&(W.slidesToScroll>1,W.slidesToScroll=1),W.fade&&(W.slidesToShow>1,W.slidesToScroll>1,W.slidesToShow=1,W.slidesToScroll=1);var $=t.default.Children.toArray(this.props.children);$=$.filter(function(ne){return typeof ne=="string"?!!ne.trim():!!ne}),W.variableWidth&&(W.rows>1||W.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),W.variableWidth=!1);for(var Z=[],ae=null,O=0;O<$.length;O+=W.rows*W.slidesPerRow){for(var j=[],K=O;K<O+W.rows*W.slidesPerRow;K+=W.slidesPerRow){for(var q=[],te=K;te<K+W.slidesPerRow&&(W.variableWidth&&$[te].props.style&&(ae=$[te].props.style.width),!(te>=$.length));te+=1)q.push(t.default.cloneElement($[te],{key:100*O+10*K+te,tabIndex:-1,style:{width:"".concat(100/W.slidesPerRow,"%"),display:"inline-block"}}));j.push(t.default.createElement("div",{key:10*O+K},q))}W.variableWidth?Z.push(t.default.createElement("div",{key:O,style:{width:ae}},j)):Z.push(t.default.createElement("div",{key:O},j))}if(W==="unslick"){var Me="regular slider "+(this.props.className||"");return t.default.createElement("div",{className:Me},$)}else Z.length<=W.slidesToShow&&(W.unslick=!0);return t.default.createElement(r.InnerSlider,l({style:this.props.style,ref:this.innerSliderRefHandler},W),Z)}}]),M}(t.default.Component);n.default=P})(M9);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=t(M9);function t(i){return i&&i.__esModule?i:{default:i}}var r=e.default;n.default=r})(T9);const yee=P_(T9),tD=[{title:"Sale of the Month",subTitle:"Best Deals",offer:40,bgUrl:"https://firebasestorage.googleapis.com/v0/b/ecovibe-c6720.appspot.com/o/AppImages%2FRectangle%2054.svg?alt=media&token=c38cea1f-61d2-4541-b566-b54bed5f4c9d"},{title:"100% Fresh Fruit",subTitle:"Summer Sale",offer:25,bgUrl:"https://firebasestorage.googleapis.com/v0/b/ecovibe-c6720.appspot.com/o/AppImages%2Fmae-mu-9002s2VnOAY-unsplash.jpg?alt=media&token=0efd9de9-21b1-4fa0-98f7-b22ca47616e4"},{title:"85% Fat Free",subTitle:"Low-Fat Meat",offer:10,bgUrl:"https://firebasestorage.googleapis.com/v0/b/ecovibe-c6720.appspot.com/o/AppImages%2FRectangle%2054%20(1).svg?alt=media&token=653bc353-2038-44c8-97f0-8aa13f752bdd"}];function vee(){const n=E9.useMediaQuery({maxWidth:425}),e={dots:!0,infinite:!0,arrows:!1,speed:1200,slidesToShow:1,slidesToScroll:1,fade:n,appendDots:t};function t(r){return R.jsx(R.Fragment,{children:R.jsx("div",{className:"flex justify-center sm:justify-between items-end mt-2 gap-x-2 absolute bottom-0 w-full py-2 md:hidden",children:R.jsx("div",{className:"flex items-center justify-center gap-x-1.5",children:r.map(i=>R.jsx("p",{className:`${i.props.className===""?"bg-gray-950":"bg-gray-100"} w-2.5 h-2.5 rounded-full transition-all`},i.key))})})})}return R.jsx("div",{className:"mx-auto 2xl:max-w-screen-2xl my-4 px-2 md:px-6",children:n?R.jsx(yee,{...e,children:tD.map((r,i)=>R.jsx(nD,{...r},i))}):R.jsx("div",{className:"flex items-center justify-evenly gap-x-8 lg:gap-x-8 w-full px-4 py-2 group",children:tD.map((r,i)=>R.jsx(nD,{...r},i))})})}const nD=({bgUrl:n,title:e,subTitle:t,offer:r})=>R.jsxs("div",{className:"w-full md:w-1/3 h-[500px] md:h-[550px] relative md:hover:-translate-y-6 transition-all duration-500 md:group-hover:scale-95 md:hover:!scale-105",children:[R.jsx("div",{className:"absolute w-full top-0 h-full -z-10",children:R.jsx("img",{src:n,alt:"slide pic",className:"h-full w-full object-cover rounded-md"})}),R.jsxs("div",{className:"h-full w-full z-10 flex flex-col items-center py-6 lg:py-8 rounded-md",children:[R.jsxs("div",{className:"flex flex-col items-center gap-y-4",children:[R.jsx("p",{className:"text-gray-200 text-lg",children:t}),R.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-100 cursor-pointer",children:e}),R.jsxs("p",{className:"text-gray-200 text-xl",children:["Up To ",r,"%  ",R.jsx("span",{className:"bg-white text-accent-700 text-base px-3 py-1 rounded-xl",children:"OFF"})]})]}),R.jsxs("button",{className:"flex items-center my-4 md:my-6 gap-x-2 text-xl text-accent-800 hover:bg-accent-50/60 transition-all duration-500 bg-white px-4 py-2 md:px-6 md:py-3 rounded-xl",children:[R.jsx("span",{children:"Shop Now"}),R.jsx(Xs,{})]})]})]}),_ee=[{sellerName:"John",img:"https://firebasestorage.googleapis.com/v0/b/ecovibe-c6720.appspot.com/o/AppImages%2FRectangle%204338.svg?alt=media&token=1f7ab351-dcc5-46df-a479-eda4d0f4dfe0",sellerShogaln:"ABC Store"},{sellerName:"Alice",img:"https://firebasestorage.googleapis.com/v0/b/ecovibe-c6720.appspot.com/o/AppImages%2FRectangle%204338%20(3).svg?alt=media&token=8889bc8b-42c2-47e0-965c-cae8836dfc1a",sellerShogaln:"XYZ Market"},{sellerName:"Bob",img:"https://firebasestorage.googleapis.com/v0/b/ecovibe-c6720.appspot.com/o/AppImages%2FRectangle%204338%20(2).svg?alt=media&token=f74a301e-5871-45e7-bca3-b992ddcd1f7f",sellerShogaln:"123 Shop"},{sellerName:"Emily",img:"https://firebasestorage.googleapis.com/v0/b/ecovibe-c6720.appspot.com/o/AppImages%2FRectangle%204338%20(1).svg?alt=media&token=9dd41abb-7c79-477a-bce2-585a5937e858",sellerShogaln:"Best Deals Co."}];function xee(){return R.jsxs("div",{className:"mx-auto 2xl:max-w-screen-2xl mt-6 md:mt-8",children:[R.jsxs("div",{className:"w-full flex flex-col items-center justify-center md:gap-y-3",children:[R.jsx("span",{className:"text-sm md:text-lg text-accent-600 font-semibold",children:"Our Best Seller's"}),R.jsx("h2",{className:"text-2xl md:text-5xl text-center font-bold",children:"Meet Awesome Seller's !"}),R.jsx("span",{className:"text-center w-3/5 text-lg hidden md:inline",children:"Discover a wide range of products from various sellers. 💼 Join our community and become a seller to showcase your unique items. 🌟 Share your creations and reach a global audience. 🌍 Start your selling journey today and turn your passion into profits! 💰"})]}),R.jsx("div",{id:"wrapper",className:"px-4 py-3 md:py-6 flex items-center flex-wrap justify-evenly gap-x-8 gap-y-12 w-full",children:_ee.map((n,e)=>R.jsxs("div",{className:"w-24 h-32 md:w-1/5 md:h-96 flex flex-col relative md:cursor-pointer",children:[R.jsx("div",{className:"w-full h-3/4 md:h-full",children:R.jsx("img",{src:n.img,alt:n.sellerName,className:"w-full h-full rounded-full md:rounded-lg object-cover"})}),R.jsx("div",{className:"w-full h-1/4 md:absolute md:bottom-0 md:flex items-center justify-center px-2 py-1 mt-4 md:mt-0 md:px-4 md:py-2",children:R.jsxs("div",{className:"w-11/12 flex flex-col items-center justify-center md:rounded-md md:bg-gray-50 md:hover:scale-105 transition-all h-full relative",children:[R.jsx("span",{className:"hidden md:block absolute z-0 bottom-0 left-0",children:R.jsx("svg",{width:"61",height:"30",viewBox:"0 0 61 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:R.jsx("circle",{cx:"16",cy:"45",r:"45",fill:"#13C296",fillOpacity:"0.11"})})}),R.jsxs("div",{children:[R.jsx("h2",{className:"my-1 text-center md:text-2xl font-bold text-lg",children:n.sellerName}),R.jsx("span",{className:"text-center text-xs font-semibold line-clamp-1",children:n.sellerShogaln})]}),R.jsx("span",{className:"hidden md:block absolute z-0 top-0 right-0",children:R.jsx("span",{children:R.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"25",fill:"none",viewBox:"0 0 20 25",children:[R.jsx("circle",{cx:".706257",cy:"24.3533",r:".646687",fill:"#3758F9",transform:"rotate(-90 .706257 24.3533)"}),R.jsx("circle",{cx:"6.39687",cy:"24.3533",r:".646687",fill:"#3758F9",transform:"rotate(-90 6.39687 24.3533)"}),R.jsx("circle",{cx:"12.0881",cy:"24.3533",r:".646687",fill:"#3758F9",transform:"rotate(-90 12.0881 24.3533)"}),R.jsx("circle",{cx:"17.7787",cy:"24.3533",r:".646687",fill:"#3758F9",transform:"rotate(-90 17.7787 24.3533)"}),R.jsx("circle",{cx:".706257",cy:"18.6624",r:".646687",fill:"#3758F9",transform:"rotate(-90 .706257 18.6624)"}),R.jsx("circle",{cx:"6.39687",cy:"18.6624",r:".646687",fill:"#3758F9",transform:"rotate(-90 6.39687 18.6624)"}),R.jsx("circle",{cx:"12.0881",cy:"18.6624",r:".646687",fill:"#3758F9",transform:"rotate(-90 12.0881 18.6624)"}),R.jsx("circle",{cx:"17.7787",cy:"18.6624",r:".646687",fill:"#3758F9",transform:"rotate(-90 17.7787 18.6624)"}),R.jsx("circle",{cx:".706257",cy:"12.9717",r:".646687",fill:"#3758F9",transform:"rotate(-90 .706257 12.9717)"}),R.jsx("circle",{cx:"6.39687",cy:"12.9717",r:".646687",fill:"#3758F9",transform:"rotate(-90 6.39687 12.9717)"}),R.jsx("circle",{cx:"12.0881",cy:"12.9717",r:".646687",fill:"#3758F9",transform:"rotate(-90 12.0881 12.9717)"}),R.jsx("circle",{cx:"17.7787",cy:"12.9717",r:".646687",fill:"#3758F9",transform:"rotate(-90 17.7787 12.9717)"}),R.jsx("circle",{cx:".706257",cy:"7.2808",r:".646687",fill:"#3758F9",transform:"rotate(-90 .706257 7.2808)"}),R.jsx("circle",{cx:"6.39687",cy:"7.2808",r:".646687",fill:"#3758F9",transform:"rotate(-90 6.39687 7.2808)"}),R.jsx("circle",{cx:"12.0881",cy:"7.2808",r:".646687",fill:"#3758F9",transform:"rotate(-90 12.0881 7.2808)"}),R.jsx("circle",{cx:"17.7787",cy:"7.2808",r:".646687",fill:"#3758F9",transform:"rotate(-90 17.7787 7.2808)"}),R.jsx("circle",{cx:".706257",cy:"1.58989",r:".646687",fill:"#3758F9",transform:"rotate(-90 .706257 1.58989)"}),R.jsx("circle",{cx:"6.39687",cy:"1.58989",r:".646687",fill:"#3758F9",transform:"rotate(-90 6.39687 1.58989)"}),R.jsx("circle",{cx:"12.0881",cy:"1.58989",r:".646687",fill:"#3758F9",transform:"rotate(-90 12.0881 1.58989)"}),R.jsx("circle",{cx:"17.7787",cy:"1.58989",r:".646687",fill:"#3758F9",transform:"rotate(-90 17.7787 1.58989)"})]})})})]})})]},e))})]})}const Du=[{title:"Living Room",img:"https://firebasestorage.googleapis.com/v0/b/ecovibe-c6720.appspot.com/o/AppImages%2FPaste%20image%2003.png?alt=media&token=1970e707-5bd4-473b-84a9-954d05a3e9f7"},{title:"Bedroom",img:"https://firebasestorage.googleapis.com/v0/b/ecovibe-c6720.appspot.com/o/AppImages%2FImage%20Placeholder%2001.png?alt=media&token=14009cfd-68a3-4f84-a831-8c661bff903c"},{title:"Kitchen",img:"https://firebasestorage.googleapis.com/v0/b/ecovibe-c6720.appspot.com/o/AppImages%2FImage%20Placeholder%202.png?alt=media&token=0b304ed1-2caf-4a3a-923c-8af0eb585972"}];function See(){return R.jsx("div",{className:"mx-auto 2xl:max-w-screen-2xl mt-6 md:mt-8",children:R.jsxs("div",{id:"wrapper",className:"flex flex-col md:flex-row items-center justify-center gap-y-4 gap-x-6 lg:gap-x-10 w-full px-4 py-2 h-96 md:h-[500px] lg:h-[550px]",children:[R.jsxs("div",{className:"md:w-1/3 w-full h-full relative",children:[R.jsx("div",{className:"w-full h-full absolute -z-10",children:R.jsx("img",{src:Du[0].img,alt:"",className:"h-full w-full object-cover"})}),R.jsxs("div",{className:"z-10 h-full w-full px-4 py-2 md:px-6 md:py-4 flex items-start flex-col gap-y-2",children:[R.jsx("h2",{className:"text-3xl md:text-4xl",children:Du[0].title}),R.jsxs("button",{className:"flex items-center gap-x-1 border-b-2 border-b-black",children:[R.jsx("span",{children:"Shop Now"}),R.jsx("span",{children:R.jsx(Xs,{})})]})]})]}),R.jsxs("div",{className:"md:w-1/2 w-full h-full flex flex-col gap-y-4 md:gap-y-5",children:[R.jsxs("div",{className:"w-full h-1/2 relative",children:[R.jsx("div",{className:"w-full h-full absolute -z-10",children:R.jsx("img",{src:Du[1].img,alt:"",className:"h-full w-full object-cover"})}),R.jsxs("div",{className:"z-10 h-full w-full px-4 py-2 md:px-6 md:py-4 flex items-start flex-col gap-y-2",children:[R.jsx("h2",{className:"text-3xl md:text-4xl",children:Du[1].title}),R.jsxs("button",{className:"flex items-center gap-x-1 border-b-2 border-b-black",children:[R.jsx("span",{children:"Shop Now"}),R.jsx("span",{children:R.jsx(Xs,{})})]})]})]}),R.jsxs("div",{className:"w-full h-1/2 relative",children:[R.jsx("div",{className:"w-full h-full absolute -z-10",children:R.jsx("img",{src:Du[2].img,alt:"",className:"h-full w-full object-cover"})}),R.jsxs("div",{className:"z-10 h-full w-full px-4 py-2 md:px-6 md:py-4 flex items-start flex-col gap-y-2",children:[R.jsx("h2",{className:"text-3xl md:text-4xl",children:Du[2].title}),R.jsxs("button",{className:"flex items-center gap-x-1 border-b-2 border-b-black",children:[R.jsx("span",{children:"Shop Now"}),R.jsx("span",{children:R.jsx(Xs,{})})]})]})]})]})]})})}function Pr(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}class Aee extends Y.Component{componentDidMount(){this.element=this.ref.current,setTimeout(()=>{var e,t;((t=this.element)===null||t===void 0||(e=t.parentElement)===null||e===void 0?void 0:e.querySelector(":hover"))===this.element&&this.onMouseEnter()},0)}componentWillUnmount(){this.transitionTimeout&&clearTimeout(this.transitionTimeout),this.updateCall&&cancelAnimationFrame(this.updateCall)}render(){const{children:e,className:t}=this.props;return R.jsx("div",{ref:this.ref,className:t,style:{...this.props.style,...this.state.style,transition:"".concat(this.settings.speed,"ms ").concat(this.settings.easing)},onMouseEnter:this.onMouseEnter,onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave,children:e})}constructor(e){super(e),Pr(this,"ref",void 0),Pr(this,"width",void 0),Pr(this,"height",void 0),Pr(this,"left",void 0),Pr(this,"top",void 0),Pr(this,"transitionTimeout",void 0),Pr(this,"element",void 0),Pr(this,"reverse",void 0),Pr(this,"updateCall",void 0),Pr(this,"settings",void 0),Pr(this,"onMouseEnter",()=>{const{style:t}=this.state;this.updateElementPosition(),this.setState({...this.state,style:{...t,willChange:"transform"}})}),Pr(this,"reset",()=>{window.requestAnimationFrame(()=>{this.setState({...this.state,style:{transform:"perspective(".concat(this.settings.perspective,"px) ")+"rotateX(0deg) rotateY(0deg) scale3d(1, 1, 1)"}})})}),Pr(this,"onMouseMove",t=>{t.persist(),this.updateCall!==null&&window.cancelAnimationFrame(this.updateCall),this.updateCall=requestAnimationFrame(this.update.bind(this,t))}),Pr(this,"onMouseLeave",()=>{this.settings.reset&&this.reset()}),Pr(this,"getValues",t=>{const r=(t.nativeEvent.clientX-this.left)/this.width,i=(t.nativeEvent.clientY-this.top)/this.height,s=Math.min(Math.max(r,0),1),o=Math.min(Math.max(i,0),1),a=(this.reverse*(this.settings.max/2-s*this.settings.max)).toFixed(2),l=(this.reverse*(o*this.settings.max-this.settings.max/2)).toFixed(2),c=s*100,u=o*100;return{tiltX:a,tiltY:l,percentageX:c,percentageY:u}}),Pr(this,"updateElementPosition",()=>{var t,r,i,s,o;const a=(t=this.element)===null||t===void 0?void 0:t.getBoundingClientRect();var l;this.width=(l=(r=this.element)===null||r===void 0?void 0:r.offsetWidth)!==null&&l!==void 0?l:0;var c;this.height=(c=(i=this.element)===null||i===void 0?void 0:i.offsetHeight)!==null&&c!==void 0?c:0;var u;this.left=(u=(s=a)===null||s===void 0?void 0:s.left)!==null&&u!==void 0?u:0;var f;this.top=(f=(o=a)===null||o===void 0?void 0:o.top)!==null&&f!==void 0?f:0}),Pr(this,"update",t=>{const r=this.getValues(t),{style:i}=this.state;this.setState({...this.state,style:{...i,transform:"perspective(".concat(this.settings.perspective,"px) ")+"rotateX(".concat(this.settings.axis==="x"?0:r.tiltY,"deg) ")+"rotateY(".concat(this.settings.axis==="y"?0:r.tiltX,"deg) ")+"scale3d(".concat(this.settings.scale,", ").concat(this.settings.scale,", ").concat(this.settings.scale,")")}}),this.updateCall=null}),this.ref=Y.createRef(),this.width=0,this.height=0,this.left=0,this.top=0,this.transitionTimeout=null,this.updateCall=null,this.element=null,this.settings={reverse:!1,max:35,perspective:1e3,easing:"cubic-bezier(.03,.98,.52,.99)",scale:1.1,speed:1e3,transition:!0,axis:null,reset:!0,...e.options},this.state={style:{transition:"".concat(this.settings.speed,"ms ").concat(this.settings.easing)}},this.reverse=this.settings.reverse?-1:1}}const wee=[{title:"New Man Collections",subTitle:"Elevate your style with modern cuts, luxurious fabrics, and timeless designs. From sharp tailored suits to casual everyday essentials, this collection has everything you need to look and feel your best.",bgurl:"https://firebasestorage.googleapis.com/v0/b/ecovibe-c6720.appspot.com/o/AppImages%2Fjade-aucamp-Kj6LgGceZ4M-unsplash.jpg?alt=media&token=bf06f396-12d7-4c1b-a4a8-3b837d76c63a"},{title:"Woman Winter Collections",subTitle:"Discover the latest woman winter collections, featuring cozy 🧥 outerwear, stylish ❄️ accessories, and chic 🧣 scarves to keep you warm and fashionable during the chilly season. From elegant coats to trendy boots.",bgurl:"https://firebasestorage.googleapis.com/v0/b/ecovibe-c6720.appspot.com/o/AppImages%2Fdom-hill-nimElTcTNyY-unsplash.jpg?alt=media&token=360a3cac-5de4-4bc6-9b8c-02818769b5a2"}];function Eee(){return R.jsxs("div",{className:"mx-auto 2xl:max-w-screen-2xl",children:[R.jsxs("div",{className:"w-full px-2 my-1 md:px-4 flex items-center justify-between",children:[R.jsx("h2",{className:"text-2xl font-bold  md:text-3xl",children:"Best Selling Items"}),R.jsxs("span",{className:"flex items-center gap-x-1 md:gap-x-1.5 md:text-lg text-sm text-gray-500 hover:text-accent-300 transition-all cursor-pointer",children:["View All ",R.jsx(Xs,{className:"text-xs md:text-base"})]})]}),R.jsx("div",{id:"wrapper",className:"flex flex-col gap-y-6 md:flex-row items-center justify-evenly w-full px-4 py-4 md:py-6",children:wee.map((n,e)=>R.jsx(Aee,{className:"w-full md:w-2/5 h-48 md:h-64 relative cursor-pointer",children:R.jsxs("div",{className:"w-full h-full",children:[R.jsx("div",{className:"absolute w-full h-full -z-10",children:R.jsx("img",{src:n.bgurl,alt:"banner-pic",className:"w-full h-full object-cover object-top rounded-xl"})}),R.jsxs("div",{className:"z-10 flex flex-col px-4 py-4 bg-gray-800/35 rounded-xl h-full md: justify-evenly",children:[R.jsx("h2",{className:"text-xl md:text-2xl font-bold text-white",children:n.title}),R.jsx("span",{className:"line-clamp-3 text-gray-300",children:n.subTitle}),R.jsx("button",{className:"bg-white text-gray-950 hover:bg-gray-950 hover:text-white transition-all md:text-lg font-semibold rounded-xl text-sm my-3 px-4 py-2 w-fit md:self-end md:px-5 md:py-2.5",children:"Shop Now"})]})]})},e))})]})}function hf(){return hf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},hf.apply(this,arguments)}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Hm="161",hc={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},fc={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Z9=0,LT=1,e5=2,Tee=3,t5=0,Ix=1,up=2,ks=3,Io=0,xi=1,ws=2,ca=0,Fc=1,DT=2,BT=3,NT=4,n5=5,$a=100,r5=101,i5=102,OT=103,FT=104,s5=200,o5=201,a5=202,l5=203,p_=204,m_=205,c5=206,u5=207,h5=208,f5=209,d5=210,p5=211,m5=212,g5=213,y5=214,v5=0,_5=1,x5=2,rm=3,S5=4,A5=5,w5=6,E5=7,Gm=0,T5=1,M5=2,wo=0,C5=1,b5=2,R5=3,Jb=4,P5=5,I5=6,kT="attached",L5="detached",Lx=300,va=301,Tl=302,im=303,sm=304,Nf=306,Ml=1e3,Nr=1001,ff=1002,kn=1003,om=1004,Mee=1004,Ya=1005,Cee=1005,vn=1006,jh=1007,bee=1007,Ms=1008,Ree=1008,Eo=1009,D5=1010,B5=1011,Dx=1012,$b=1013,ra=1014,Es=1015,df=1016,Yb=1017,qb=1018,pl=1020,N5=1021,gi=1023,O5=1024,F5=1025,ml=1026,eu=1027,k5=1028,Qb=1029,U5=1030,Zb=1031,e2=1033,q0=33776,Q0=33777,Z0=33778,ev=33779,UT=35840,VT=35841,zT=35842,HT=35843,t2=36196,GT=37492,jT=37496,WT=37808,XT=37809,KT=37810,JT=37811,$T=37812,YT=37813,qT=37814,QT=37815,ZT=37816,eM=37817,tM=37818,nM=37819,rM=37820,iM=37821,tv=36492,sM=36494,oM=36495,V5=36283,aM=36284,lM=36285,cM=36286,z5=2200,H5=2201,G5=2202,pf=2300,tu=2301,nv=2302,Mc=2400,Cc=2401,am=2402,Bx=2500,n2=2501,j5=0,r2=1,g_=2,i2=3e3,gl=3001,W5=3200,X5=3201,Ol=0,K5=1,ji="",cr="srgb",Lo="srgb-linear",Nx="display-p3",jm="display-p3-linear",lm="linear",dn="srgb",cm="rec709",um="p3",Pee=0,dc=7680,Iee=7681,Lee=7682,Dee=7683,Bee=34055,Nee=34056,Oee=5386,Fee=512,kee=513,Uee=514,Vee=515,zee=516,Hee=517,Gee=518,uM=519,J5=512,$5=513,Y5=514,s2=515,q5=516,Q5=517,Z5=518,e6=519,hm=35044,jee=35048,Wee=35040,Xee=35045,Kee=35049,Jee=35041,$ee=35046,Yee=35050,qee=35042,Qee="100",hM="300 es",y_=1035,vo=2e3,fm=2001;class Bo{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const Jr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let rD=1234567;const kc=Math.PI/180,mf=180/Math.PI;function Yi(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Jr[n&255]+Jr[n>>8&255]+Jr[n>>16&255]+Jr[n>>24&255]+"-"+Jr[e&255]+Jr[e>>8&255]+"-"+Jr[e>>16&15|64]+Jr[e>>24&255]+"-"+Jr[t&63|128]+Jr[t>>8&255]+"-"+Jr[t>>16&255]+Jr[t>>24&255]+Jr[r&255]+Jr[r>>8&255]+Jr[r>>16&255]+Jr[r>>24&255]).toLowerCase()}function Vn(n,e,t){return Math.max(e,Math.min(t,n))}function o2(n,e){return(n%e+e)%e}function Zee(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function ete(n,e,t){return n!==e?(t-n)/(e-n):0}function hp(n,e,t){return(1-t)*n+t*e}function tte(n,e,t,r){return hp(n,e,1-Math.exp(-t*r))}function nte(n,e=1){return e-Math.abs(o2(n,e*2)-e)}function rte(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function ite(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function ste(n,e){return n+Math.floor(Math.random()*(e-n+1))}function ote(n,e){return n+Math.random()*(e-n)}function ate(n){return n*(.5-Math.random())}function lte(n){n!==void 0&&(rD=n);let e=rD+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function cte(n){return n*kc}function ute(n){return n*mf}function fM(n){return(n&n-1)===0&&n!==0}function hte(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function v_(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function fte(n,e,t,r,i){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),c=s((e+r)/2),u=o((e+r)/2),f=s((e-r)/2),p=o((e-r)/2),m=s((r-e)/2),y=o((r-e)/2);switch(i){case"XYX":n.set(a*u,l*f,l*p,a*c);break;case"YZY":n.set(l*p,a*u,l*f,a*c);break;case"ZXZ":n.set(l*f,l*p,a*u,a*c);break;case"XZX":n.set(a*u,l*y,l*m,a*c);break;case"YXY":n.set(l*m,a*u,l*y,a*c);break;case"ZYZ":n.set(l*y,l*m,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function yi(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Pt(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const t6={DEG2RAD:kc,RAD2DEG:mf,generateUUID:Yi,clamp:Vn,euclideanModulo:o2,mapLinear:Zee,inverseLerp:ete,lerp:hp,damp:tte,pingpong:nte,smoothstep:rte,smootherstep:ite,randInt:ste,randFloat:ote,randFloatSpread:ate,seededRandom:lte,degToRad:cte,radToDeg:ute,isPowerOfTwo:fM,ceilPowerOfTwo:hte,floorPowerOfTwo:v_,setQuaternionFromProperEuler:fte,normalize:Pt,denormalize:yi};class _e{constructor(e=0,t=0){_e.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Vn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Ot{constructor(e,t,r,i,s,o,a,l,c){Ot.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,r,i,s,o,a,l,c)}set(e,t,r,i,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=t,u[4]=s,u[5]=l,u[6]=r,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[3],l=r[6],c=r[1],u=r[4],f=r[7],p=r[2],m=r[5],y=r[8],S=i[0],v=i[3],g=i[6],x=i[1],A=i[4],E=i[7],b=i[2],C=i[5],P=i[8];return s[0]=o*S+a*x+l*b,s[3]=o*v+a*A+l*C,s[6]=o*g+a*E+l*P,s[1]=c*S+u*x+f*b,s[4]=c*v+u*A+f*C,s[7]=c*g+u*E+f*P,s[2]=p*S+m*x+y*b,s[5]=p*v+m*A+y*C,s[8]=p*g+m*E+y*P,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return t*o*u-t*a*c-r*s*u+r*a*l+i*s*c-i*o*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],f=u*o-a*c,p=a*l-u*s,m=c*s-o*l,y=t*f+r*p+i*m;if(y===0)return this.set(0,0,0,0,0,0,0,0,0);const S=1/y;return e[0]=f*S,e[1]=(i*c-u*r)*S,e[2]=(a*r-i*o)*S,e[3]=p*S,e[4]=(u*t-i*l)*S,e[5]=(i*s-a*t)*S,e[6]=m*S,e[7]=(r*l-c*t)*S,e[8]=(o*t-r*s)*S,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*o+c*a)+o+e,-i*c,i*l,-i*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(CA.makeScale(e,t)),this}rotate(e){return this.premultiply(CA.makeRotation(-e)),this}translate(e,t){return this.premultiply(CA.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const CA=new Ot;function n6(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const dte={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Sh(n,e){return new dte[n](e)}function dm(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function r6(){const n=dm("canvas");return n.style.display="block",n}const iD={};function Uc(n){n in iD||(iD[n]=!0,console.warn(n))}const sD=new Ot().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),oD=new Ot().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),By={[Lo]:{transfer:lm,primaries:cm,toReference:n=>n,fromReference:n=>n},[cr]:{transfer:dn,primaries:cm,toReference:n=>n.convertSRGBToLinear(),fromReference:n=>n.convertLinearToSRGB()},[jm]:{transfer:lm,primaries:um,toReference:n=>n.applyMatrix3(oD),fromReference:n=>n.applyMatrix3(sD)},[Nx]:{transfer:dn,primaries:um,toReference:n=>n.convertSRGBToLinear().applyMatrix3(oD),fromReference:n=>n.applyMatrix3(sD).convertLinearToSRGB()}},pte=new Set([Lo,jm]),sn={enabled:!0,_workingColorSpace:Lo,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(n){if(!pte.has(n))throw new Error(`Unsupported working color space, "${n}".`);this._workingColorSpace=n},convert:function(n,e,t){if(this.enabled===!1||e===t||!e||!t)return n;const r=By[e].toReference,i=By[t].fromReference;return i(r(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this._workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this._workingColorSpace)},getPrimaries:function(n){return By[n].primaries},getTransfer:function(n){return n===ji?lm:By[n].transfer}};function Wh(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function bA(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let Bu;class a2{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Bu===void 0&&(Bu=dm("canvas")),Bu.width=e.width,Bu.height=e.height;const r=Bu.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=Bu}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=dm("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=Wh(s[o]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(Wh(t[r]/255)*255):t[r]=Wh(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let mte=0;class bc{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:mte++}),this.uuid=Yi(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(RA(i[o].image)):s.push(RA(i[o]))}else s=RA(i);r.url=s}return t||(e.images[this.uuid]=r),r}}function RA(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?a2.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let gte=0;class An extends Bo{constructor(e=An.DEFAULT_IMAGE,t=An.DEFAULT_MAPPING,r=Nr,i=Nr,s=vn,o=Ms,a=gi,l=Eo,c=An.DEFAULT_ANISOTROPY,u=ji){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:gte++}),this.uuid=Yi(),this.name="",this.source=new bc(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new _e(0,0),this.repeat=new _e(1,1),this.center=new _e(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ot,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof u=="string"?this.colorSpace=u:(Uc("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=u===gl?cr:ji),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Lx)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Ml:e.x=e.x-Math.floor(e.x);break;case Nr:e.x=e.x<0?0:1;break;case ff:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Ml:e.y=e.y-Math.floor(e.y);break;case Nr:e.y=e.y<0?0:1;break;case ff:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return Uc("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===cr?gl:i2}set encoding(e){Uc("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===gl?cr:ji}}An.DEFAULT_IMAGE=null;An.DEFAULT_MAPPING=Lx;An.DEFAULT_ANISOTROPY=1;class on{constructor(e=0,t=0,r=0,i=1){on.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const l=e.elements,c=l[0],u=l[4],f=l[8],p=l[1],m=l[5],y=l[9],S=l[2],v=l[6],g=l[10];if(Math.abs(u-p)<.01&&Math.abs(f-S)<.01&&Math.abs(y-v)<.01){if(Math.abs(u+p)<.1&&Math.abs(f+S)<.1&&Math.abs(y+v)<.1&&Math.abs(c+m+g-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const A=(c+1)/2,E=(m+1)/2,b=(g+1)/2,C=(u+p)/4,P=(f+S)/4,L=(y+v)/4;return A>E&&A>b?A<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(A),i=C/r,s=P/r):E>b?E<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(E),r=C/i,s=L/i):b<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(b),r=P/s,i=L/s),this.set(r,i,s,t),this}let x=Math.sqrt((v-y)*(v-y)+(f-S)*(f-S)+(p-u)*(p-u));return Math.abs(x)<.001&&(x=1),this.x=(v-y)/x,this.y=(f-S)/x,this.z=(p-u)/x,this.w=Math.acos((c+m+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class i6 extends Bo{constructor(e=1,t=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new on(0,0,e,t),this.scissorTest=!1,this.viewport=new on(0,0,e,t);const i={width:e,height:t,depth:1};r.encoding!==void 0&&(Uc("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===gl?cr:ji),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:vn,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},r),this.texture=new An(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps,this.texture.internalFormat=r.internalFormat,this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new bc(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class $s extends i6{constructor(e=1,t=1,r={}){super(e,t,r),this.isWebGLRenderTarget=!0}}class Ox extends An{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=kn,this.minFilter=kn,this.wrapR=Nr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class yte extends $s{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new Ox(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class l2 extends An{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=kn,this.minFilter=kn,this.wrapR=Nr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class vte extends $s{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new l2(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class _te extends $s{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class wr{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,s,o,a){let l=r[i+0],c=r[i+1],u=r[i+2],f=r[i+3];const p=s[o+0],m=s[o+1],y=s[o+2],S=s[o+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=u,e[t+3]=f;return}if(a===1){e[t+0]=p,e[t+1]=m,e[t+2]=y,e[t+3]=S;return}if(f!==S||l!==p||c!==m||u!==y){let v=1-a;const g=l*p+c*m+u*y+f*S,x=g>=0?1:-1,A=1-g*g;if(A>Number.EPSILON){const b=Math.sqrt(A),C=Math.atan2(b,g*x);v=Math.sin(v*C)/b,a=Math.sin(a*C)/b}const E=a*x;if(l=l*v+p*E,c=c*v+m*E,u=u*v+y*E,f=f*v+S*E,v===1-a){const b=1/Math.sqrt(l*l+c*c+u*u+f*f);l*=b,c*=b,u*=b,f*=b}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=f}static multiplyQuaternionsFlat(e,t,r,i,s,o){const a=r[i],l=r[i+1],c=r[i+2],u=r[i+3],f=s[o],p=s[o+1],m=s[o+2],y=s[o+3];return e[t]=a*y+u*f+l*m-c*p,e[t+1]=l*y+u*p+c*f-a*m,e[t+2]=c*y+u*m+a*p-l*f,e[t+3]=u*y-a*f-l*p-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(r/2),u=a(i/2),f=a(s/2),p=l(r/2),m=l(i/2),y=l(s/2);switch(o){case"XYZ":this._x=p*u*f+c*m*y,this._y=c*m*f-p*u*y,this._z=c*u*y+p*m*f,this._w=c*u*f-p*m*y;break;case"YXZ":this._x=p*u*f+c*m*y,this._y=c*m*f-p*u*y,this._z=c*u*y-p*m*f,this._w=c*u*f+p*m*y;break;case"ZXY":this._x=p*u*f-c*m*y,this._y=c*m*f+p*u*y,this._z=c*u*y+p*m*f,this._w=c*u*f-p*m*y;break;case"ZYX":this._x=p*u*f-c*m*y,this._y=c*m*f+p*u*y,this._z=c*u*y-p*m*f,this._w=c*u*f+p*m*y;break;case"YZX":this._x=p*u*f+c*m*y,this._y=c*m*f+p*u*y,this._z=c*u*y-p*m*f,this._w=c*u*f-p*m*y;break;case"XZY":this._x=p*u*f-c*m*y,this._y=c*m*f-p*u*y,this._z=c*u*y+p*m*f,this._w=c*u*f+p*m*y;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],u=t[6],f=t[10],p=r+a+f;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(u-l)*m,this._y=(s-c)*m,this._z=(o-i)*m}else if(r>a&&r>f){const m=2*Math.sqrt(1+r-a-f);this._w=(u-l)/m,this._x=.25*m,this._y=(i+o)/m,this._z=(s+c)/m}else if(a>f){const m=2*Math.sqrt(1+a-r-f);this._w=(s-c)/m,this._x=(i+o)/m,this._y=.25*m,this._z=(l+u)/m}else{const m=2*Math.sqrt(1+f-r-a);this._w=(o-i)/m,this._x=(s+c)/m,this._y=(l+u)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Vn(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,u=t._w;return this._x=r*u+o*a+i*c-s*l,this._y=i*u+o*l+s*a-r*c,this._z=s*u+o*c+r*l-i*a,this._w=o*u-r*a-i*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*r+t*this._x,this._y=m*i+t*this._y,this._z=m*s+t*this._z,this.normalize(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),f=Math.sin((1-t)*u)/c,p=Math.sin(t*u)/c;return this._w=o*f+this._w*p,this._x=r*f+this._x*p,this._y=i*f+this._y*p,this._z=s*f+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(s),r*Math.cos(s),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class k{constructor(e=0,t=0,r=0){k.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(aD.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(aD.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=2*(o*i-a*r),u=2*(a*t-s*i),f=2*(s*r-o*t);return this.x=t+l*c+o*f-a*u,this.y=r+l*u+a*c-s*f,this.z=i+l*f+s*u-o*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return PA.copy(this).projectOnVector(e),this.sub(PA)}reflect(e){return this.sub(PA.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Vn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const PA=new k,aD=new wr;class ni{constructor(e=new k(1/0,1/0,1/0),t=new k(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t+=3)this.expandByPoint(Bs.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,r=e.count;t<r;t++)this.expandByPoint(Bs.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=Bs.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const s=r.getAttribute("position");if(t===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=s.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,Bs):Bs.fromBufferAttribute(s,o),Bs.applyMatrix4(e.matrixWorld),this.expandByPoint(Bs);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Ny.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),Ny.copy(r.boundingBox)),Ny.applyMatrix4(e.matrixWorld),this.union(Ny)}const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Bs),Bs.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(vd),Oy.subVectors(this.max,vd),Nu.subVectors(e.a,vd),Ou.subVectors(e.b,vd),Fu.subVectors(e.c,vd),Ia.subVectors(Ou,Nu),La.subVectors(Fu,Ou),$l.subVectors(Nu,Fu);let t=[0,-Ia.z,Ia.y,0,-La.z,La.y,0,-$l.z,$l.y,Ia.z,0,-Ia.x,La.z,0,-La.x,$l.z,0,-$l.x,-Ia.y,Ia.x,0,-La.y,La.x,0,-$l.y,$l.x,0];return!IA(t,Nu,Ou,Fu,Oy)||(t=[1,0,0,0,1,0,0,0,1],!IA(t,Nu,Ou,Fu,Oy))?!1:(Fy.crossVectors(Ia,La),t=[Fy.x,Fy.y,Fy.z],IA(t,Nu,Ou,Fu,Oy))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Bs).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Bs).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(jo[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),jo[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),jo[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),jo[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),jo[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),jo[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),jo[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),jo[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(jo),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const jo=[new k,new k,new k,new k,new k,new k,new k,new k],Bs=new k,Ny=new ni,Nu=new k,Ou=new k,Fu=new k,Ia=new k,La=new k,$l=new k,vd=new k,Oy=new k,Fy=new k,Yl=new k;function IA(n,e,t,r,i){for(let s=0,o=n.length-3;s<=o;s+=3){Yl.fromArray(n,s);const a=i.x*Math.abs(Yl.x)+i.y*Math.abs(Yl.y)+i.z*Math.abs(Yl.z),l=e.dot(Yl),c=t.dot(Yl),u=r.dot(Yl);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const xte=new ni,_d=new k,LA=new k;class Ur{constructor(e=new k,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):xte.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;_d.subVectors(e,this.center);const t=_d.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.addScaledVector(_d,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(LA.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(_d.copy(e.center).add(LA)),this.expandByPoint(_d.copy(e.center).sub(LA))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Wo=new k,DA=new k,ky=new k,Da=new k,BA=new k,Uy=new k,NA=new k;class lu{constructor(e=new k,t=new k(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Wo)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Wo.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Wo.copy(this.origin).addScaledVector(this.direction,t),Wo.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){DA.copy(e).add(t).multiplyScalar(.5),ky.copy(t).sub(e).normalize(),Da.copy(this.origin).sub(DA);const s=e.distanceTo(t)*.5,o=-this.direction.dot(ky),a=Da.dot(this.direction),l=-Da.dot(ky),c=Da.lengthSq(),u=Math.abs(1-o*o);let f,p,m,y;if(u>0)if(f=o*l-a,p=o*a-l,y=s*u,f>=0)if(p>=-y)if(p<=y){const S=1/u;f*=S,p*=S,m=f*(f+o*p+2*a)+p*(o*f+p+2*l)+c}else p=s,f=Math.max(0,-(o*p+a)),m=-f*f+p*(p+2*l)+c;else p=-s,f=Math.max(0,-(o*p+a)),m=-f*f+p*(p+2*l)+c;else p<=-y?(f=Math.max(0,-(-o*s+a)),p=f>0?-s:Math.min(Math.max(-s,-l),s),m=-f*f+p*(p+2*l)+c):p<=y?(f=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+c):(f=Math.max(0,-(o*s+a)),p=f>0?s:Math.min(Math.max(-s,-l),s),m=-f*f+p*(p+2*l)+c);else p=o>0?-s:s,f=Math.max(0,-(o*p+a)),m=-f*f+p*(p+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,f),i&&i.copy(DA).addScaledVector(ky,p),m}intersectSphere(e,t){Wo.subVectors(e.center,this.origin);const r=Wo.dot(this.direction),i=Wo.dot(Wo)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,f=1/this.direction.z,p=this.origin;return c>=0?(r=(e.min.x-p.x)*c,i=(e.max.x-p.x)*c):(r=(e.max.x-p.x)*c,i=(e.min.x-p.x)*c),u>=0?(s=(e.min.y-p.y)*u,o=(e.max.y-p.y)*u):(s=(e.max.y-p.y)*u,o=(e.min.y-p.y)*u),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),f>=0?(a=(e.min.z-p.z)*f,l=(e.max.z-p.z)*f):(a=(e.max.z-p.z)*f,l=(e.min.z-p.z)*f),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,Wo)!==null}intersectTriangle(e,t,r,i,s){BA.subVectors(t,e),Uy.subVectors(r,e),NA.crossVectors(BA,Uy);let o=this.direction.dot(NA),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Da.subVectors(this.origin,e);const l=a*this.direction.dot(Uy.crossVectors(Da,Uy));if(l<0)return null;const c=a*this.direction.dot(BA.cross(Da));if(c<0||l+c>o)return null;const u=-a*Da.dot(NA);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class ht{constructor(e,t,r,i,s,o,a,l,c,u,f,p,m,y,S,v){ht.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,r,i,s,o,a,l,c,u,f,p,m,y,S,v)}set(e,t,r,i,s,o,a,l,c,u,f,p,m,y,S,v){const g=this.elements;return g[0]=e,g[4]=t,g[8]=r,g[12]=i,g[1]=s,g[5]=o,g[9]=a,g[13]=l,g[2]=c,g[6]=u,g[10]=f,g[14]=p,g[3]=m,g[7]=y,g[11]=S,g[15]=v,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new ht().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/ku.setFromMatrixColumn(e,0).length(),s=1/ku.setFromMatrixColumn(e,1).length(),o=1/ku.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const p=o*u,m=o*f,y=a*u,S=a*f;t[0]=l*u,t[4]=-l*f,t[8]=c,t[1]=m+y*c,t[5]=p-S*c,t[9]=-a*l,t[2]=S-p*c,t[6]=y+m*c,t[10]=o*l}else if(e.order==="YXZ"){const p=l*u,m=l*f,y=c*u,S=c*f;t[0]=p+S*a,t[4]=y*a-m,t[8]=o*c,t[1]=o*f,t[5]=o*u,t[9]=-a,t[2]=m*a-y,t[6]=S+p*a,t[10]=o*l}else if(e.order==="ZXY"){const p=l*u,m=l*f,y=c*u,S=c*f;t[0]=p-S*a,t[4]=-o*f,t[8]=y+m*a,t[1]=m+y*a,t[5]=o*u,t[9]=S-p*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const p=o*u,m=o*f,y=a*u,S=a*f;t[0]=l*u,t[4]=y*c-m,t[8]=p*c+S,t[1]=l*f,t[5]=S*c+p,t[9]=m*c-y,t[2]=-c,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*c,y=a*l,S=a*c;t[0]=l*u,t[4]=S-p*f,t[8]=y*f+m,t[1]=f,t[5]=o*u,t[9]=-a*u,t[2]=-c*u,t[6]=m*f+y,t[10]=p-S*f}else if(e.order==="XZY"){const p=o*l,m=o*c,y=a*l,S=a*c;t[0]=l*u,t[4]=-f,t[8]=c*u,t[1]=p*f+S,t[5]=o*u,t[9]=m*f-y,t[2]=y*f-m,t[6]=a*u,t[10]=S*f+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Ste,e,Ate)}lookAt(e,t,r){const i=this.elements;return zi.subVectors(e,t),zi.lengthSq()===0&&(zi.z=1),zi.normalize(),Ba.crossVectors(r,zi),Ba.lengthSq()===0&&(Math.abs(r.z)===1?zi.x+=1e-4:zi.z+=1e-4,zi.normalize(),Ba.crossVectors(r,zi)),Ba.normalize(),Vy.crossVectors(zi,Ba),i[0]=Ba.x,i[4]=Vy.x,i[8]=zi.x,i[1]=Ba.y,i[5]=Vy.y,i[9]=zi.y,i[2]=Ba.z,i[6]=Vy.z,i[10]=zi.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[4],l=r[8],c=r[12],u=r[1],f=r[5],p=r[9],m=r[13],y=r[2],S=r[6],v=r[10],g=r[14],x=r[3],A=r[7],E=r[11],b=r[15],C=i[0],P=i[4],L=i[8],N=i[12],M=i[1],D=i[5],z=i[9],W=i[13],H=i[2],$=i[6],Z=i[10],ae=i[14],O=i[3],j=i[7],K=i[11],q=i[15];return s[0]=o*C+a*M+l*H+c*O,s[4]=o*P+a*D+l*$+c*j,s[8]=o*L+a*z+l*Z+c*K,s[12]=o*N+a*W+l*ae+c*q,s[1]=u*C+f*M+p*H+m*O,s[5]=u*P+f*D+p*$+m*j,s[9]=u*L+f*z+p*Z+m*K,s[13]=u*N+f*W+p*ae+m*q,s[2]=y*C+S*M+v*H+g*O,s[6]=y*P+S*D+v*$+g*j,s[10]=y*L+S*z+v*Z+g*K,s[14]=y*N+S*W+v*ae+g*q,s[3]=x*C+A*M+E*H+b*O,s[7]=x*P+A*D+E*$+b*j,s[11]=x*L+A*z+E*Z+b*K,s[15]=x*N+A*W+E*ae+b*q,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],f=e[6],p=e[10],m=e[14],y=e[3],S=e[7],v=e[11],g=e[15];return y*(+s*l*f-i*c*f-s*a*p+r*c*p+i*a*m-r*l*m)+S*(+t*l*m-t*c*p+s*o*p-i*o*m+i*c*u-s*l*u)+v*(+t*c*f-t*a*m-s*o*f+r*o*m+s*a*u-r*c*u)+g*(-i*a*u-t*l*f+t*a*p+i*o*f-r*o*p+r*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],f=e[9],p=e[10],m=e[11],y=e[12],S=e[13],v=e[14],g=e[15],x=f*v*c-S*p*c+S*l*m-a*v*m-f*l*g+a*p*g,A=y*p*c-u*v*c-y*l*m+o*v*m+u*l*g-o*p*g,E=u*S*c-y*f*c+y*a*m-o*S*m-u*a*g+o*f*g,b=y*f*l-u*S*l-y*a*p+o*S*p+u*a*v-o*f*v,C=t*x+r*A+i*E+s*b;if(C===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const P=1/C;return e[0]=x*P,e[1]=(S*p*s-f*v*s-S*i*m+r*v*m+f*i*g-r*p*g)*P,e[2]=(a*v*s-S*l*s+S*i*c-r*v*c-a*i*g+r*l*g)*P,e[3]=(f*l*s-a*p*s-f*i*c+r*p*c+a*i*m-r*l*m)*P,e[4]=A*P,e[5]=(u*v*s-y*p*s+y*i*m-t*v*m-u*i*g+t*p*g)*P,e[6]=(y*l*s-o*v*s-y*i*c+t*v*c+o*i*g-t*l*g)*P,e[7]=(o*p*s-u*l*s+u*i*c-t*p*c-o*i*m+t*l*m)*P,e[8]=E*P,e[9]=(y*f*s-u*S*s-y*r*m+t*S*m+u*r*g-t*f*g)*P,e[10]=(o*S*s-y*a*s+y*r*c-t*S*c-o*r*g+t*a*g)*P,e[11]=(u*a*s-o*f*s-u*r*c+t*f*c+o*r*m-t*a*m)*P,e[12]=b*P,e[13]=(u*S*i-y*f*i+y*r*p-t*S*p-u*r*v+t*f*v)*P,e[14]=(y*a*i-o*S*i-y*r*l+t*S*l+o*r*v-t*a*v)*P,e[15]=(o*f*i-u*a*i+u*r*l-t*f*l-o*r*p+t*a*p)*P,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+r,c*a-i*l,c*l+i*a,0,c*a+i*l,u*a+r,u*l-i*o,0,c*l-i*a,u*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,u=o+o,f=a+a,p=s*c,m=s*u,y=s*f,S=o*u,v=o*f,g=a*f,x=l*c,A=l*u,E=l*f,b=r.x,C=r.y,P=r.z;return i[0]=(1-(S+g))*b,i[1]=(m+E)*b,i[2]=(y-A)*b,i[3]=0,i[4]=(m-E)*C,i[5]=(1-(p+g))*C,i[6]=(v+x)*C,i[7]=0,i[8]=(y+A)*P,i[9]=(v-x)*P,i[10]=(1-(p+S))*P,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let s=ku.set(i[0],i[1],i[2]).length();const o=ku.set(i[4],i[5],i[6]).length(),a=ku.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],Ns.copy(this);const c=1/s,u=1/o,f=1/a;return Ns.elements[0]*=c,Ns.elements[1]*=c,Ns.elements[2]*=c,Ns.elements[4]*=u,Ns.elements[5]*=u,Ns.elements[6]*=u,Ns.elements[8]*=f,Ns.elements[9]*=f,Ns.elements[10]*=f,t.setFromRotationMatrix(Ns),r.x=s,r.y=o,r.z=a,this}makePerspective(e,t,r,i,s,o,a=vo){const l=this.elements,c=2*s/(t-e),u=2*s/(r-i),f=(t+e)/(t-e),p=(r+i)/(r-i);let m,y;if(a===vo)m=-(o+s)/(o-s),y=-2*o*s/(o-s);else if(a===fm)m=-o/(o-s),y=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=c,l[4]=0,l[8]=f,l[12]=0,l[1]=0,l[5]=u,l[9]=p,l[13]=0,l[2]=0,l[6]=0,l[10]=m,l[14]=y,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,r,i,s,o,a=vo){const l=this.elements,c=1/(t-e),u=1/(r-i),f=1/(o-s),p=(t+e)*c,m=(r+i)*u;let y,S;if(a===vo)y=(o+s)*f,S=-2*f;else if(a===fm)y=s*f,S=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-p,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-m,l[2]=0,l[6]=0,l[10]=S,l[14]=-y,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const ku=new k,Ns=new ht,Ste=new k(0,0,0),Ate=new k(1,1,1),Ba=new k,Vy=new k,zi=new k,lD=new ht,cD=new wr;class Wm{constructor(e=0,t=0,r=0,i=Wm.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],c=i[5],u=i[9],f=i[2],p=i[6],m=i[10];switch(t){case"XYZ":this._y=Math.asin(Vn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Vn(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(Vn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-f,m),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Vn(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(Vn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-Vn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return lD.makeRotationFromQuaternion(e),this.setFromRotationMatrix(lD,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return cD.setFromEuler(this),this.setFromQuaternion(cD,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Wm.DEFAULT_ORDER="XYZ";class Vc{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let wte=0;const uD=new k,Uu=new wr,Xo=new ht,zy=new k,xd=new k,Ete=new k,Tte=new wr,hD=new k(1,0,0),fD=new k(0,1,0),dD=new k(0,0,1),Mte={type:"added"},Cte={type:"removed"};class Kt extends Bo{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:wte++}),this.uuid=Yi(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Kt.DEFAULT_UP.clone();const e=new k,t=new Wm,r=new wr,i=new k(1,1,1);function s(){r.setFromEuler(t,!1)}function o(){t.setFromQuaternion(r,void 0,!1)}t._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new ht},normalMatrix:{value:new Ot}}),this.matrix=new ht,this.matrixWorld=new ht,this.matrixAutoUpdate=Kt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Kt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Vc,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Uu.setFromAxisAngle(e,t),this.quaternion.multiply(Uu),this}rotateOnWorldAxis(e,t){return Uu.setFromAxisAngle(e,t),this.quaternion.premultiply(Uu),this}rotateX(e){return this.rotateOnAxis(hD,e)}rotateY(e){return this.rotateOnAxis(fD,e)}rotateZ(e){return this.rotateOnAxis(dD,e)}translateOnAxis(e,t){return uD.copy(e).applyQuaternion(this.quaternion),this.position.add(uD.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(hD,e)}translateY(e){return this.translateOnAxis(fD,e)}translateZ(e){return this.translateOnAxis(dD,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Xo.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?zy.copy(e):zy.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),xd.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Xo.lookAt(xd,zy,this.up):Xo.lookAt(zy,xd,this.up),this.quaternion.setFromRotationMatrix(Xo),i&&(Xo.extractRotation(i.matrixWorld),Uu.setFromRotationMatrix(Xo),this.quaternion.premultiply(Uu.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Mte)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(Cte)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Xo.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Xo.multiply(e.parent.matrixWorld)),e.applyMatrix4(Xo),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t,r=[]){this[e]===t&&r.push(this);const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].getObjectsByProperty(e,t,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(xd,e,Ete),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(xd,Tte,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++){const s=t[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(a=>({boxInitialized:a.boxInitialized,boxMin:a.box.min.toArray(),boxMax:a.box.max.toArray(),sphereInitialized:a.sphereInitialized,sphereRadius:a.sphere.radius,sphereCenter:a.sphere.center.toArray()})),i.maxGeometryCount=this._maxGeometryCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const f=l[c];s(e.shapes,f)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),f=o(e.shapes),p=o(e.skeletons),m=o(e.animations),y=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),f.length>0&&(r.shapes=f),p.length>0&&(r.skeletons=p),m.length>0&&(r.animations=m),y.length>0&&(r.nodes=y)}return r.object=i,r;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Kt.DEFAULT_UP=new k(0,1,0);Kt.DEFAULT_MATRIX_AUTO_UPDATE=!0;Kt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Os=new k,Ko=new k,OA=new k,Jo=new k,Vu=new k,zu=new k,pD=new k,FA=new k,kA=new k,UA=new k;class Wi{constructor(e=new k,t=new k,r=new k){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),Os.subVectors(e,t),i.cross(Os);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,r,i,s){Os.subVectors(i,t),Ko.subVectors(r,t),OA.subVectors(e,t);const o=Os.dot(Os),a=Os.dot(Ko),l=Os.dot(OA),c=Ko.dot(Ko),u=Ko.dot(OA),f=o*c-a*a;if(f===0)return s.set(0,0,0),null;const p=1/f,m=(c*l-a*u)*p,y=(o*u-a*l)*p;return s.set(1-m-y,y,m)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,Jo)===null?!1:Jo.x>=0&&Jo.y>=0&&Jo.x+Jo.y<=1}static getInterpolation(e,t,r,i,s,o,a,l){return this.getBarycoord(e,t,r,i,Jo)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,Jo.x),l.addScaledVector(o,Jo.y),l.addScaledVector(a,Jo.z),l)}static isFrontFacing(e,t,r,i){return Os.subVectors(r,t),Ko.subVectors(e,t),Os.cross(Ko).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Os.subVectors(this.c,this.b),Ko.subVectors(this.a,this.b),Os.cross(Ko).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Wi.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Wi.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,r,i,s){return Wi.getInterpolation(e,this.a,this.b,this.c,t,r,i,s)}containsPoint(e){return Wi.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Wi.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,s=this.c;let o,a;Vu.subVectors(i,r),zu.subVectors(s,r),FA.subVectors(e,r);const l=Vu.dot(FA),c=zu.dot(FA);if(l<=0&&c<=0)return t.copy(r);kA.subVectors(e,i);const u=Vu.dot(kA),f=zu.dot(kA);if(u>=0&&f<=u)return t.copy(i);const p=l*f-u*c;if(p<=0&&l>=0&&u<=0)return o=l/(l-u),t.copy(r).addScaledVector(Vu,o);UA.subVectors(e,s);const m=Vu.dot(UA),y=zu.dot(UA);if(y>=0&&m<=y)return t.copy(s);const S=m*c-l*y;if(S<=0&&c>=0&&y<=0)return a=c/(c-y),t.copy(r).addScaledVector(zu,a);const v=u*y-m*f;if(v<=0&&f-u>=0&&m-y>=0)return pD.subVectors(s,i),a=(f-u)/(f-u+(m-y)),t.copy(i).addScaledVector(pD,a);const g=1/(v+S+p);return o=S*g,a=p*g,t.copy(r).addScaledVector(Vu,o).addScaledVector(zu,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const s6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Na={h:0,s:0,l:0},Hy={h:0,s:0,l:0};function VA(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class Ve{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,r)}set(e,t,r){if(t===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,t,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=cr){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,sn.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=sn.workingColorSpace){return this.r=e,this.g=t,this.b=r,sn.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=sn.workingColorSpace){if(e=o2(e,1),t=Vn(t,0,1),r=Vn(r,0,1),t===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+t):r+t-r*t,o=2*r-s;this.r=VA(o,s,e+1/3),this.g=VA(o,s,e),this.b=VA(o,s,e-1/3)}return sn.toWorkingColorSpace(this,i),this}setStyle(e,t=cr){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=cr){const r=s6[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Wh(e.r),this.g=Wh(e.g),this.b=Wh(e.b),this}copyLinearToSRGB(e){return this.r=bA(e.r),this.g=bA(e.g),this.b=bA(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=cr){return sn.fromWorkingColorSpace($r.copy(this),e),Math.round(Vn($r.r*255,0,255))*65536+Math.round(Vn($r.g*255,0,255))*256+Math.round(Vn($r.b*255,0,255))}getHexString(e=cr){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=sn.workingColorSpace){sn.fromWorkingColorSpace($r.copy(this),t);const r=$r.r,i=$r.g,s=$r.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const f=o-a;switch(c=u<=.5?f/(o+a):f/(2-o-a),o){case r:l=(i-s)/f+(i<s?6:0);break;case i:l=(s-r)/f+2;break;case s:l=(r-i)/f+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,t=sn.workingColorSpace){return sn.fromWorkingColorSpace($r.copy(this),t),e.r=$r.r,e.g=$r.g,e.b=$r.b,e}getStyle(e=cr){sn.fromWorkingColorSpace($r.copy(this),e);const t=$r.r,r=$r.g,i=$r.b;return e!==cr?`color(${e} ${t.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,t,r){return this.getHSL(Na),this.setHSL(Na.h+e,Na.s+t,Na.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(Na),e.getHSL(Hy);const r=hp(Na.h,Hy.h,t),i=hp(Na.s,Hy.s,t),s=hp(Na.l,Hy.l,t);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*t+s[3]*r+s[6]*i,this.g=s[1]*t+s[4]*r+s[7]*i,this.b=s[2]*t+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const $r=new Ve;Ve.NAMES=s6;let bte=0;class sr extends Bo{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:bte++}),this.uuid=Yi(),this.name="",this.type="Material",this.blending=Fc,this.side=Io,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=p_,this.blendDst=m_,this.blendEquation=$a,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Ve(0,0,0),this.blendAlpha=0,this.depthFunc=rm,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=uM,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=dc,this.stencilZFail=dc,this.stencilZPass=dc,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Fc&&(r.blending=this.blending),this.side!==Io&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==p_&&(r.blendSrc=this.blendSrc),this.blendDst!==m_&&(r.blendDst=this.blendDst),this.blendEquation!==$a&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==rm&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==uM&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==dc&&(r.stencilFail=this.stencilFail),this.stencilZFail!==dc&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==dc&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Ji extends sr{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ve(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Gm,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Zo=Rte();function Rte(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,s[l]=c|u}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function Ci(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Vn(n,-65504,65504),Zo.floatView[0]=n;const e=Zo.uint32View[0],t=e>>23&511;return Zo.baseTable[t]+((e&8388607)>>Zo.shiftTable[t])}function Xd(n){const e=n>>10;return Zo.uint32View[0]=Zo.mantissaTable[Zo.offsetTable[e]+(n&1023)]+Zo.exponentTable[e],Zo.floatView[0]}const Pte={toHalfFloat:Ci,fromHalfFloat:Xd},Qn=new k,Gy=new _e;class Jt{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=hm,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=Es,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return Uc("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)Gy.fromBufferAttribute(this,t),Gy.applyMatrix3(e),this.setXY(t,Gy.x,Gy.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)Qn.fromBufferAttribute(this,t),Qn.applyMatrix3(e),this.setXYZ(t,Qn.x,Qn.y,Qn.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)Qn.fromBufferAttribute(this,t),Qn.applyMatrix4(e),this.setXYZ(t,Qn.x,Qn.y,Qn.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Qn.fromBufferAttribute(this,t),Qn.applyNormalMatrix(e),this.setXYZ(t,Qn.x,Qn.y,Qn.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Qn.fromBufferAttribute(this,t),Qn.transformDirection(e),this.setXYZ(t,Qn.x,Qn.y,Qn.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let r=this.array[e*this.itemSize+t];return this.normalized&&(r=yi(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=Pt(r,this.array)),this.array[e*this.itemSize+t]=r,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=yi(t,this.array)),t}setX(e,t){return this.normalized&&(t=Pt(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=yi(t,this.array)),t}setY(e,t){return this.normalized&&(t=Pt(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=yi(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Pt(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=yi(t,this.array)),t}setW(e,t){return this.normalized&&(t=Pt(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=Pt(t,this.array),r=Pt(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=Pt(t,this.array),r=Pt(r,this.array),i=Pt(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=Pt(t,this.array),r=Pt(r,this.array),i=Pt(i,this.array),s=Pt(s,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==hm&&(e.usage=this.usage),e}}class Ite extends Jt{constructor(e,t,r){super(new Int8Array(e),t,r)}}class Lte extends Jt{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class Dte extends Jt{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class Bte extends Jt{constructor(e,t,r){super(new Int16Array(e),t,r)}}class c2 extends Jt{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class Nte extends Jt{constructor(e,t,r){super(new Int32Array(e),t,r)}}class u2 extends Jt{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class Ote extends Jt{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}getX(e){let t=Xd(this.array[e*this.itemSize]);return this.normalized&&(t=yi(t,this.array)),t}setX(e,t){return this.normalized&&(t=Pt(t,this.array)),this.array[e*this.itemSize]=Ci(t),this}getY(e){let t=Xd(this.array[e*this.itemSize+1]);return this.normalized&&(t=yi(t,this.array)),t}setY(e,t){return this.normalized&&(t=Pt(t,this.array)),this.array[e*this.itemSize+1]=Ci(t),this}getZ(e){let t=Xd(this.array[e*this.itemSize+2]);return this.normalized&&(t=yi(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Pt(t,this.array)),this.array[e*this.itemSize+2]=Ci(t),this}getW(e){let t=Xd(this.array[e*this.itemSize+3]);return this.normalized&&(t=yi(t,this.array)),t}setW(e,t){return this.normalized&&(t=Pt(t,this.array)),this.array[e*this.itemSize+3]=Ci(t),this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=Pt(t,this.array),r=Pt(r,this.array)),this.array[e+0]=Ci(t),this.array[e+1]=Ci(r),this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=Pt(t,this.array),r=Pt(r,this.array),i=Pt(i,this.array)),this.array[e+0]=Ci(t),this.array[e+1]=Ci(r),this.array[e+2]=Ci(i),this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=Pt(t,this.array),r=Pt(r,this.array),i=Pt(i,this.array),s=Pt(s,this.array)),this.array[e+0]=Ci(t),this.array[e+1]=Ci(r),this.array[e+2]=Ci(i),this.array[e+3]=Ci(s),this}}class rt extends Jt{constructor(e,t,r){super(new Float32Array(e),t,r)}}class Fte extends Jt{constructor(e,t,r){super(new Float64Array(e),t,r)}}let kte=0;const gs=new ht,zA=new Kt,Hu=new k,Hi=new ni,Sd=new ni,_r=new k;class Rt extends Bo{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:kte++}),this.uuid=Yi(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(n6(e)?u2:c2)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new Ot().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return gs.makeRotationFromQuaternion(e),this.applyMatrix4(gs),this}rotateX(e){return gs.makeRotationX(e),this.applyMatrix4(gs),this}rotateY(e){return gs.makeRotationY(e),this.applyMatrix4(gs),this}rotateZ(e){return gs.makeRotationZ(e),this.applyMatrix4(gs),this}translate(e,t,r){return gs.makeTranslation(e,t,r),this.applyMatrix4(gs),this}scale(e,t,r){return gs.makeScale(e,t,r),this.applyMatrix4(gs),this}lookAt(e){return zA.lookAt(e),zA.updateMatrix(),this.applyMatrix4(zA.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Hu).negate(),this.translate(Hu.x,Hu.y,Hu.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new rt(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ni);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new k(-1/0,-1/0,-1/0),new k(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const s=t[r];Hi.setFromBufferAttribute(s),this.morphTargetsRelative?(_r.addVectors(this.boundingBox.min,Hi.min),this.boundingBox.expandByPoint(_r),_r.addVectors(this.boundingBox.max,Hi.max),this.boundingBox.expandByPoint(_r)):(this.boundingBox.expandByPoint(Hi.min),this.boundingBox.expandByPoint(Hi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ur);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new k,1/0);return}if(e){const r=this.boundingSphere.center;if(Hi.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];Sd.setFromBufferAttribute(a),this.morphTargetsRelative?(_r.addVectors(Hi.min,Sd.min),Hi.expandByPoint(_r),_r.addVectors(Hi.max,Sd.max),Hi.expandByPoint(_r)):(Hi.expandByPoint(Sd.min),Hi.expandByPoint(Sd.max))}Hi.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)_r.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(_r));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)_r.fromBufferAttribute(a,c),l&&(Hu.fromBufferAttribute(e,c),_r.add(Hu)),i=Math.max(i,r.distanceToSquared(_r))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=t.position.array,s=t.normal.array,o=t.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Jt(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let M=0;M<a;M++)c[M]=new k,u[M]=new k;const f=new k,p=new k,m=new k,y=new _e,S=new _e,v=new _e,g=new k,x=new k;function A(M,D,z){f.fromArray(i,M*3),p.fromArray(i,D*3),m.fromArray(i,z*3),y.fromArray(o,M*2),S.fromArray(o,D*2),v.fromArray(o,z*2),p.sub(f),m.sub(f),S.sub(y),v.sub(y);const W=1/(S.x*v.y-v.x*S.y);isFinite(W)&&(g.copy(p).multiplyScalar(v.y).addScaledVector(m,-S.y).multiplyScalar(W),x.copy(m).multiplyScalar(S.x).addScaledVector(p,-v.x).multiplyScalar(W),c[M].add(g),c[D].add(g),c[z].add(g),u[M].add(x),u[D].add(x),u[z].add(x))}let E=this.groups;E.length===0&&(E=[{start:0,count:r.length}]);for(let M=0,D=E.length;M<D;++M){const z=E[M],W=z.start,H=z.count;for(let $=W,Z=W+H;$<Z;$+=3)A(r[$+0],r[$+1],r[$+2])}const b=new k,C=new k,P=new k,L=new k;function N(M){P.fromArray(s,M*3),L.copy(P);const D=c[M];b.copy(D),b.sub(P.multiplyScalar(P.dot(D))).normalize(),C.crossVectors(L,D);const W=C.dot(u[M])<0?-1:1;l[M*4]=b.x,l[M*4+1]=b.y,l[M*4+2]=b.z,l[M*4+3]=W}for(let M=0,D=E.length;M<D;++M){const z=E[M],W=z.start,H=z.count;for(let $=W,Z=W+H;$<Z;$+=3)N(r[$+0]),N(r[$+1]),N(r[$+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Jt(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let p=0,m=r.count;p<m;p++)r.setXYZ(p,0,0,0);const i=new k,s=new k,o=new k,a=new k,l=new k,c=new k,u=new k,f=new k;if(e)for(let p=0,m=e.count;p<m;p+=3){const y=e.getX(p+0),S=e.getX(p+1),v=e.getX(p+2);i.fromBufferAttribute(t,y),s.fromBufferAttribute(t,S),o.fromBufferAttribute(t,v),u.subVectors(o,s),f.subVectors(i,s),u.cross(f),a.fromBufferAttribute(r,y),l.fromBufferAttribute(r,S),c.fromBufferAttribute(r,v),a.add(u),l.add(u),c.add(u),r.setXYZ(y,a.x,a.y,a.z),r.setXYZ(S,l.x,l.y,l.z),r.setXYZ(v,c.x,c.y,c.z)}else for(let p=0,m=t.count;p<m;p+=3)i.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),u.subVectors(o,s),f.subVectors(i,s),u.cross(f),r.setXYZ(p+0,u.x,u.y,u.z),r.setXYZ(p+1,u.x,u.y,u.z),r.setXYZ(p+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)_r.fromBufferAttribute(e,t),_r.normalize(),e.setXYZ(t,_r.x,_r.y,_r.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,f=a.normalized,p=new c.constructor(l.length*u);let m=0,y=0;for(let S=0,v=l.length;S<v;S++){a.isInterleavedBufferAttribute?m=l[S]*a.data.stride+a.offset:m=l[S]*u;for(let g=0;g<u;g++)p[y++]=c[m++]}return new Jt(p,u,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Rt,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,r);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,f=c.length;u<f;u++){const p=c[u],m=e(p,r);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let f=0,p=c.length;f<p;f++){const m=c[f];u.push(m.toJSON(e.data))}u.length>0&&(i[l]=u,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(t))}const s=e.morphAttributes;for(const c in s){const u=[],f=s[c];for(let p=0,m=f.length;p<m;p++)u.push(f[p].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const f=o[c];this.addGroup(f.start,f.count,f.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const mD=new ht,ql=new lu,jy=new Ur,gD=new k,Gu=new k,ju=new k,Wu=new k,HA=new k,Wy=new k,Xy=new _e,Ky=new _e,Jy=new _e,yD=new k,vD=new k,_D=new k,$y=new k,Yy=new k;class Jn extends Kt{constructor(e=new Rt,t=new Ji){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;t.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){Wy.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const u=a[l],f=s[l];u!==0&&(HA.fromBufferAttribute(f,e),o?Wy.addScaledVector(HA,u):Wy.addScaledVector(HA.sub(t),u))}t.add(Wy)}return t}raycast(e,t){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),jy.copy(r.boundingSphere),jy.applyMatrix4(s),ql.copy(e.ray).recast(e.near),!(jy.containsPoint(ql.origin)===!1&&(ql.intersectSphere(jy,gD)===null||ql.origin.distanceToSquared(gD)>(e.far-e.near)**2))&&(mD.copy(s).invert(),ql.copy(e.ray).applyMatrix4(mD),!(r.boundingBox!==null&&ql.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,t,ql)))}_computeIntersections(e,t,r){let i;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,c=s.attributes.uv,u=s.attributes.uv1,f=s.attributes.normal,p=s.groups,m=s.drawRange;if(a!==null)if(Array.isArray(o))for(let y=0,S=p.length;y<S;y++){const v=p[y],g=o[v.materialIndex],x=Math.max(v.start,m.start),A=Math.min(a.count,Math.min(v.start+v.count,m.start+m.count));for(let E=x,b=A;E<b;E+=3){const C=a.getX(E),P=a.getX(E+1),L=a.getX(E+2);i=qy(this,g,e,r,c,u,f,C,P,L),i&&(i.faceIndex=Math.floor(E/3),i.face.materialIndex=v.materialIndex,t.push(i))}}else{const y=Math.max(0,m.start),S=Math.min(a.count,m.start+m.count);for(let v=y,g=S;v<g;v+=3){const x=a.getX(v),A=a.getX(v+1),E=a.getX(v+2);i=qy(this,o,e,r,c,u,f,x,A,E),i&&(i.faceIndex=Math.floor(v/3),t.push(i))}}else if(l!==void 0)if(Array.isArray(o))for(let y=0,S=p.length;y<S;y++){const v=p[y],g=o[v.materialIndex],x=Math.max(v.start,m.start),A=Math.min(l.count,Math.min(v.start+v.count,m.start+m.count));for(let E=x,b=A;E<b;E+=3){const C=E,P=E+1,L=E+2;i=qy(this,g,e,r,c,u,f,C,P,L),i&&(i.faceIndex=Math.floor(E/3),i.face.materialIndex=v.materialIndex,t.push(i))}}else{const y=Math.max(0,m.start),S=Math.min(l.count,m.start+m.count);for(let v=y,g=S;v<g;v+=3){const x=v,A=v+1,E=v+2;i=qy(this,o,e,r,c,u,f,x,A,E),i&&(i.faceIndex=Math.floor(v/3),t.push(i))}}}}function Ute(n,e,t,r,i,s,o,a){let l;if(e.side===xi?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===Io,a),l===null)return null;Yy.copy(a),Yy.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(Yy);return c<t.near||c>t.far?null:{distance:c,point:Yy.clone(),object:n}}function qy(n,e,t,r,i,s,o,a,l,c){n.getVertexPosition(a,Gu),n.getVertexPosition(l,ju),n.getVertexPosition(c,Wu);const u=Ute(n,e,t,r,Gu,ju,Wu,$y);if(u){i&&(Xy.fromBufferAttribute(i,a),Ky.fromBufferAttribute(i,l),Jy.fromBufferAttribute(i,c),u.uv=Wi.getInterpolation($y,Gu,ju,Wu,Xy,Ky,Jy,new _e)),s&&(Xy.fromBufferAttribute(s,a),Ky.fromBufferAttribute(s,l),Jy.fromBufferAttribute(s,c),u.uv1=Wi.getInterpolation($y,Gu,ju,Wu,Xy,Ky,Jy,new _e),u.uv2=u.uv1),o&&(yD.fromBufferAttribute(o,a),vD.fromBufferAttribute(o,l),_D.fromBufferAttribute(o,c),u.normal=Wi.getInterpolation($y,Gu,ju,Wu,yD,vD,_D,new k),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const f={a,b:l,c,normal:new k,materialIndex:0};Wi.getNormal(Gu,ju,Wu,f.normal),u.face=f}return u}class cu extends Rt{constructor(e=1,t=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],f=[];let p=0,m=0;y("z","y","x",-1,-1,r,t,e,o,s,0),y("z","y","x",1,-1,r,t,-e,o,s,1),y("x","z","y",1,1,e,r,t,i,o,2),y("x","z","y",1,-1,e,r,-t,i,o,3),y("x","y","z",1,-1,e,t,r,i,s,4),y("x","y","z",-1,-1,e,t,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new rt(c,3)),this.setAttribute("normal",new rt(u,3)),this.setAttribute("uv",new rt(f,2));function y(S,v,g,x,A,E,b,C,P,L,N){const M=E/P,D=b/L,z=E/2,W=b/2,H=C/2,$=P+1,Z=L+1;let ae=0,O=0;const j=new k;for(let K=0;K<Z;K++){const q=K*D-W;for(let te=0;te<$;te++){const Me=te*M-z;j[S]=Me*x,j[v]=q*A,j[g]=H,c.push(j.x,j.y,j.z),j[S]=0,j[v]=0,j[g]=C>0?1:-1,u.push(j.x,j.y,j.z),f.push(te/P),f.push(1-K/L),ae+=1}}for(let K=0;K<L;K++)for(let q=0;q<P;q++){const te=p+q+$*K,Me=p+q+$*(K+1),ne=p+(q+1)+$*(K+1),de=p+(q+1)+$*K;l.push(te,Me,de),l.push(Me,ne,de),O+=6}a.addGroup(m,O,N),m+=O,p+=ae}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new cu(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function gf(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][r]=null):e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function fi(n){const e={};for(let t=0;t<n.length;t++){const r=gf(n[t]);for(const i in r)e[i]=r[i]}return e}function Vte(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function o6(n){return n.getRenderTarget()===null?n.outputColorSpace:sn.workingColorSpace}const a6={clone:gf,merge:fi};var zte=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Hte=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Ys extends sr{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=zte,this.fragmentShader=Hte,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1,clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=gf(e.uniforms),this.uniformsGroups=Vte(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class Xm extends Kt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new ht,this.projectionMatrix=new ht,this.projectionMatrixInverse=new ht,this.coordinateSystem=vo}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Oa=new k,xD=new _e,SD=new _e;class xn extends Xm{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=mf*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(kc*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return mf*2*Math.atan(Math.tan(kc*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,r){Oa.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Oa.x,Oa.y).multiplyScalar(-e/Oa.z),Oa.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(Oa.x,Oa.y).multiplyScalar(-e/Oa.z)}getViewSize(e,t){return this.getViewBounds(e,xD,SD),t.subVectors(SD,xD)}setViewOffset(e,t,r,i,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(kc*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*i/l,t-=o.offsetY*r/c,i*=o.width/l,r*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Xu=-90,Ku=1;class h2 extends Kt{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new xn(Xu,Ku,e,t);i.layers=this.layers,this.add(i);const s=new xn(Xu,Ku,e,t);s.layers=this.layers,this.add(s);const o=new xn(Xu,Ku,e,t);o.layers=this.layers,this.add(o);const a=new xn(Xu,Ku,e,t);a.layers=this.layers,this.add(a);const l=new xn(Xu,Ku,e,t);l.layers=this.layers,this.add(l);const c=new xn(Xu,Ku,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[r,i,s,o,a,l]=t;for(const c of t)this.remove(c);if(e===vo)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===fm)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,c,u]=this.children,f=e.getRenderTarget(),p=e.getActiveCubeFace(),m=e.getActiveMipmapLevel(),y=e.xr.enabled;e.xr.enabled=!1;const S=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(t,s),e.setRenderTarget(r,1,i),e.render(t,o),e.setRenderTarget(r,2,i),e.render(t,a),e.setRenderTarget(r,3,i),e.render(t,l),e.setRenderTarget(r,4,i),e.render(t,c),r.texture.generateMipmaps=S,e.setRenderTarget(r,5,i),e.render(t,u),e.setRenderTarget(f,p,m),e.xr.enabled=y,r.texture.needsPMREMUpdate=!0}}class Km extends An{constructor(e,t,r,i,s,o,a,l,c,u){e=e!==void 0?e:[],t=t!==void 0?t:va,super(e,t,r,i,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class f2 extends $s{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];t.encoding!==void 0&&(Uc("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===gl?cr:ji),this.texture=new Km(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:vn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new cu(5,5,5),s=new Ys({name:"CubemapFromEquirect",uniforms:gf(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:xi,blending:ca});s.uniforms.tEquirect.value=t;const o=new Jn(i,s),a=t.minFilter;return t.minFilter===Ms&&(t.minFilter=vn),new h2(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,r,i);e.setRenderTarget(s)}}const GA=new k,Gte=new k,jte=new Ot;class Qo{constructor(e=new k(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=GA.subVectors(r,t).cross(Gte.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const r=e.delta(GA),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||jte.getNormalMatrix(e),i=this.coplanarPoint(GA).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Ql=new Ur,Qy=new k;class Jm{constructor(e=new Qo,t=new Qo,r=new Qo,i=new Qo,s=new Qo,o=new Qo){this.planes=[e,t,r,i,s,o]}set(e,t,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,t=vo){const r=this.planes,i=e.elements,s=i[0],o=i[1],a=i[2],l=i[3],c=i[4],u=i[5],f=i[6],p=i[7],m=i[8],y=i[9],S=i[10],v=i[11],g=i[12],x=i[13],A=i[14],E=i[15];if(r[0].setComponents(l-s,p-c,v-m,E-g).normalize(),r[1].setComponents(l+s,p+c,v+m,E+g).normalize(),r[2].setComponents(l+o,p+u,v+y,E+x).normalize(),r[3].setComponents(l-o,p-u,v-y,E-x).normalize(),r[4].setComponents(l-a,p-f,v-S,E-A).normalize(),t===vo)r[5].setComponents(l+a,p+f,v+S,E+A).normalize();else if(t===fm)r[5].setComponents(a,f,S,A).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Ql.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Ql.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Ql)}intersectsSprite(e){return Ql.center.set(0,0,0),Ql.radius=.7071067811865476,Ql.applyMatrix4(e.matrixWorld),this.intersectsSphere(Ql)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(Qy.x=i.normal.x>0?e.max.x:e.min.x,Qy.y=i.normal.y>0?e.max.y:e.min.y,Qy.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Qy)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function l6(){let n=null,e=!1,t=null,r=null;function i(s,o){t(s,o),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function Wte(n,e){const t=e.isWebGL2,r=new WeakMap;function i(c,u){const f=c.array,p=c.usage,m=f.byteLength,y=n.createBuffer();n.bindBuffer(u,y),n.bufferData(u,f,p),c.onUploadCallback();let S;if(f instanceof Float32Array)S=n.FLOAT;else if(f instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(t)S=n.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else S=n.UNSIGNED_SHORT;else if(f instanceof Int16Array)S=n.SHORT;else if(f instanceof Uint32Array)S=n.UNSIGNED_INT;else if(f instanceof Int32Array)S=n.INT;else if(f instanceof Int8Array)S=n.BYTE;else if(f instanceof Uint8Array)S=n.UNSIGNED_BYTE;else if(f instanceof Uint8ClampedArray)S=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:y,type:S,bytesPerElement:f.BYTES_PER_ELEMENT,version:c.version,size:m}}function s(c,u,f){const p=u.array,m=u._updateRange,y=u.updateRanges;if(n.bindBuffer(f,c),m.count===-1&&y.length===0&&n.bufferSubData(f,0,p),y.length!==0){for(let S=0,v=y.length;S<v;S++){const g=y[S];t?n.bufferSubData(f,g.start*p.BYTES_PER_ELEMENT,p,g.start,g.count):n.bufferSubData(f,g.start*p.BYTES_PER_ELEMENT,p.subarray(g.start,g.start+g.count))}u.clearUpdateRanges()}m.count!==-1&&(t?n.bufferSubData(f,m.offset*p.BYTES_PER_ELEMENT,p,m.offset,m.count):n.bufferSubData(f,m.offset*p.BYTES_PER_ELEMENT,p.subarray(m.offset,m.offset+m.count)),m.count=-1),u.onUploadCallback()}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=r.get(c);u&&(n.deleteBuffer(u.buffer),r.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const p=r.get(c);(!p||p.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const f=r.get(c);if(f===void 0)r.set(c,i(c,u));else if(f.version<c.version){if(f.size!==c.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");s(f.buffer,c,u),f.version=c.version}}return{get:o,remove:a,update:l}}class Of extends Rt{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const s=e/2,o=t/2,a=Math.floor(r),l=Math.floor(i),c=a+1,u=l+1,f=e/a,p=t/l,m=[],y=[],S=[],v=[];for(let g=0;g<u;g++){const x=g*p-o;for(let A=0;A<c;A++){const E=A*f-s;y.push(E,-x,0),S.push(0,0,1),v.push(A/a),v.push(1-g/l)}}for(let g=0;g<l;g++)for(let x=0;x<a;x++){const A=x+c*g,E=x+c*(g+1),b=x+1+c*(g+1),C=x+1+c*g;m.push(A,E,C),m.push(E,b,C)}this.setIndex(m),this.setAttribute("position",new rt(y,3)),this.setAttribute("normal",new rt(S,3)),this.setAttribute("uv",new rt(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Of(e.width,e.height,e.widthSegments,e.heightSegments)}}var Xte=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Kte=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Jte=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,$te=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Yte=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,qte=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Qte=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Zte=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,ene=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,tne=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,nne=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,rne=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,ine=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,sne=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,one=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,ane=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,lne=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,cne=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,une=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,hne=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,fne=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,dne=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,pne=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,mne=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,gne=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,yne=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,vne=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,_ne=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,xne=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Sne=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Ane="gl_FragColor = linearToOutputTexel( gl_FragColor );",wne=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,Ene=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Tne=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Mne=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Cne=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,bne=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Rne=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Pne=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Ine=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Lne=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Dne=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Bne=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,Nne=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,One=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Fne=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,kne=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Une=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Vne=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,zne=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Hne=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Gne=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,jne=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,Wne=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Xne=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Kne=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Jne=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,$ne=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Yne=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,qne=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,Qne=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,Zne=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,ere=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,tre=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,nre=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,rre=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,ire=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,sre=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,ore=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,are=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,lre=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,cre=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,ure=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,hre=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,fre=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,dre=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,pre=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,mre=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,gre=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,yre=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,vre=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,_re=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,xre=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,Sre=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Are=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,wre=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Ere=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Tre=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Mre=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Cre=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,bre=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Rre=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Pre=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Ire=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Lre=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Dre=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Bre=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Nre=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Ore=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Fre=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,kre=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Ure=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Vre=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,zre=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Hre=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Gre=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,jre=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Wre=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Xre=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Kre=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Jre=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,$re=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Yre=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,qre=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Qre=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,Zre=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,eie=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,tie=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,nie=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,rie=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,iie=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,sie=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,oie=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,aie=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,lie=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,cie=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,uie=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,hie=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,fie=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,die=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,pie=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,mie=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,gie=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,yie=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,vie=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,_ie=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,xie=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Sie=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Aie=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,wie=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Eie=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Dt={alphahash_fragment:Xte,alphahash_pars_fragment:Kte,alphamap_fragment:Jte,alphamap_pars_fragment:$te,alphatest_fragment:Yte,alphatest_pars_fragment:qte,aomap_fragment:Qte,aomap_pars_fragment:Zte,batching_pars_vertex:ene,batching_vertex:tne,begin_vertex:nne,beginnormal_vertex:rne,bsdfs:ine,iridescence_fragment:sne,bumpmap_pars_fragment:one,clipping_planes_fragment:ane,clipping_planes_pars_fragment:lne,clipping_planes_pars_vertex:cne,clipping_planes_vertex:une,color_fragment:hne,color_pars_fragment:fne,color_pars_vertex:dne,color_vertex:pne,common:mne,cube_uv_reflection_fragment:gne,defaultnormal_vertex:yne,displacementmap_pars_vertex:vne,displacementmap_vertex:_ne,emissivemap_fragment:xne,emissivemap_pars_fragment:Sne,colorspace_fragment:Ane,colorspace_pars_fragment:wne,envmap_fragment:Ene,envmap_common_pars_fragment:Tne,envmap_pars_fragment:Mne,envmap_pars_vertex:Cne,envmap_physical_pars_fragment:Une,envmap_vertex:bne,fog_vertex:Rne,fog_pars_vertex:Pne,fog_fragment:Ine,fog_pars_fragment:Lne,gradientmap_pars_fragment:Dne,lightmap_fragment:Bne,lightmap_pars_fragment:Nne,lights_lambert_fragment:One,lights_lambert_pars_fragment:Fne,lights_pars_begin:kne,lights_toon_fragment:Vne,lights_toon_pars_fragment:zne,lights_phong_fragment:Hne,lights_phong_pars_fragment:Gne,lights_physical_fragment:jne,lights_physical_pars_fragment:Wne,lights_fragment_begin:Xne,lights_fragment_maps:Kne,lights_fragment_end:Jne,logdepthbuf_fragment:$ne,logdepthbuf_pars_fragment:Yne,logdepthbuf_pars_vertex:qne,logdepthbuf_vertex:Qne,map_fragment:Zne,map_pars_fragment:ere,map_particle_fragment:tre,map_particle_pars_fragment:nre,metalnessmap_fragment:rre,metalnessmap_pars_fragment:ire,morphcolor_vertex:sre,morphnormal_vertex:ore,morphtarget_pars_vertex:are,morphtarget_vertex:lre,normal_fragment_begin:cre,normal_fragment_maps:ure,normal_pars_fragment:hre,normal_pars_vertex:fre,normal_vertex:dre,normalmap_pars_fragment:pre,clearcoat_normal_fragment_begin:mre,clearcoat_normal_fragment_maps:gre,clearcoat_pars_fragment:yre,iridescence_pars_fragment:vre,opaque_fragment:_re,packing:xre,premultiplied_alpha_fragment:Sre,project_vertex:Are,dithering_fragment:wre,dithering_pars_fragment:Ere,roughnessmap_fragment:Tre,roughnessmap_pars_fragment:Mre,shadowmap_pars_fragment:Cre,shadowmap_pars_vertex:bre,shadowmap_vertex:Rre,shadowmask_pars_fragment:Pre,skinbase_vertex:Ire,skinning_pars_vertex:Lre,skinning_vertex:Dre,skinnormal_vertex:Bre,specularmap_fragment:Nre,specularmap_pars_fragment:Ore,tonemapping_fragment:Fre,tonemapping_pars_fragment:kre,transmission_fragment:Ure,transmission_pars_fragment:Vre,uv_pars_fragment:zre,uv_pars_vertex:Hre,uv_vertex:Gre,worldpos_vertex:jre,background_vert:Wre,background_frag:Xre,backgroundCube_vert:Kre,backgroundCube_frag:Jre,cube_vert:$re,cube_frag:Yre,depth_vert:qre,depth_frag:Qre,distanceRGBA_vert:Zre,distanceRGBA_frag:eie,equirect_vert:tie,equirect_frag:nie,linedashed_vert:rie,linedashed_frag:iie,meshbasic_vert:sie,meshbasic_frag:oie,meshlambert_vert:aie,meshlambert_frag:lie,meshmatcap_vert:cie,meshmatcap_frag:uie,meshnormal_vert:hie,meshnormal_frag:fie,meshphong_vert:die,meshphong_frag:pie,meshphysical_vert:mie,meshphysical_frag:gie,meshtoon_vert:yie,meshtoon_frag:vie,points_vert:_ie,points_frag:xie,shadow_vert:Sie,shadow_frag:Aie,sprite_vert:wie,sprite_frag:Eie},Oe={common:{diffuse:{value:new Ve(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Ot},alphaMap:{value:null},alphaMapTransform:{value:new Ot},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Ot}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Ot}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Ot}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Ot},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Ot},normalScale:{value:new _e(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Ot},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Ot}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Ot}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Ot}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ve(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ve(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Ot},alphaTest:{value:0},uvTransform:{value:new Ot}},sprite:{diffuse:{value:new Ve(16777215)},opacity:{value:1},center:{value:new _e(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Ot},alphaMap:{value:null},alphaMapTransform:{value:new Ot},alphaTest:{value:0}}},zs={basic:{uniforms:fi([Oe.common,Oe.specularmap,Oe.envmap,Oe.aomap,Oe.lightmap,Oe.fog]),vertexShader:Dt.meshbasic_vert,fragmentShader:Dt.meshbasic_frag},lambert:{uniforms:fi([Oe.common,Oe.specularmap,Oe.envmap,Oe.aomap,Oe.lightmap,Oe.emissivemap,Oe.bumpmap,Oe.normalmap,Oe.displacementmap,Oe.fog,Oe.lights,{emissive:{value:new Ve(0)}}]),vertexShader:Dt.meshlambert_vert,fragmentShader:Dt.meshlambert_frag},phong:{uniforms:fi([Oe.common,Oe.specularmap,Oe.envmap,Oe.aomap,Oe.lightmap,Oe.emissivemap,Oe.bumpmap,Oe.normalmap,Oe.displacementmap,Oe.fog,Oe.lights,{emissive:{value:new Ve(0)},specular:{value:new Ve(1118481)},shininess:{value:30}}]),vertexShader:Dt.meshphong_vert,fragmentShader:Dt.meshphong_frag},standard:{uniforms:fi([Oe.common,Oe.envmap,Oe.aomap,Oe.lightmap,Oe.emissivemap,Oe.bumpmap,Oe.normalmap,Oe.displacementmap,Oe.roughnessmap,Oe.metalnessmap,Oe.fog,Oe.lights,{emissive:{value:new Ve(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Dt.meshphysical_vert,fragmentShader:Dt.meshphysical_frag},toon:{uniforms:fi([Oe.common,Oe.aomap,Oe.lightmap,Oe.emissivemap,Oe.bumpmap,Oe.normalmap,Oe.displacementmap,Oe.gradientmap,Oe.fog,Oe.lights,{emissive:{value:new Ve(0)}}]),vertexShader:Dt.meshtoon_vert,fragmentShader:Dt.meshtoon_frag},matcap:{uniforms:fi([Oe.common,Oe.bumpmap,Oe.normalmap,Oe.displacementmap,Oe.fog,{matcap:{value:null}}]),vertexShader:Dt.meshmatcap_vert,fragmentShader:Dt.meshmatcap_frag},points:{uniforms:fi([Oe.points,Oe.fog]),vertexShader:Dt.points_vert,fragmentShader:Dt.points_frag},dashed:{uniforms:fi([Oe.common,Oe.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Dt.linedashed_vert,fragmentShader:Dt.linedashed_frag},depth:{uniforms:fi([Oe.common,Oe.displacementmap]),vertexShader:Dt.depth_vert,fragmentShader:Dt.depth_frag},normal:{uniforms:fi([Oe.common,Oe.bumpmap,Oe.normalmap,Oe.displacementmap,{opacity:{value:1}}]),vertexShader:Dt.meshnormal_vert,fragmentShader:Dt.meshnormal_frag},sprite:{uniforms:fi([Oe.sprite,Oe.fog]),vertexShader:Dt.sprite_vert,fragmentShader:Dt.sprite_frag},background:{uniforms:{uvTransform:{value:new Ot},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Dt.background_vert,fragmentShader:Dt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Dt.backgroundCube_vert,fragmentShader:Dt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Dt.cube_vert,fragmentShader:Dt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Dt.equirect_vert,fragmentShader:Dt.equirect_frag},distanceRGBA:{uniforms:fi([Oe.common,Oe.displacementmap,{referencePosition:{value:new k},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Dt.distanceRGBA_vert,fragmentShader:Dt.distanceRGBA_frag},shadow:{uniforms:fi([Oe.lights,Oe.fog,{color:{value:new Ve(0)},opacity:{value:1}}]),vertexShader:Dt.shadow_vert,fragmentShader:Dt.shadow_frag}};zs.physical={uniforms:fi([zs.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Ot},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Ot},clearcoatNormalScale:{value:new _e(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Ot},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Ot},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Ot},sheen:{value:0},sheenColor:{value:new Ve(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Ot},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Ot},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Ot},transmissionSamplerSize:{value:new _e},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Ot},attenuationDistance:{value:0},attenuationColor:{value:new Ve(0)},specularColor:{value:new Ve(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Ot},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Ot},anisotropyVector:{value:new _e},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Ot}}]),vertexShader:Dt.meshphysical_vert,fragmentShader:Dt.meshphysical_frag};const Zy={r:0,b:0,g:0};function Tie(n,e,t,r,i,s,o){const a=new Ve(0);let l=s===!0?0:1,c,u,f=null,p=0,m=null;function y(v,g){let x=!1,A=g.isScene===!0?g.background:null;A&&A.isTexture&&(A=(g.backgroundBlurriness>0?t:e).get(A)),A===null?S(a,l):A&&A.isColor&&(S(A,1),x=!0);const E=n.xr.getEnvironmentBlendMode();E==="additive"?r.buffers.color.setClear(0,0,0,1,o):E==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,o),(n.autoClear||x)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),A&&(A.isCubeTexture||A.mapping===Nf)?(u===void 0&&(u=new Jn(new cu(1,1,1),new Ys({name:"BackgroundCubeMaterial",uniforms:gf(zs.backgroundCube.uniforms),vertexShader:zs.backgroundCube.vertexShader,fragmentShader:zs.backgroundCube.fragmentShader,side:xi,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(b,C,P){this.matrixWorld.copyPosition(P.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),u.material.uniforms.envMap.value=A,u.material.uniforms.flipEnvMap.value=A.isCubeTexture&&A.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=g.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,u.material.toneMapped=sn.getTransfer(A.colorSpace)!==dn,(f!==A||p!==A.version||m!==n.toneMapping)&&(u.material.needsUpdate=!0,f=A,p=A.version,m=n.toneMapping),u.layers.enableAll(),v.unshift(u,u.geometry,u.material,0,0,null)):A&&A.isTexture&&(c===void 0&&(c=new Jn(new Of(2,2),new Ys({name:"BackgroundMaterial",uniforms:gf(zs.background.uniforms),vertexShader:zs.background.vertexShader,fragmentShader:zs.background.fragmentShader,side:Io,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=A,c.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,c.material.toneMapped=sn.getTransfer(A.colorSpace)!==dn,A.matrixAutoUpdate===!0&&A.updateMatrix(),c.material.uniforms.uvTransform.value.copy(A.matrix),(f!==A||p!==A.version||m!==n.toneMapping)&&(c.material.needsUpdate=!0,f=A,p=A.version,m=n.toneMapping),c.layers.enableAll(),v.unshift(c,c.geometry,c.material,0,0,null))}function S(v,g){v.getRGB(Zy,o6(n)),r.buffers.color.setClear(Zy.r,Zy.g,Zy.b,g,o)}return{getClearColor:function(){return a},setClearColor:function(v,g=1){a.set(v),l=g,S(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(v){l=v,S(a,l)},render:y}}function Mie(n,e,t,r){const i=n.getParameter(n.MAX_VERTEX_ATTRIBS),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=v(null);let c=l,u=!1;function f(H,$,Z,ae,O){let j=!1;if(o){const K=S(ae,Z,$);c!==K&&(c=K,m(c.object)),j=g(H,ae,Z,O),j&&x(H,ae,Z,O)}else{const K=$.wireframe===!0;(c.geometry!==ae.id||c.program!==Z.id||c.wireframe!==K)&&(c.geometry=ae.id,c.program=Z.id,c.wireframe=K,j=!0)}O!==null&&t.update(O,n.ELEMENT_ARRAY_BUFFER),(j||u)&&(u=!1,L(H,$,Z,ae),O!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.get(O).buffer))}function p(){return r.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function m(H){return r.isWebGL2?n.bindVertexArray(H):s.bindVertexArrayOES(H)}function y(H){return r.isWebGL2?n.deleteVertexArray(H):s.deleteVertexArrayOES(H)}function S(H,$,Z){const ae=Z.wireframe===!0;let O=a[H.id];O===void 0&&(O={},a[H.id]=O);let j=O[$.id];j===void 0&&(j={},O[$.id]=j);let K=j[ae];return K===void 0&&(K=v(p()),j[ae]=K),K}function v(H){const $=[],Z=[],ae=[];for(let O=0;O<i;O++)$[O]=0,Z[O]=0,ae[O]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:$,enabledAttributes:Z,attributeDivisors:ae,object:H,attributes:{},index:null}}function g(H,$,Z,ae){const O=c.attributes,j=$.attributes;let K=0;const q=Z.getAttributes();for(const te in q)if(q[te].location>=0){const ne=O[te];let de=j[te];if(de===void 0&&(te==="instanceMatrix"&&H.instanceMatrix&&(de=H.instanceMatrix),te==="instanceColor"&&H.instanceColor&&(de=H.instanceColor)),ne===void 0||ne.attribute!==de||de&&ne.data!==de.data)return!0;K++}return c.attributesNum!==K||c.index!==ae}function x(H,$,Z,ae){const O={},j=$.attributes;let K=0;const q=Z.getAttributes();for(const te in q)if(q[te].location>=0){let ne=j[te];ne===void 0&&(te==="instanceMatrix"&&H.instanceMatrix&&(ne=H.instanceMatrix),te==="instanceColor"&&H.instanceColor&&(ne=H.instanceColor));const de={};de.attribute=ne,ne&&ne.data&&(de.data=ne.data),O[te]=de,K++}c.attributes=O,c.attributesNum=K,c.index=ae}function A(){const H=c.newAttributes;for(let $=0,Z=H.length;$<Z;$++)H[$]=0}function E(H){b(H,0)}function b(H,$){const Z=c.newAttributes,ae=c.enabledAttributes,O=c.attributeDivisors;Z[H]=1,ae[H]===0&&(n.enableVertexAttribArray(H),ae[H]=1),O[H]!==$&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](H,$),O[H]=$)}function C(){const H=c.newAttributes,$=c.enabledAttributes;for(let Z=0,ae=$.length;Z<ae;Z++)$[Z]!==H[Z]&&(n.disableVertexAttribArray(Z),$[Z]=0)}function P(H,$,Z,ae,O,j,K){K===!0?n.vertexAttribIPointer(H,$,Z,O,j):n.vertexAttribPointer(H,$,Z,ae,O,j)}function L(H,$,Z,ae){if(r.isWebGL2===!1&&(H.isInstancedMesh||ae.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;A();const O=ae.attributes,j=Z.getAttributes(),K=$.defaultAttributeValues;for(const q in j){const te=j[q];if(te.location>=0){let Me=O[q];if(Me===void 0&&(q==="instanceMatrix"&&H.instanceMatrix&&(Me=H.instanceMatrix),q==="instanceColor"&&H.instanceColor&&(Me=H.instanceColor)),Me!==void 0){const ne=Me.normalized,de=Me.itemSize,Ae=t.get(Me);if(Ae===void 0)continue;const Pe=Ae.buffer,Ke=Ae.type,ke=Ae.bytesPerElement,ce=r.isWebGL2===!0&&(Ke===n.INT||Ke===n.UNSIGNED_INT||Me.gpuType===$b);if(Me.isInterleavedBufferAttribute){const oe=Me.data,V=oe.stride,he=Me.offset;if(oe.isInstancedInterleavedBuffer){for(let ie=0;ie<te.locationSize;ie++)b(te.location+ie,oe.meshPerAttribute);H.isInstancedMesh!==!0&&ae._maxInstanceCount===void 0&&(ae._maxInstanceCount=oe.meshPerAttribute*oe.count)}else for(let ie=0;ie<te.locationSize;ie++)E(te.location+ie);n.bindBuffer(n.ARRAY_BUFFER,Pe);for(let ie=0;ie<te.locationSize;ie++)P(te.location+ie,de/te.locationSize,Ke,ne,V*ke,(he+de/te.locationSize*ie)*ke,ce)}else{if(Me.isInstancedBufferAttribute){for(let oe=0;oe<te.locationSize;oe++)b(te.location+oe,Me.meshPerAttribute);H.isInstancedMesh!==!0&&ae._maxInstanceCount===void 0&&(ae._maxInstanceCount=Me.meshPerAttribute*Me.count)}else for(let oe=0;oe<te.locationSize;oe++)E(te.location+oe);n.bindBuffer(n.ARRAY_BUFFER,Pe);for(let oe=0;oe<te.locationSize;oe++)P(te.location+oe,de/te.locationSize,Ke,ne,de*ke,de/te.locationSize*oe*ke,ce)}}else if(K!==void 0){const ne=K[q];if(ne!==void 0)switch(ne.length){case 2:n.vertexAttrib2fv(te.location,ne);break;case 3:n.vertexAttrib3fv(te.location,ne);break;case 4:n.vertexAttrib4fv(te.location,ne);break;default:n.vertexAttrib1fv(te.location,ne)}}}}C()}function N(){z();for(const H in a){const $=a[H];for(const Z in $){const ae=$[Z];for(const O in ae)y(ae[O].object),delete ae[O];delete $[Z]}delete a[H]}}function M(H){if(a[H.id]===void 0)return;const $=a[H.id];for(const Z in $){const ae=$[Z];for(const O in ae)y(ae[O].object),delete ae[O];delete $[Z]}delete a[H.id]}function D(H){for(const $ in a){const Z=a[$];if(Z[H.id]===void 0)continue;const ae=Z[H.id];for(const O in ae)y(ae[O].object),delete ae[O];delete Z[H.id]}}function z(){W(),u=!0,c!==l&&(c=l,m(c.object))}function W(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:f,reset:z,resetDefaultState:W,dispose:N,releaseStatesOfGeometry:M,releaseStatesOfProgram:D,initAttributes:A,enableAttribute:E,disableUnusedAttributes:C}}function Cie(n,e,t,r){const i=r.isWebGL2;let s;function o(u){s=u}function a(u,f){n.drawArrays(s,u,f),t.update(f,s,1)}function l(u,f,p){if(p===0)return;let m,y;if(i)m=n,y="drawArraysInstanced";else if(m=e.get("ANGLE_instanced_arrays"),y="drawArraysInstancedANGLE",m===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}m[y](s,u,f,p),t.update(f,s,p)}function c(u,f,p){if(p===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let y=0;y<p;y++)this.render(u[y],f[y]);else{m.multiDrawArraysWEBGL(s,u,0,f,0,p);let y=0;for(let S=0;S<p;S++)y+=f[S];t.update(y,s,1)}}this.setMode=o,this.render=a,this.renderInstances=l,this.renderMultiDraw=c}function bie(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const P=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(P.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(P){if(P==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";P="mediump"}return P==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n.constructor.name==="WebGL2RenderingContext";let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),u=t.logarithmicDepthBuffer===!0,f=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),p=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),m=n.getParameter(n.MAX_TEXTURE_SIZE),y=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),S=n.getParameter(n.MAX_VERTEX_ATTRIBS),v=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),g=n.getParameter(n.MAX_VARYING_VECTORS),x=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),A=p>0,E=o||e.has("OES_texture_float"),b=A&&E,C=o?n.getParameter(n.MAX_SAMPLES):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:f,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:y,maxAttributes:S,maxVertexUniforms:v,maxVaryings:g,maxFragmentUniforms:x,vertexTextures:A,floatFragmentTextures:E,floatVertexTextures:b,maxSamples:C}}function Rie(n){const e=this;let t=null,r=0,i=!1,s=!1;const o=new Qo,a=new Ot,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,p){const m=f.length!==0||p||r!==0||i;return i=p,r=f.length,m},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(f,p){t=u(f,p,0)},this.setState=function(f,p,m){const y=f.clippingPlanes,S=f.clipIntersection,v=f.clipShadows,g=n.get(f);if(!i||y===null||y.length===0||s&&!v)s?u(null):c();else{const x=s?0:r,A=x*4;let E=g.clippingState||null;l.value=E,E=u(y,p,A,m);for(let b=0;b!==A;++b)E[b]=t[b];g.clippingState=E,this.numIntersection=S?this.numPlanes:0,this.numPlanes+=x}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(f,p,m,y){const S=f!==null?f.length:0;let v=null;if(S!==0){if(v=l.value,y!==!0||v===null){const g=m+S*4,x=p.matrixWorldInverse;a.getNormalMatrix(x),(v===null||v.length<g)&&(v=new Float32Array(g));for(let A=0,E=m;A!==S;++A,E+=4)o.copy(f[A]).applyMatrix4(x,a),o.normal.toArray(v,E),v[E+3]=o.constant}l.value=v,l.needsUpdate=!0}return e.numPlanes=S,e.numIntersection=0,v}}function Pie(n){let e=new WeakMap;function t(o,a){return a===im?o.mapping=va:a===sm&&(o.mapping=Tl),o}function r(o){if(o&&o.isTexture){const a=o.mapping;if(a===im||a===sm)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new f2(l.height);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",i),t(c.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class Cs extends Xm{constructor(e=-1,t=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const Ah=4,AD=[.125,.215,.35,.446,.526,.582],vc=20,jA=new Cs,wD=new Ve;let WA=null,XA=0,KA=0;const pc=(1+Math.sqrt(5))/2,Ju=1/pc,ED=[new k(1,1,1),new k(-1,1,1),new k(1,1,-1),new k(-1,1,-1),new k(0,pc,Ju),new k(0,pc,-Ju),new k(Ju,0,pc),new k(-Ju,0,pc),new k(pc,Ju,0),new k(-pc,Ju,0)];class dM{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){WA=this._renderer.getRenderTarget(),XA=this._renderer.getActiveCubeFace(),KA=this._renderer.getActiveMipmapLevel(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=CD(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=MD(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(WA,XA,KA),e.scissorTest=!1,e0(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===va||e.mapping===Tl?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),WA=this._renderer.getRenderTarget(),XA=this._renderer.getActiveCubeFace(),KA=this._renderer.getActiveMipmapLevel();const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:vn,minFilter:vn,generateMipmaps:!1,type:df,format:gi,colorSpace:Lo,depthBuffer:!1},i=TD(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=TD(e,t,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Iie(s)),this._blurMaterial=Lie(s,e,t)}return i}_compileMaterial(e){const t=new Jn(this._lodPlanes[0],e);this._renderer.compile(t,jA)}_sceneToCubeUV(e,t,r,i){const a=new xn(90,1,t,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,f=u.autoClear,p=u.toneMapping;u.getClearColor(wD),u.toneMapping=wo,u.autoClear=!1;const m=new Ji({name:"PMREM.Background",side:xi,depthWrite:!1,depthTest:!1}),y=new Jn(new cu,m);let S=!1;const v=e.background;v?v.isColor&&(m.color.copy(v),e.background=null,S=!0):(m.color.copy(wD),S=!0);for(let g=0;g<6;g++){const x=g%3;x===0?(a.up.set(0,l[g],0),a.lookAt(c[g],0,0)):x===1?(a.up.set(0,0,l[g]),a.lookAt(0,c[g],0)):(a.up.set(0,l[g],0),a.lookAt(0,0,c[g]));const A=this._cubeSize;e0(i,x*A,g>2?A:0,A,A),u.setRenderTarget(i),S&&u.render(y,a),u.render(e,a)}y.geometry.dispose(),y.material.dispose(),u.toneMapping=p,u.autoClear=f,e.background=v}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===va||e.mapping===Tl;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=CD()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=MD());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new Jn(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;e0(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(o,jA)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=ED[(i-1)%ED.length];this._blur(e,i-1,i,s,o)}t.autoClear=r}_blur(e,t,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,t,r,i,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,f=new Jn(this._lodPlanes[i],c),p=c.uniforms,m=this._sizeLods[r]-1,y=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*vc-1),S=s/y,v=isFinite(s)?1+Math.floor(u*S):vc;v>vc&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${v} samples when the maximum is set to ${vc}`);const g=[];let x=0;for(let P=0;P<vc;++P){const L=P/S,N=Math.exp(-L*L/2);g.push(N),P===0?x+=N:P<v&&(x+=2*N)}for(let P=0;P<g.length;P++)g[P]=g[P]/x;p.envMap.value=e.texture,p.samples.value=v,p.weights.value=g,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:A}=this;p.dTheta.value=y,p.mipInt.value=A-r;const E=this._sizeLods[i],b=3*E*(i>A-Ah?i-A+Ah:0),C=4*(this._cubeSize-E);e0(t,b,C,3*E,2*E),l.setRenderTarget(t),l.render(f,jA)}}function Iie(n){const e=[],t=[],r=[];let i=n;const s=n-Ah+1+AD.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);t.push(a);let l=1/a;o>n-Ah?l=AD[o-n+Ah-1]:o===0&&(l=0),r.push(l);const c=1/(a-2),u=-c,f=1+c,p=[u,u,f,u,f,f,u,u,f,f,u,f],m=6,y=6,S=3,v=2,g=1,x=new Float32Array(S*y*m),A=new Float32Array(v*y*m),E=new Float32Array(g*y*m);for(let C=0;C<m;C++){const P=C%3*2/3-1,L=C>2?0:-1,N=[P,L,0,P+2/3,L,0,P+2/3,L+1,0,P,L,0,P+2/3,L+1,0,P,L+1,0];x.set(N,S*y*C),A.set(p,v*y*C);const M=[C,C,C,C,C,C];E.set(M,g*y*C)}const b=new Rt;b.setAttribute("position",new Jt(x,S)),b.setAttribute("uv",new Jt(A,v)),b.setAttribute("faceIndex",new Jt(E,g)),e.push(b),i>Ah&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function TD(n,e,t){const r=new $s(n,e,t);return r.texture.mapping=Nf,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function e0(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function Lie(n,e,t){const r=new Float32Array(vc),i=new k(0,1,0);return new Ys({name:"SphericalGaussianBlur",defines:{n:vc,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:d2(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:ca,depthTest:!1,depthWrite:!1})}function MD(){return new Ys({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:d2(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:ca,depthTest:!1,depthWrite:!1})}function CD(){return new Ys({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:d2(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:ca,depthTest:!1,depthWrite:!1})}function d2(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Die(n){let e=new WeakMap,t=null;function r(a){if(a&&a.isTexture){const l=a.mapping,c=l===im||l===sm,u=l===va||l===Tl;if(c||u)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let f=e.get(a);return t===null&&(t=new dM(n)),f=c?t.fromEquirectangular(a,f):t.fromCubemap(a,f),e.set(a,f),f.texture}else{if(e.has(a))return e.get(a).texture;{const f=a.image;if(c&&f&&f.height>0||u&&f&&i(f)){t===null&&(t=new dM(n));const p=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function i(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:o}}function Bie(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?(t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance")):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function Nie(n,e,t,r){const i={},s=new WeakMap;function o(f){const p=f.target;p.index!==null&&e.remove(p.index);for(const y in p.attributes)e.remove(p.attributes[y]);for(const y in p.morphAttributes){const S=p.morphAttributes[y];for(let v=0,g=S.length;v<g;v++)e.remove(S[v])}p.removeEventListener("dispose",o),delete i[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),r.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(f,p){return i[p.id]===!0||(p.addEventListener("dispose",o),i[p.id]=!0,t.memory.geometries++),p}function l(f){const p=f.attributes;for(const y in p)e.update(p[y],n.ARRAY_BUFFER);const m=f.morphAttributes;for(const y in m){const S=m[y];for(let v=0,g=S.length;v<g;v++)e.update(S[v],n.ARRAY_BUFFER)}}function c(f){const p=[],m=f.index,y=f.attributes.position;let S=0;if(m!==null){const x=m.array;S=m.version;for(let A=0,E=x.length;A<E;A+=3){const b=x[A+0],C=x[A+1],P=x[A+2];p.push(b,C,C,P,P,b)}}else if(y!==void 0){const x=y.array;S=y.version;for(let A=0,E=x.length/3-1;A<E;A+=3){const b=A+0,C=A+1,P=A+2;p.push(b,C,C,P,P,b)}}else return;const v=new(n6(p)?u2:c2)(p,1);v.version=S;const g=s.get(f);g&&e.remove(g),s.set(f,v)}function u(f){const p=s.get(f);if(p){const m=f.index;m!==null&&p.version<m.version&&c(f)}else c(f);return s.get(f)}return{get:a,update:l,getWireframeAttribute:u}}function Oie(n,e,t,r){const i=r.isWebGL2;let s;function o(m){s=m}let a,l;function c(m){a=m.type,l=m.bytesPerElement}function u(m,y){n.drawElements(s,y,a,m*l),t.update(y,s,1)}function f(m,y,S){if(S===0)return;let v,g;if(i)v=n,g="drawElementsInstanced";else if(v=e.get("ANGLE_instanced_arrays"),g="drawElementsInstancedANGLE",v===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}v[g](s,y,a,m*l,S),t.update(y,s,S)}function p(m,y,S){if(S===0)return;const v=e.get("WEBGL_multi_draw");if(v===null)for(let g=0;g<S;g++)this.render(m[g]/l,y[g]);else{v.multiDrawElementsWEBGL(s,y,0,a,m,0,S);let g=0;for(let x=0;x<S;x++)g+=y[x];t.update(g,s,1)}}this.setMode=o,this.setIndex=c,this.render=u,this.renderInstances=f,this.renderMultiDraw=p}function Fie(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=a*(s/3);break;case n.LINES:t.lines+=a*(s/2);break;case n.LINE_STRIP:t.lines+=a*(s-1);break;case n.LINE_LOOP:t.lines+=a*s;break;case n.POINTS:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function kie(n,e){return n[0]-e[0]}function Uie(n,e){return Math.abs(e[1])-Math.abs(n[1])}function Vie(n,e,t){const r={},i=new Float32Array(8),s=new WeakMap,o=new on,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,u,f){const p=c.morphTargetInfluences;if(e.isWebGL2===!0){const y=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,S=y!==void 0?y.length:0;let v=s.get(u);if(v===void 0||v.count!==S){let $=function(){W.dispose(),s.delete(u),u.removeEventListener("dispose",$)};var m=$;v!==void 0&&v.texture.dispose();const A=u.morphAttributes.position!==void 0,E=u.morphAttributes.normal!==void 0,b=u.morphAttributes.color!==void 0,C=u.morphAttributes.position||[],P=u.morphAttributes.normal||[],L=u.morphAttributes.color||[];let N=0;A===!0&&(N=1),E===!0&&(N=2),b===!0&&(N=3);let M=u.attributes.position.count*N,D=1;M>e.maxTextureSize&&(D=Math.ceil(M/e.maxTextureSize),M=e.maxTextureSize);const z=new Float32Array(M*D*4*S),W=new Ox(z,M,D,S);W.type=Es,W.needsUpdate=!0;const H=N*4;for(let Z=0;Z<S;Z++){const ae=C[Z],O=P[Z],j=L[Z],K=M*D*4*Z;for(let q=0;q<ae.count;q++){const te=q*H;A===!0&&(o.fromBufferAttribute(ae,q),z[K+te+0]=o.x,z[K+te+1]=o.y,z[K+te+2]=o.z,z[K+te+3]=0),E===!0&&(o.fromBufferAttribute(O,q),z[K+te+4]=o.x,z[K+te+5]=o.y,z[K+te+6]=o.z,z[K+te+7]=0),b===!0&&(o.fromBufferAttribute(j,q),z[K+te+8]=o.x,z[K+te+9]=o.y,z[K+te+10]=o.z,z[K+te+11]=j.itemSize===4?o.w:1)}}v={count:S,texture:W,size:new _e(M,D)},s.set(u,v),u.addEventListener("dispose",$)}let g=0;for(let A=0;A<p.length;A++)g+=p[A];const x=u.morphTargetsRelative?1:1-g;f.getUniforms().setValue(n,"morphTargetBaseInfluence",x),f.getUniforms().setValue(n,"morphTargetInfluences",p),f.getUniforms().setValue(n,"morphTargetsTexture",v.texture,t),f.getUniforms().setValue(n,"morphTargetsTextureSize",v.size)}else{const y=p===void 0?0:p.length;let S=r[u.id];if(S===void 0||S.length!==y){S=[];for(let E=0;E<y;E++)S[E]=[E,0];r[u.id]=S}for(let E=0;E<y;E++){const b=S[E];b[0]=E,b[1]=p[E]}S.sort(Uie);for(let E=0;E<8;E++)E<y&&S[E][1]?(a[E][0]=S[E][0],a[E][1]=S[E][1]):(a[E][0]=Number.MAX_SAFE_INTEGER,a[E][1]=0);a.sort(kie);const v=u.morphAttributes.position,g=u.morphAttributes.normal;let x=0;for(let E=0;E<8;E++){const b=a[E],C=b[0],P=b[1];C!==Number.MAX_SAFE_INTEGER&&P?(v&&u.getAttribute("morphTarget"+E)!==v[C]&&u.setAttribute("morphTarget"+E,v[C]),g&&u.getAttribute("morphNormal"+E)!==g[C]&&u.setAttribute("morphNormal"+E,g[C]),i[E]=P,x+=P):(v&&u.hasAttribute("morphTarget"+E)===!0&&u.deleteAttribute("morphTarget"+E),g&&u.hasAttribute("morphNormal"+E)===!0&&u.deleteAttribute("morphNormal"+E),i[E]=0)}const A=u.morphTargetsRelative?1:1-x;f.getUniforms().setValue(n,"morphTargetBaseInfluence",A),f.getUniforms().setValue(n,"morphTargetInfluences",i)}}return{update:l}}function zie(n,e,t,r){let i=new WeakMap;function s(l){const c=r.render.frame,u=l.geometry,f=e.get(l,u);if(i.get(f)!==c&&(e.update(f),i.set(f,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),i.get(l)!==c&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const p=l.skeleton;i.get(p)!==c&&(p.update(),i.set(p,c))}return f}function o(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}class p2 extends An{constructor(e,t,r,i,s,o,a,l,c,u){if(u=u!==void 0?u:ml,u!==ml&&u!==eu)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===ml&&(r=ra),r===void 0&&u===eu&&(r=pl),super(null,i,s,o,a,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:kn,this.minFilter=l!==void 0?l:kn,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}const c6=new An,u6=new p2(1,1);u6.compareFunction=s2;const h6=new Ox,f6=new l2,d6=new Km,bD=[],RD=[],PD=new Float32Array(16),ID=new Float32Array(9),LD=new Float32Array(4);function Ff(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let s=bD[i];if(s===void 0&&(s=new Float32Array(i),bD[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function fr(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function dr(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function Fx(n,e){let t=RD[e];t===void 0&&(t=new Int32Array(e),RD[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function Hie(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function Gie(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(fr(t,e))return;n.uniform2fv(this.addr,e),dr(t,e)}}function jie(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(fr(t,e))return;n.uniform3fv(this.addr,e),dr(t,e)}}function Wie(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(fr(t,e))return;n.uniform4fv(this.addr,e),dr(t,e)}}function Xie(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(fr(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),dr(t,e)}else{if(fr(t,r))return;LD.set(r),n.uniformMatrix2fv(this.addr,!1,LD),dr(t,r)}}function Kie(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(fr(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),dr(t,e)}else{if(fr(t,r))return;ID.set(r),n.uniformMatrix3fv(this.addr,!1,ID),dr(t,r)}}function Jie(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(fr(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),dr(t,e)}else{if(fr(t,r))return;PD.set(r),n.uniformMatrix4fv(this.addr,!1,PD),dr(t,r)}}function $ie(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function Yie(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(fr(t,e))return;n.uniform2iv(this.addr,e),dr(t,e)}}function qie(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(fr(t,e))return;n.uniform3iv(this.addr,e),dr(t,e)}}function Qie(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(fr(t,e))return;n.uniform4iv(this.addr,e),dr(t,e)}}function Zie(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function ese(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(fr(t,e))return;n.uniform2uiv(this.addr,e),dr(t,e)}}function tse(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(fr(t,e))return;n.uniform3uiv(this.addr,e),dr(t,e)}}function nse(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(fr(t,e))return;n.uniform4uiv(this.addr,e),dr(t,e)}}function rse(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i);const s=this.type===n.SAMPLER_2D_SHADOW?u6:c6;t.setTexture2D(e||s,i)}function ise(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||f6,i)}function sse(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||d6,i)}function ose(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||h6,i)}function ase(n){switch(n){case 5126:return Hie;case 35664:return Gie;case 35665:return jie;case 35666:return Wie;case 35674:return Xie;case 35675:return Kie;case 35676:return Jie;case 5124:case 35670:return $ie;case 35667:case 35671:return Yie;case 35668:case 35672:return qie;case 35669:case 35673:return Qie;case 5125:return Zie;case 36294:return ese;case 36295:return tse;case 36296:return nse;case 35678:case 36198:case 36298:case 36306:case 35682:return rse;case 35679:case 36299:case 36307:return ise;case 35680:case 36300:case 36308:case 36293:return sse;case 36289:case 36303:case 36311:case 36292:return ose}}function lse(n,e){n.uniform1fv(this.addr,e)}function cse(n,e){const t=Ff(e,this.size,2);n.uniform2fv(this.addr,t)}function use(n,e){const t=Ff(e,this.size,3);n.uniform3fv(this.addr,t)}function hse(n,e){const t=Ff(e,this.size,4);n.uniform4fv(this.addr,t)}function fse(n,e){const t=Ff(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function dse(n,e){const t=Ff(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function pse(n,e){const t=Ff(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function mse(n,e){n.uniform1iv(this.addr,e)}function gse(n,e){n.uniform2iv(this.addr,e)}function yse(n,e){n.uniform3iv(this.addr,e)}function vse(n,e){n.uniform4iv(this.addr,e)}function _se(n,e){n.uniform1uiv(this.addr,e)}function xse(n,e){n.uniform2uiv(this.addr,e)}function Sse(n,e){n.uniform3uiv(this.addr,e)}function Ase(n,e){n.uniform4uiv(this.addr,e)}function wse(n,e,t){const r=this.cache,i=e.length,s=Fx(t,i);fr(r,s)||(n.uniform1iv(this.addr,s),dr(r,s));for(let o=0;o!==i;++o)t.setTexture2D(e[o]||c6,s[o])}function Ese(n,e,t){const r=this.cache,i=e.length,s=Fx(t,i);fr(r,s)||(n.uniform1iv(this.addr,s),dr(r,s));for(let o=0;o!==i;++o)t.setTexture3D(e[o]||f6,s[o])}function Tse(n,e,t){const r=this.cache,i=e.length,s=Fx(t,i);fr(r,s)||(n.uniform1iv(this.addr,s),dr(r,s));for(let o=0;o!==i;++o)t.setTextureCube(e[o]||d6,s[o])}function Mse(n,e,t){const r=this.cache,i=e.length,s=Fx(t,i);fr(r,s)||(n.uniform1iv(this.addr,s),dr(r,s));for(let o=0;o!==i;++o)t.setTexture2DArray(e[o]||h6,s[o])}function Cse(n){switch(n){case 5126:return lse;case 35664:return cse;case 35665:return use;case 35666:return hse;case 35674:return fse;case 35675:return dse;case 35676:return pse;case 5124:case 35670:return mse;case 35667:case 35671:return gse;case 35668:case 35672:return yse;case 35669:case 35673:return vse;case 5125:return _se;case 36294:return xse;case 36295:return Sse;case 36296:return Ase;case 35678:case 36198:case 36298:case 36306:case 35682:return wse;case 35679:case 36299:case 36307:return Ese;case 35680:case 36300:case 36308:case 36293:return Tse;case 36289:case 36303:case 36311:case 36292:return Mse}}class bse{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.setValue=ase(t.type)}}class Rse{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=Cse(t.type)}}class Pse{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,t[a.id],r)}}}const JA=/(\w+)(\])?(\[|\.)?/g;function DD(n,e){n.seq.push(e),n.map[e.id]=e}function Ise(n,e,t){const r=n.name,i=r.length;for(JA.lastIndex=0;;){const s=JA.exec(r),o=JA.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===i){DD(t,c===void 0?new bse(a,n,e):new Rse(a,n,e));break}else{let f=t.map[a];f===void 0&&(f=new Pse(a),DD(t,f)),t=f}}}class rv{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(t,i),o=e.getUniformLocation(t,s.name);Ise(s,o,this)}}setValue(e,t,r,i){const s=this.map[t];s!==void 0&&s.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in t&&r.push(o)}return r}}function BD(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}const Lse=37297;let Dse=0;function Bse(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return r.join(`
`)}function Nse(n){const e=sn.getPrimaries(sn.workingColorSpace),t=sn.getPrimaries(n);let r;switch(e===t?r="":e===um&&t===cm?r="LinearDisplayP3ToLinearSRGB":e===cm&&t===um&&(r="LinearSRGBToLinearDisplayP3"),n){case Lo:case jm:return[r,"LinearTransferOETF"];case cr:case Nx:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",n),[r,"LinearTransferOETF"]}}function ND(n,e,t){const r=n.getShaderParameter(e,n.COMPILE_STATUS),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+i+`

`+Bse(n.getShaderSource(e),o)}else return i}function Ose(n,e){const t=Nse(e);return`vec4 ${n}( vec4 value ) { return ${t[0]}( ${t[1]}( value ) ); }`}function Fse(n,e){let t;switch(e){case C5:t="Linear";break;case b5:t="Reinhard";break;case R5:t="OptimizedCineon";break;case Jb:t="ACESFilmic";break;case I5:t="AgX";break;case P5:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function kse(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.normalMapTangentSpace||n.clearcoatNormalMap||n.flatShading||n.alphaToCoverage||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(wh).join(`
`)}function Use(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(wh).join(`
`)}function Vse(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function zse(n,e){const t={},r=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=n.getActiveAttrib(e,i),o=s.name;let a=1;s.type===n.FLOAT_MAT2&&(a=2),s.type===n.FLOAT_MAT3&&(a=3),s.type===n.FLOAT_MAT4&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function wh(n){return n!==""}function OD(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function FD(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Hse=/^[ \t]*#include +<([\w\d./]+)>/gm;function pM(n){return n.replace(Hse,jse)}const Gse=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function jse(n,e){let t=Dt[e];if(t===void 0){const r=Gse.get(e);if(r!==void 0)t=Dt[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return pM(t)}const Wse=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function kD(n){return n.replace(Wse,Xse)}function Xse(n,e,t,r){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function UD(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	`;return n.isWebGL2&&(e+=`precision ${n.precision} sampler3D;
		precision ${n.precision} sampler2DArray;
		precision ${n.precision} sampler2DShadow;
		precision ${n.precision} samplerCubeShadow;
		precision ${n.precision} sampler2DArrayShadow;
		precision ${n.precision} isampler2D;
		precision ${n.precision} isampler3D;
		precision ${n.precision} isamplerCube;
		precision ${n.precision} isampler2DArray;
		precision ${n.precision} usampler2D;
		precision ${n.precision} usampler3D;
		precision ${n.precision} usamplerCube;
		precision ${n.precision} usampler2DArray;
		`),n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Kse(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===Ix?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===up?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===ks&&(e="SHADOWMAP_TYPE_VSM"),e}function Jse(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case va:case Tl:e="ENVMAP_TYPE_CUBE";break;case Nf:e="ENVMAP_TYPE_CUBE_UV";break}return e}function $se(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Tl:e="ENVMAP_MODE_REFRACTION";break}return e}function Yse(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Gm:e="ENVMAP_BLENDING_MULTIPLY";break;case T5:e="ENVMAP_BLENDING_MIX";break;case M5:e="ENVMAP_BLENDING_ADD";break}return e}function qse(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function Qse(n,e,t,r){const i=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=Kse(t),c=Jse(t),u=$se(t),f=Yse(t),p=qse(t),m=t.isWebGL2?"":kse(t),y=Use(t),S=Vse(s),v=i.createProgram();let g,x,A=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(g=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,S].filter(wh).join(`
`),g.length>0&&(g+=`
`),x=[m,"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,S].filter(wh).join(`
`),x.length>0&&(x+=`
`)):(g=[UD(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,S,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(wh).join(`
`),x=[m,UD(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,S,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+f:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==wo?"#define TONE_MAPPING":"",t.toneMapping!==wo?Dt.tonemapping_pars_fragment:"",t.toneMapping!==wo?Fse("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Dt.colorspace_pars_fragment,Ose("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(wh).join(`
`)),o=pM(o),o=OD(o,t),o=FD(o,t),a=pM(a),a=OD(a,t),a=FD(a,t),o=kD(o),a=kD(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(A=`#version 300 es
`,g=[y,"precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+g,x=["precision mediump sampler2DArray;","#define varying in",t.glslVersion===hM?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===hM?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+x);const E=A+g+o,b=A+x+a,C=BD(i,i.VERTEX_SHADER,E),P=BD(i,i.FRAGMENT_SHADER,b);i.attachShader(v,C),i.attachShader(v,P),t.index0AttributeName!==void 0?i.bindAttribLocation(v,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(v,0,"position"),i.linkProgram(v);function L(z){if(n.debug.checkShaderErrors){const W=i.getProgramInfoLog(v).trim(),H=i.getShaderInfoLog(C).trim(),$=i.getShaderInfoLog(P).trim();let Z=!0,ae=!0;if(i.getProgramParameter(v,i.LINK_STATUS)===!1)if(Z=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(i,v,C,P);else{const O=ND(i,C,"vertex"),j=ND(i,P,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(v,i.VALIDATE_STATUS)+`

Material Name: `+z.name+`
Material Type: `+z.type+`

Program Info Log: `+W+`
`+O+`
`+j)}else W!==""?console.warn("THREE.WebGLProgram: Program Info Log:",W):(H===""||$==="")&&(ae=!1);ae&&(z.diagnostics={runnable:Z,programLog:W,vertexShader:{log:H,prefix:g},fragmentShader:{log:$,prefix:x}})}i.deleteShader(C),i.deleteShader(P),N=new rv(i,v),M=zse(i,v)}let N;this.getUniforms=function(){return N===void 0&&L(this),N};let M;this.getAttributes=function(){return M===void 0&&L(this),M};let D=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return D===!1&&(D=i.getProgramParameter(v,Lse)),D},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(v),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=Dse++,this.cacheKey=e,this.usedTimes=1,this.program=v,this.vertexShader=C,this.fragmentShader=P,this}let Zse=0;class eoe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new toe(e),t.set(e,r)),r}}class toe{constructor(e){this.id=Zse++,this.code=e,this.usedTimes=0}}function noe(n,e,t,r,i,s,o){const a=new Vc,l=new eoe,c=new Set,u=[],f=i.isWebGL2,p=i.logarithmicDepthBuffer,m=i.vertexTextures;let y=i.precision;const S={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(M){return c.add(M),M===0?"uv":`uv${M}`}function g(M,D,z,W,H){const $=W.fog,Z=H.geometry,ae=M.isMeshStandardMaterial?W.environment:null,O=(M.isMeshStandardMaterial?t:e).get(M.envMap||ae),j=O&&O.mapping===Nf?O.image.height:null,K=S[M.type];M.precision!==null&&(y=i.getMaxPrecision(M.precision),y!==M.precision&&console.warn("THREE.WebGLProgram.getParameters:",M.precision,"not supported, using",y,"instead."));const q=Z.morphAttributes.position||Z.morphAttributes.normal||Z.morphAttributes.color,te=q!==void 0?q.length:0;let Me=0;Z.morphAttributes.position!==void 0&&(Me=1),Z.morphAttributes.normal!==void 0&&(Me=2),Z.morphAttributes.color!==void 0&&(Me=3);let ne,de,Ae,Pe;if(K){const Gt=zs[K];ne=Gt.vertexShader,de=Gt.fragmentShader}else ne=M.vertexShader,de=M.fragmentShader,l.update(M),Ae=l.getVertexShaderID(M),Pe=l.getFragmentShaderID(M);const Ke=n.getRenderTarget(),ke=H.isInstancedMesh===!0,ce=H.isBatchedMesh===!0,oe=!!M.map,V=!!M.matcap,he=!!O,ie=!!M.aoMap,ye=!!M.lightMap,le=!!M.bumpMap,be=!!M.normalMap,Ee=!!M.displacementMap,F=!!M.emissiveMap,B=!!M.metalnessMap,J=!!M.roughnessMap,xe=M.anisotropy>0,Se=M.clearcoat>0,we=M.iridescence>0,qe=M.sheen>0,Ne=M.transmission>0,Ue=xe&&!!M.anisotropyMap,lt=Se&&!!M.clearcoatMap,At=Se&&!!M.clearcoatNormalMap,Re=Se&&!!M.clearcoatRoughnessMap,zt=we&&!!M.iridescenceMap,It=we&&!!M.iridescenceThicknessMap,yt=qe&&!!M.sheenColorMap,at=qe&&!!M.sheenRoughnessMap,Ye=!!M.specularMap,Q=!!M.specularColorMap,Te=!!M.specularIntensityMap,He=Ne&&!!M.transmissionMap,Je=Ne&&!!M.thicknessMap,vt=!!M.gradientMap,X=!!M.alphaMap,Ie=M.alphaTest>0,Be=!!M.alphaHash,tt=!!M.extensions;let nt=wo;M.toneMapped&&(Ke===null||Ke.isXRRenderTarget===!0)&&(nt=n.toneMapping);const Lt={isWebGL2:f,shaderID:K,shaderType:M.type,shaderName:M.name,vertexShader:ne,fragmentShader:de,defines:M.defines,customVertexShaderID:Ae,customFragmentShaderID:Pe,isRawShaderMaterial:M.isRawShaderMaterial===!0,glslVersion:M.glslVersion,precision:y,batching:ce,instancing:ke,instancingColor:ke&&H.instanceColor!==null,supportsVertexTextures:m,outputColorSpace:Ke===null?n.outputColorSpace:Ke.isXRRenderTarget===!0?Ke.texture.colorSpace:Lo,alphaToCoverage:!!M.alphaToCoverage,map:oe,matcap:V,envMap:he,envMapMode:he&&O.mapping,envMapCubeUVHeight:j,aoMap:ie,lightMap:ye,bumpMap:le,normalMap:be,displacementMap:m&&Ee,emissiveMap:F,normalMapObjectSpace:be&&M.normalMapType===K5,normalMapTangentSpace:be&&M.normalMapType===Ol,metalnessMap:B,roughnessMap:J,anisotropy:xe,anisotropyMap:Ue,clearcoat:Se,clearcoatMap:lt,clearcoatNormalMap:At,clearcoatRoughnessMap:Re,iridescence:we,iridescenceMap:zt,iridescenceThicknessMap:It,sheen:qe,sheenColorMap:yt,sheenRoughnessMap:at,specularMap:Ye,specularColorMap:Q,specularIntensityMap:Te,transmission:Ne,transmissionMap:He,thicknessMap:Je,gradientMap:vt,opaque:M.transparent===!1&&M.blending===Fc&&M.alphaToCoverage===!1,alphaMap:X,alphaTest:Ie,alphaHash:Be,combine:M.combine,mapUv:oe&&v(M.map.channel),aoMapUv:ie&&v(M.aoMap.channel),lightMapUv:ye&&v(M.lightMap.channel),bumpMapUv:le&&v(M.bumpMap.channel),normalMapUv:be&&v(M.normalMap.channel),displacementMapUv:Ee&&v(M.displacementMap.channel),emissiveMapUv:F&&v(M.emissiveMap.channel),metalnessMapUv:B&&v(M.metalnessMap.channel),roughnessMapUv:J&&v(M.roughnessMap.channel),anisotropyMapUv:Ue&&v(M.anisotropyMap.channel),clearcoatMapUv:lt&&v(M.clearcoatMap.channel),clearcoatNormalMapUv:At&&v(M.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Re&&v(M.clearcoatRoughnessMap.channel),iridescenceMapUv:zt&&v(M.iridescenceMap.channel),iridescenceThicknessMapUv:It&&v(M.iridescenceThicknessMap.channel),sheenColorMapUv:yt&&v(M.sheenColorMap.channel),sheenRoughnessMapUv:at&&v(M.sheenRoughnessMap.channel),specularMapUv:Ye&&v(M.specularMap.channel),specularColorMapUv:Q&&v(M.specularColorMap.channel),specularIntensityMapUv:Te&&v(M.specularIntensityMap.channel),transmissionMapUv:He&&v(M.transmissionMap.channel),thicknessMapUv:Je&&v(M.thicknessMap.channel),alphaMapUv:X&&v(M.alphaMap.channel),vertexTangents:!!Z.attributes.tangent&&(be||xe),vertexColors:M.vertexColors,vertexAlphas:M.vertexColors===!0&&!!Z.attributes.color&&Z.attributes.color.itemSize===4,pointsUvs:H.isPoints===!0&&!!Z.attributes.uv&&(oe||X),fog:!!$,useFog:M.fog===!0,fogExp2:!!$&&$.isFogExp2,flatShading:M.flatShading===!0,sizeAttenuation:M.sizeAttenuation===!0,logarithmicDepthBuffer:p,skinning:H.isSkinnedMesh===!0,morphTargets:Z.morphAttributes.position!==void 0,morphNormals:Z.morphAttributes.normal!==void 0,morphColors:Z.morphAttributes.color!==void 0,morphTargetsCount:te,morphTextureStride:Me,numDirLights:D.directional.length,numPointLights:D.point.length,numSpotLights:D.spot.length,numSpotLightMaps:D.spotLightMap.length,numRectAreaLights:D.rectArea.length,numHemiLights:D.hemi.length,numDirLightShadows:D.directionalShadowMap.length,numPointLightShadows:D.pointShadowMap.length,numSpotLightShadows:D.spotShadowMap.length,numSpotLightShadowsWithMaps:D.numSpotLightShadowsWithMaps,numLightProbes:D.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:M.dithering,shadowMapEnabled:n.shadowMap.enabled&&z.length>0,shadowMapType:n.shadowMap.type,toneMapping:nt,useLegacyLights:n._useLegacyLights,decodeVideoTexture:oe&&M.map.isVideoTexture===!0&&sn.getTransfer(M.map.colorSpace)===dn,premultipliedAlpha:M.premultipliedAlpha,doubleSided:M.side===ws,flipSided:M.side===xi,useDepthPacking:M.depthPacking>=0,depthPacking:M.depthPacking||0,index0AttributeName:M.index0AttributeName,extensionDerivatives:tt&&M.extensions.derivatives===!0,extensionFragDepth:tt&&M.extensions.fragDepth===!0,extensionDrawBuffers:tt&&M.extensions.drawBuffers===!0,extensionShaderTextureLOD:tt&&M.extensions.shaderTextureLOD===!0,extensionClipCullDistance:tt&&M.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:tt&&M.extensions.multiDraw===!0&&r.has("WEBGL_multi_draw"),rendererExtensionFragDepth:f||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:f||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:f||r.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:M.customProgramCacheKey()};return Lt.vertexUv1s=c.has(1),Lt.vertexUv2s=c.has(2),Lt.vertexUv3s=c.has(3),c.clear(),Lt}function x(M){const D=[];if(M.shaderID?D.push(M.shaderID):(D.push(M.customVertexShaderID),D.push(M.customFragmentShaderID)),M.defines!==void 0)for(const z in M.defines)D.push(z),D.push(M.defines[z]);return M.isRawShaderMaterial===!1&&(A(D,M),E(D,M),D.push(n.outputColorSpace)),D.push(M.customProgramCacheKey),D.join()}function A(M,D){M.push(D.precision),M.push(D.outputColorSpace),M.push(D.envMapMode),M.push(D.envMapCubeUVHeight),M.push(D.mapUv),M.push(D.alphaMapUv),M.push(D.lightMapUv),M.push(D.aoMapUv),M.push(D.bumpMapUv),M.push(D.normalMapUv),M.push(D.displacementMapUv),M.push(D.emissiveMapUv),M.push(D.metalnessMapUv),M.push(D.roughnessMapUv),M.push(D.anisotropyMapUv),M.push(D.clearcoatMapUv),M.push(D.clearcoatNormalMapUv),M.push(D.clearcoatRoughnessMapUv),M.push(D.iridescenceMapUv),M.push(D.iridescenceThicknessMapUv),M.push(D.sheenColorMapUv),M.push(D.sheenRoughnessMapUv),M.push(D.specularMapUv),M.push(D.specularColorMapUv),M.push(D.specularIntensityMapUv),M.push(D.transmissionMapUv),M.push(D.thicknessMapUv),M.push(D.combine),M.push(D.fogExp2),M.push(D.sizeAttenuation),M.push(D.morphTargetsCount),M.push(D.morphAttributeCount),M.push(D.numDirLights),M.push(D.numPointLights),M.push(D.numSpotLights),M.push(D.numSpotLightMaps),M.push(D.numHemiLights),M.push(D.numRectAreaLights),M.push(D.numDirLightShadows),M.push(D.numPointLightShadows),M.push(D.numSpotLightShadows),M.push(D.numSpotLightShadowsWithMaps),M.push(D.numLightProbes),M.push(D.shadowMapType),M.push(D.toneMapping),M.push(D.numClippingPlanes),M.push(D.numClipIntersection),M.push(D.depthPacking)}function E(M,D){a.disableAll(),D.isWebGL2&&a.enable(0),D.supportsVertexTextures&&a.enable(1),D.instancing&&a.enable(2),D.instancingColor&&a.enable(3),D.matcap&&a.enable(4),D.envMap&&a.enable(5),D.normalMapObjectSpace&&a.enable(6),D.normalMapTangentSpace&&a.enable(7),D.clearcoat&&a.enable(8),D.iridescence&&a.enable(9),D.alphaTest&&a.enable(10),D.vertexColors&&a.enable(11),D.vertexAlphas&&a.enable(12),D.vertexUv1s&&a.enable(13),D.vertexUv2s&&a.enable(14),D.vertexUv3s&&a.enable(15),D.vertexTangents&&a.enable(16),D.anisotropy&&a.enable(17),D.alphaHash&&a.enable(18),D.batching&&a.enable(19),M.push(a.mask),a.disableAll(),D.fog&&a.enable(0),D.useFog&&a.enable(1),D.flatShading&&a.enable(2),D.logarithmicDepthBuffer&&a.enable(3),D.skinning&&a.enable(4),D.morphTargets&&a.enable(5),D.morphNormals&&a.enable(6),D.morphColors&&a.enable(7),D.premultipliedAlpha&&a.enable(8),D.shadowMapEnabled&&a.enable(9),D.useLegacyLights&&a.enable(10),D.doubleSided&&a.enable(11),D.flipSided&&a.enable(12),D.useDepthPacking&&a.enable(13),D.dithering&&a.enable(14),D.transmission&&a.enable(15),D.sheen&&a.enable(16),D.opaque&&a.enable(17),D.pointsUvs&&a.enable(18),D.decodeVideoTexture&&a.enable(19),D.alphaToCoverage&&a.enable(20),M.push(a.mask)}function b(M){const D=S[M.type];let z;if(D){const W=zs[D];z=a6.clone(W.uniforms)}else z=M.uniforms;return z}function C(M,D){let z;for(let W=0,H=u.length;W<H;W++){const $=u[W];if($.cacheKey===D){z=$,++z.usedTimes;break}}return z===void 0&&(z=new Qse(n,D,M,s),u.push(z)),z}function P(M){if(--M.usedTimes===0){const D=u.indexOf(M);u[D]=u[u.length-1],u.pop(),M.destroy()}}function L(M){l.remove(M)}function N(){l.dispose()}return{getParameters:g,getProgramCacheKey:x,getUniforms:b,acquireProgram:C,releaseProgram:P,releaseShaderCache:L,programs:u,dispose:N}}function roe(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function r(s,o,a){n.get(s)[o]=a}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function ioe(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function VD(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function zD(){const n=[];let e=0;const t=[],r=[],i=[];function s(){e=0,t.length=0,r.length=0,i.length=0}function o(f,p,m,y,S,v){let g=n[e];return g===void 0?(g={id:f.id,object:f,geometry:p,material:m,groupOrder:y,renderOrder:f.renderOrder,z:S,group:v},n[e]=g):(g.id=f.id,g.object=f,g.geometry=p,g.material=m,g.groupOrder=y,g.renderOrder=f.renderOrder,g.z=S,g.group=v),e++,g}function a(f,p,m,y,S,v){const g=o(f,p,m,y,S,v);m.transmission>0?r.push(g):m.transparent===!0?i.push(g):t.push(g)}function l(f,p,m,y,S,v){const g=o(f,p,m,y,S,v);m.transmission>0?r.unshift(g):m.transparent===!0?i.unshift(g):t.unshift(g)}function c(f,p){t.length>1&&t.sort(f||ioe),r.length>1&&r.sort(p||VD),i.length>1&&i.sort(p||VD)}function u(){for(let f=e,p=n.length;f<p;f++){const m=n[f];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:u,sort:c}}function soe(){let n=new WeakMap;function e(r,i){const s=n.get(r);let o;return s===void 0?(o=new zD,n.set(r,[o])):i>=s.length?(o=new zD,s.push(o)):o=s[i],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function ooe(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new k,color:new Ve};break;case"SpotLight":t={position:new k,direction:new k,color:new Ve,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new k,color:new Ve,distance:0,decay:0};break;case"HemisphereLight":t={direction:new k,skyColor:new Ve,groundColor:new Ve};break;case"RectAreaLight":t={color:new Ve,position:new k,halfWidth:new k,halfHeight:new k};break}return n[e.id]=t,t}}}function aoe(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new _e};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new _e};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new _e,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let loe=0;function coe(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function uoe(n,e){const t=new ooe,r=aoe(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)i.probe.push(new k);const s=new k,o=new ht,a=new ht;function l(u,f){let p=0,m=0,y=0;for(let z=0;z<9;z++)i.probe[z].set(0,0,0);let S=0,v=0,g=0,x=0,A=0,E=0,b=0,C=0,P=0,L=0,N=0;u.sort(coe);const M=f===!0?Math.PI:1;for(let z=0,W=u.length;z<W;z++){const H=u[z],$=H.color,Z=H.intensity,ae=H.distance,O=H.shadow&&H.shadow.map?H.shadow.map.texture:null;if(H.isAmbientLight)p+=$.r*Z*M,m+=$.g*Z*M,y+=$.b*Z*M;else if(H.isLightProbe){for(let j=0;j<9;j++)i.probe[j].addScaledVector(H.sh.coefficients[j],Z);N++}else if(H.isDirectionalLight){const j=t.get(H);if(j.color.copy(H.color).multiplyScalar(H.intensity*M),H.castShadow){const K=H.shadow,q=r.get(H);q.shadowBias=K.bias,q.shadowNormalBias=K.normalBias,q.shadowRadius=K.radius,q.shadowMapSize=K.mapSize,i.directionalShadow[S]=q,i.directionalShadowMap[S]=O,i.directionalShadowMatrix[S]=H.shadow.matrix,E++}i.directional[S]=j,S++}else if(H.isSpotLight){const j=t.get(H);j.position.setFromMatrixPosition(H.matrixWorld),j.color.copy($).multiplyScalar(Z*M),j.distance=ae,j.coneCos=Math.cos(H.angle),j.penumbraCos=Math.cos(H.angle*(1-H.penumbra)),j.decay=H.decay,i.spot[g]=j;const K=H.shadow;if(H.map&&(i.spotLightMap[P]=H.map,P++,K.updateMatrices(H),H.castShadow&&L++),i.spotLightMatrix[g]=K.matrix,H.castShadow){const q=r.get(H);q.shadowBias=K.bias,q.shadowNormalBias=K.normalBias,q.shadowRadius=K.radius,q.shadowMapSize=K.mapSize,i.spotShadow[g]=q,i.spotShadowMap[g]=O,C++}g++}else if(H.isRectAreaLight){const j=t.get(H);j.color.copy($).multiplyScalar(Z),j.halfWidth.set(H.width*.5,0,0),j.halfHeight.set(0,H.height*.5,0),i.rectArea[x]=j,x++}else if(H.isPointLight){const j=t.get(H);if(j.color.copy(H.color).multiplyScalar(H.intensity*M),j.distance=H.distance,j.decay=H.decay,H.castShadow){const K=H.shadow,q=r.get(H);q.shadowBias=K.bias,q.shadowNormalBias=K.normalBias,q.shadowRadius=K.radius,q.shadowMapSize=K.mapSize,q.shadowCameraNear=K.camera.near,q.shadowCameraFar=K.camera.far,i.pointShadow[v]=q,i.pointShadowMap[v]=O,i.pointShadowMatrix[v]=H.shadow.matrix,b++}i.point[v]=j,v++}else if(H.isHemisphereLight){const j=t.get(H);j.skyColor.copy(H.color).multiplyScalar(Z*M),j.groundColor.copy(H.groundColor).multiplyScalar(Z*M),i.hemi[A]=j,A++}}x>0&&(e.isWebGL2?n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Oe.LTC_FLOAT_1,i.rectAreaLTC2=Oe.LTC_FLOAT_2):(i.rectAreaLTC1=Oe.LTC_HALF_1,i.rectAreaLTC2=Oe.LTC_HALF_2):n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Oe.LTC_FLOAT_1,i.rectAreaLTC2=Oe.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=Oe.LTC_HALF_1,i.rectAreaLTC2=Oe.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=p,i.ambient[1]=m,i.ambient[2]=y;const D=i.hash;(D.directionalLength!==S||D.pointLength!==v||D.spotLength!==g||D.rectAreaLength!==x||D.hemiLength!==A||D.numDirectionalShadows!==E||D.numPointShadows!==b||D.numSpotShadows!==C||D.numSpotMaps!==P||D.numLightProbes!==N)&&(i.directional.length=S,i.spot.length=g,i.rectArea.length=x,i.point.length=v,i.hemi.length=A,i.directionalShadow.length=E,i.directionalShadowMap.length=E,i.pointShadow.length=b,i.pointShadowMap.length=b,i.spotShadow.length=C,i.spotShadowMap.length=C,i.directionalShadowMatrix.length=E,i.pointShadowMatrix.length=b,i.spotLightMatrix.length=C+P-L,i.spotLightMap.length=P,i.numSpotLightShadowsWithMaps=L,i.numLightProbes=N,D.directionalLength=S,D.pointLength=v,D.spotLength=g,D.rectAreaLength=x,D.hemiLength=A,D.numDirectionalShadows=E,D.numPointShadows=b,D.numSpotShadows=C,D.numSpotMaps=P,D.numLightProbes=N,i.version=loe++)}function c(u,f){let p=0,m=0,y=0,S=0,v=0;const g=f.matrixWorldInverse;for(let x=0,A=u.length;x<A;x++){const E=u[x];if(E.isDirectionalLight){const b=i.directional[p];b.direction.setFromMatrixPosition(E.matrixWorld),s.setFromMatrixPosition(E.target.matrixWorld),b.direction.sub(s),b.direction.transformDirection(g),p++}else if(E.isSpotLight){const b=i.spot[y];b.position.setFromMatrixPosition(E.matrixWorld),b.position.applyMatrix4(g),b.direction.setFromMatrixPosition(E.matrixWorld),s.setFromMatrixPosition(E.target.matrixWorld),b.direction.sub(s),b.direction.transformDirection(g),y++}else if(E.isRectAreaLight){const b=i.rectArea[S];b.position.setFromMatrixPosition(E.matrixWorld),b.position.applyMatrix4(g),a.identity(),o.copy(E.matrixWorld),o.premultiply(g),a.extractRotation(o),b.halfWidth.set(E.width*.5,0,0),b.halfHeight.set(0,E.height*.5,0),b.halfWidth.applyMatrix4(a),b.halfHeight.applyMatrix4(a),S++}else if(E.isPointLight){const b=i.point[m];b.position.setFromMatrixPosition(E.matrixWorld),b.position.applyMatrix4(g),m++}else if(E.isHemisphereLight){const b=i.hemi[v];b.direction.setFromMatrixPosition(E.matrixWorld),b.direction.transformDirection(g),v++}}}return{setup:l,setupView:c,state:i}}function HD(n,e){const t=new uoe(n,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(f){r.push(f)}function a(f){i.push(f)}function l(f){t.setup(r,f)}function c(f){t.setupView(r,f)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function hoe(n,e){let t=new WeakMap;function r(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new HD(n,e),t.set(s,[l])):o>=a.length?(l=new HD(n,e),a.push(l)):l=a[o],l}function i(){t=new WeakMap}return{get:r,dispose:i}}class m2 extends sr{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=W5,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class g2 extends sr{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const foe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,doe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function poe(n,e,t){let r=new Jm;const i=new _e,s=new _e,o=new on,a=new m2({depthPacking:X5}),l=new g2,c={},u=t.maxTextureSize,f={[Io]:xi,[xi]:Io,[ws]:ws},p=new Ys({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new _e},radius:{value:4}},vertexShader:foe,fragmentShader:doe}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const y=new Rt;y.setAttribute("position",new Jt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const S=new Jn(y,p),v=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Ix;let g=this.type;this.render=function(C,P,L){if(v.enabled===!1||v.autoUpdate===!1&&v.needsUpdate===!1||C.length===0)return;const N=n.getRenderTarget(),M=n.getActiveCubeFace(),D=n.getActiveMipmapLevel(),z=n.state;z.setBlending(ca),z.buffers.color.setClear(1,1,1,1),z.buffers.depth.setTest(!0),z.setScissorTest(!1);const W=g!==ks&&this.type===ks,H=g===ks&&this.type!==ks;for(let $=0,Z=C.length;$<Z;$++){const ae=C[$],O=ae.shadow;if(O===void 0){console.warn("THREE.WebGLShadowMap:",ae,"has no shadow.");continue}if(O.autoUpdate===!1&&O.needsUpdate===!1)continue;i.copy(O.mapSize);const j=O.getFrameExtents();if(i.multiply(j),s.copy(O.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(s.x=Math.floor(u/j.x),i.x=s.x*j.x,O.mapSize.x=s.x),i.y>u&&(s.y=Math.floor(u/j.y),i.y=s.y*j.y,O.mapSize.y=s.y)),O.map===null||W===!0||H===!0){const q=this.type!==ks?{minFilter:kn,magFilter:kn}:{};O.map!==null&&O.map.dispose(),O.map=new $s(i.x,i.y,q),O.map.texture.name=ae.name+".shadowMap",O.camera.updateProjectionMatrix()}n.setRenderTarget(O.map),n.clear();const K=O.getViewportCount();for(let q=0;q<K;q++){const te=O.getViewport(q);o.set(s.x*te.x,s.y*te.y,s.x*te.z,s.y*te.w),z.viewport(o),O.updateMatrices(ae,q),r=O.getFrustum(),E(P,L,O.camera,ae,this.type)}O.isPointLightShadow!==!0&&this.type===ks&&x(O,L),O.needsUpdate=!1}g=this.type,v.needsUpdate=!1,n.setRenderTarget(N,M,D)};function x(C,P){const L=e.update(S);p.defines.VSM_SAMPLES!==C.blurSamples&&(p.defines.VSM_SAMPLES=C.blurSamples,m.defines.VSM_SAMPLES=C.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),C.mapPass===null&&(C.mapPass=new $s(i.x,i.y)),p.uniforms.shadow_pass.value=C.map.texture,p.uniforms.resolution.value=C.mapSize,p.uniforms.radius.value=C.radius,n.setRenderTarget(C.mapPass),n.clear(),n.renderBufferDirect(P,null,L,p,S,null),m.uniforms.shadow_pass.value=C.mapPass.texture,m.uniforms.resolution.value=C.mapSize,m.uniforms.radius.value=C.radius,n.setRenderTarget(C.map),n.clear(),n.renderBufferDirect(P,null,L,m,S,null)}function A(C,P,L,N){let M=null;const D=L.isPointLight===!0?C.customDistanceMaterial:C.customDepthMaterial;if(D!==void 0)M=D;else if(M=L.isPointLight===!0?l:a,n.localClippingEnabled&&P.clipShadows===!0&&Array.isArray(P.clippingPlanes)&&P.clippingPlanes.length!==0||P.displacementMap&&P.displacementScale!==0||P.alphaMap&&P.alphaTest>0||P.map&&P.alphaTest>0){const z=M.uuid,W=P.uuid;let H=c[z];H===void 0&&(H={},c[z]=H);let $=H[W];$===void 0&&($=M.clone(),H[W]=$,P.addEventListener("dispose",b)),M=$}if(M.visible=P.visible,M.wireframe=P.wireframe,N===ks?M.side=P.shadowSide!==null?P.shadowSide:P.side:M.side=P.shadowSide!==null?P.shadowSide:f[P.side],M.alphaMap=P.alphaMap,M.alphaTest=P.alphaTest,M.map=P.map,M.clipShadows=P.clipShadows,M.clippingPlanes=P.clippingPlanes,M.clipIntersection=P.clipIntersection,M.displacementMap=P.displacementMap,M.displacementScale=P.displacementScale,M.displacementBias=P.displacementBias,M.wireframeLinewidth=P.wireframeLinewidth,M.linewidth=P.linewidth,L.isPointLight===!0&&M.isMeshDistanceMaterial===!0){const z=n.properties.get(M);z.light=L}return M}function E(C,P,L,N,M){if(C.visible===!1)return;if(C.layers.test(P.layers)&&(C.isMesh||C.isLine||C.isPoints)&&(C.castShadow||C.receiveShadow&&M===ks)&&(!C.frustumCulled||r.intersectsObject(C))){C.modelViewMatrix.multiplyMatrices(L.matrixWorldInverse,C.matrixWorld);const W=e.update(C),H=C.material;if(Array.isArray(H)){const $=W.groups;for(let Z=0,ae=$.length;Z<ae;Z++){const O=$[Z],j=H[O.materialIndex];if(j&&j.visible){const K=A(C,j,N,M);C.onBeforeShadow(n,C,P,L,W,K,O),n.renderBufferDirect(L,null,W,K,C,O),C.onAfterShadow(n,C,P,L,W,K,O)}}}else if(H.visible){const $=A(C,H,N,M);C.onBeforeShadow(n,C,P,L,W,$,null),n.renderBufferDirect(L,null,W,$,C,null),C.onAfterShadow(n,C,P,L,W,$,null)}}const z=C.children;for(let W=0,H=z.length;W<H;W++)E(z[W],P,L,N,M)}function b(C){C.target.removeEventListener("dispose",b);for(const L in c){const N=c[L],M=C.target.uuid;M in N&&(N[M].dispose(),delete N[M])}}}function moe(n,e,t){const r=t.isWebGL2;function i(){let X=!1;const Ie=new on;let Be=null;const tt=new on(0,0,0,0);return{setMask:function(nt){Be!==nt&&!X&&(n.colorMask(nt,nt,nt,nt),Be=nt)},setLocked:function(nt){X=nt},setClear:function(nt,Lt,Gt,fn,Gn){Gn===!0&&(nt*=fn,Lt*=fn,Gt*=fn),Ie.set(nt,Lt,Gt,fn),tt.equals(Ie)===!1&&(n.clearColor(nt,Lt,Gt,fn),tt.copy(Ie))},reset:function(){X=!1,Be=null,tt.set(-1,0,0,0)}}}function s(){let X=!1,Ie=null,Be=null,tt=null;return{setTest:function(nt){nt?ke(n.DEPTH_TEST):ce(n.DEPTH_TEST)},setMask:function(nt){Ie!==nt&&!X&&(n.depthMask(nt),Ie=nt)},setFunc:function(nt){if(Be!==nt){switch(nt){case v5:n.depthFunc(n.NEVER);break;case _5:n.depthFunc(n.ALWAYS);break;case x5:n.depthFunc(n.LESS);break;case rm:n.depthFunc(n.LEQUAL);break;case S5:n.depthFunc(n.EQUAL);break;case A5:n.depthFunc(n.GEQUAL);break;case w5:n.depthFunc(n.GREATER);break;case E5:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}Be=nt}},setLocked:function(nt){X=nt},setClear:function(nt){tt!==nt&&(n.clearDepth(nt),tt=nt)},reset:function(){X=!1,Ie=null,Be=null,tt=null}}}function o(){let X=!1,Ie=null,Be=null,tt=null,nt=null,Lt=null,Gt=null,fn=null,Gn=null;return{setTest:function($t){X||($t?ke(n.STENCIL_TEST):ce(n.STENCIL_TEST))},setMask:function($t){Ie!==$t&&!X&&(n.stencilMask($t),Ie=$t)},setFunc:function($t,Mr,ss){(Be!==$t||tt!==Mr||nt!==ss)&&(n.stencilFunc($t,Mr,ss),Be=$t,tt=Mr,nt=ss)},setOp:function($t,Mr,ss){(Lt!==$t||Gt!==Mr||fn!==ss)&&(n.stencilOp($t,Mr,ss),Lt=$t,Gt=Mr,fn=ss)},setLocked:function($t){X=$t},setClear:function($t){Gn!==$t&&(n.clearStencil($t),Gn=$t)},reset:function(){X=!1,Ie=null,Be=null,tt=null,nt=null,Lt=null,Gt=null,fn=null,Gn=null}}}const a=new i,l=new s,c=new o,u=new WeakMap,f=new WeakMap;let p={},m={},y=new WeakMap,S=[],v=null,g=!1,x=null,A=null,E=null,b=null,C=null,P=null,L=null,N=new Ve(0,0,0),M=0,D=!1,z=null,W=null,H=null,$=null,Z=null;const ae=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let O=!1,j=0;const K=n.getParameter(n.VERSION);K.indexOf("WebGL")!==-1?(j=parseFloat(/^WebGL (\d)/.exec(K)[1]),O=j>=1):K.indexOf("OpenGL ES")!==-1&&(j=parseFloat(/^OpenGL ES (\d)/.exec(K)[1]),O=j>=2);let q=null,te={};const Me=n.getParameter(n.SCISSOR_BOX),ne=n.getParameter(n.VIEWPORT),de=new on().fromArray(Me),Ae=new on().fromArray(ne);function Pe(X,Ie,Be,tt){const nt=new Uint8Array(4),Lt=n.createTexture();n.bindTexture(X,Lt),n.texParameteri(X,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(X,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Gt=0;Gt<Be;Gt++)r&&(X===n.TEXTURE_3D||X===n.TEXTURE_2D_ARRAY)?n.texImage3D(Ie,0,n.RGBA,1,1,tt,0,n.RGBA,n.UNSIGNED_BYTE,nt):n.texImage2D(Ie+Gt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,nt);return Lt}const Ke={};Ke[n.TEXTURE_2D]=Pe(n.TEXTURE_2D,n.TEXTURE_2D,1),Ke[n.TEXTURE_CUBE_MAP]=Pe(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(Ke[n.TEXTURE_2D_ARRAY]=Pe(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),Ke[n.TEXTURE_3D]=Pe(n.TEXTURE_3D,n.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),ke(n.DEPTH_TEST),l.setFunc(rm),Ee(!1),F(LT),ke(n.CULL_FACE),le(ca);function ke(X){p[X]!==!0&&(n.enable(X),p[X]=!0)}function ce(X){p[X]!==!1&&(n.disable(X),p[X]=!1)}function oe(X,Ie){return m[X]!==Ie?(n.bindFramebuffer(X,Ie),m[X]=Ie,r&&(X===n.DRAW_FRAMEBUFFER&&(m[n.FRAMEBUFFER]=Ie),X===n.FRAMEBUFFER&&(m[n.DRAW_FRAMEBUFFER]=Ie)),!0):!1}function V(X,Ie){let Be=S,tt=!1;if(X)if(Be=y.get(Ie),Be===void 0&&(Be=[],y.set(Ie,Be)),X.isWebGLMultipleRenderTargets){const nt=X.texture;if(Be.length!==nt.length||Be[0]!==n.COLOR_ATTACHMENT0){for(let Lt=0,Gt=nt.length;Lt<Gt;Lt++)Be[Lt]=n.COLOR_ATTACHMENT0+Lt;Be.length=nt.length,tt=!0}}else Be[0]!==n.COLOR_ATTACHMENT0&&(Be[0]=n.COLOR_ATTACHMENT0,tt=!0);else Be[0]!==n.BACK&&(Be[0]=n.BACK,tt=!0);tt&&(t.isWebGL2?n.drawBuffers(Be):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Be))}function he(X){return v!==X?(n.useProgram(X),v=X,!0):!1}const ie={[$a]:n.FUNC_ADD,[r5]:n.FUNC_SUBTRACT,[i5]:n.FUNC_REVERSE_SUBTRACT};if(r)ie[OT]=n.MIN,ie[FT]=n.MAX;else{const X=e.get("EXT_blend_minmax");X!==null&&(ie[OT]=X.MIN_EXT,ie[FT]=X.MAX_EXT)}const ye={[s5]:n.ZERO,[o5]:n.ONE,[a5]:n.SRC_COLOR,[p_]:n.SRC_ALPHA,[d5]:n.SRC_ALPHA_SATURATE,[h5]:n.DST_COLOR,[c5]:n.DST_ALPHA,[l5]:n.ONE_MINUS_SRC_COLOR,[m_]:n.ONE_MINUS_SRC_ALPHA,[f5]:n.ONE_MINUS_DST_COLOR,[u5]:n.ONE_MINUS_DST_ALPHA,[p5]:n.CONSTANT_COLOR,[m5]:n.ONE_MINUS_CONSTANT_COLOR,[g5]:n.CONSTANT_ALPHA,[y5]:n.ONE_MINUS_CONSTANT_ALPHA};function le(X,Ie,Be,tt,nt,Lt,Gt,fn,Gn,$t){if(X===ca){g===!0&&(ce(n.BLEND),g=!1);return}if(g===!1&&(ke(n.BLEND),g=!0),X!==n5){if(X!==x||$t!==D){if((A!==$a||C!==$a)&&(n.blendEquation(n.FUNC_ADD),A=$a,C=$a),$t)switch(X){case Fc:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case DT:n.blendFunc(n.ONE,n.ONE);break;case BT:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case NT:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",X);break}else switch(X){case Fc:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case DT:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case BT:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case NT:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",X);break}E=null,b=null,P=null,L=null,N.set(0,0,0),M=0,x=X,D=$t}return}nt=nt||Ie,Lt=Lt||Be,Gt=Gt||tt,(Ie!==A||nt!==C)&&(n.blendEquationSeparate(ie[Ie],ie[nt]),A=Ie,C=nt),(Be!==E||tt!==b||Lt!==P||Gt!==L)&&(n.blendFuncSeparate(ye[Be],ye[tt],ye[Lt],ye[Gt]),E=Be,b=tt,P=Lt,L=Gt),(fn.equals(N)===!1||Gn!==M)&&(n.blendColor(fn.r,fn.g,fn.b,Gn),N.copy(fn),M=Gn),x=X,D=!1}function be(X,Ie){X.side===ws?ce(n.CULL_FACE):ke(n.CULL_FACE);let Be=X.side===xi;Ie&&(Be=!Be),Ee(Be),X.blending===Fc&&X.transparent===!1?le(ca):le(X.blending,X.blendEquation,X.blendSrc,X.blendDst,X.blendEquationAlpha,X.blendSrcAlpha,X.blendDstAlpha,X.blendColor,X.blendAlpha,X.premultipliedAlpha),l.setFunc(X.depthFunc),l.setTest(X.depthTest),l.setMask(X.depthWrite),a.setMask(X.colorWrite);const tt=X.stencilWrite;c.setTest(tt),tt&&(c.setMask(X.stencilWriteMask),c.setFunc(X.stencilFunc,X.stencilRef,X.stencilFuncMask),c.setOp(X.stencilFail,X.stencilZFail,X.stencilZPass)),J(X.polygonOffset,X.polygonOffsetFactor,X.polygonOffsetUnits),X.alphaToCoverage===!0?ke(n.SAMPLE_ALPHA_TO_COVERAGE):ce(n.SAMPLE_ALPHA_TO_COVERAGE)}function Ee(X){z!==X&&(X?n.frontFace(n.CW):n.frontFace(n.CCW),z=X)}function F(X){X!==Z9?(ke(n.CULL_FACE),X!==W&&(X===LT?n.cullFace(n.BACK):X===e5?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):ce(n.CULL_FACE),W=X}function B(X){X!==H&&(O&&n.lineWidth(X),H=X)}function J(X,Ie,Be){X?(ke(n.POLYGON_OFFSET_FILL),($!==Ie||Z!==Be)&&(n.polygonOffset(Ie,Be),$=Ie,Z=Be)):ce(n.POLYGON_OFFSET_FILL)}function xe(X){X?ke(n.SCISSOR_TEST):ce(n.SCISSOR_TEST)}function Se(X){X===void 0&&(X=n.TEXTURE0+ae-1),q!==X&&(n.activeTexture(X),q=X)}function we(X,Ie,Be){Be===void 0&&(q===null?Be=n.TEXTURE0+ae-1:Be=q);let tt=te[Be];tt===void 0&&(tt={type:void 0,texture:void 0},te[Be]=tt),(tt.type!==X||tt.texture!==Ie)&&(q!==Be&&(n.activeTexture(Be),q=Be),n.bindTexture(X,Ie||Ke[X]),tt.type=X,tt.texture=Ie)}function qe(){const X=te[q];X!==void 0&&X.type!==void 0&&(n.bindTexture(X.type,null),X.type=void 0,X.texture=void 0)}function Ne(){try{n.compressedTexImage2D.apply(n,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function Ue(){try{n.compressedTexImage3D.apply(n,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function lt(){try{n.texSubImage2D.apply(n,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function At(){try{n.texSubImage3D.apply(n,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function Re(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function zt(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function It(){try{n.texStorage2D.apply(n,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function yt(){try{n.texStorage3D.apply(n,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function at(){try{n.texImage2D.apply(n,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function Ye(){try{n.texImage3D.apply(n,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function Q(X){de.equals(X)===!1&&(n.scissor(X.x,X.y,X.z,X.w),de.copy(X))}function Te(X){Ae.equals(X)===!1&&(n.viewport(X.x,X.y,X.z,X.w),Ae.copy(X))}function He(X,Ie){let Be=f.get(Ie);Be===void 0&&(Be=new WeakMap,f.set(Ie,Be));let tt=Be.get(X);tt===void 0&&(tt=n.getUniformBlockIndex(Ie,X.name),Be.set(X,tt))}function Je(X,Ie){const tt=f.get(Ie).get(X);u.get(Ie)!==tt&&(n.uniformBlockBinding(Ie,tt,X.__bindingPointIndex),u.set(Ie,tt))}function vt(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),r===!0&&(n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),p={},q=null,te={},m={},y=new WeakMap,S=[],v=null,g=!1,x=null,A=null,E=null,b=null,C=null,P=null,L=null,N=new Ve(0,0,0),M=0,D=!1,z=null,W=null,H=null,$=null,Z=null,de.set(0,0,n.canvas.width,n.canvas.height),Ae.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:ke,disable:ce,bindFramebuffer:oe,drawBuffers:V,useProgram:he,setBlending:le,setMaterial:be,setFlipSided:Ee,setCullFace:F,setLineWidth:B,setPolygonOffset:J,setScissorTest:xe,activeTexture:Se,bindTexture:we,unbindTexture:qe,compressedTexImage2D:Ne,compressedTexImage3D:Ue,texImage2D:at,texImage3D:Ye,updateUBOMapping:He,uniformBlockBinding:Je,texStorage2D:It,texStorage3D:yt,texSubImage2D:lt,texSubImage3D:At,compressedTexSubImage2D:Re,compressedTexSubImage3D:zt,scissor:Q,viewport:Te,reset:vt}}function goe(n,e,t,r,i,s,o){const a=i.isWebGL2,l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,c=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new WeakMap;let f;const p=new WeakMap;let m=!1;try{m=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function y(F,B){return m?new OffscreenCanvas(F,B):dm("canvas")}function S(F,B,J,xe){let Se=1;if((F.width>xe||F.height>xe)&&(Se=xe/Math.max(F.width,F.height)),Se<1||B===!0)if(typeof HTMLImageElement<"u"&&F instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&F instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&F instanceof ImageBitmap){const we=B?v_:Math.floor,qe=we(Se*F.width),Ne=we(Se*F.height);f===void 0&&(f=y(qe,Ne));const Ue=J?y(qe,Ne):f;return Ue.width=qe,Ue.height=Ne,Ue.getContext("2d").drawImage(F,0,0,qe,Ne),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+F.width+"x"+F.height+") to ("+qe+"x"+Ne+")."),Ue}else return"data"in F&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+F.width+"x"+F.height+")."),F;return F}function v(F){return fM(F.width)&&fM(F.height)}function g(F){return a?!1:F.wrapS!==Nr||F.wrapT!==Nr||F.minFilter!==kn&&F.minFilter!==vn}function x(F,B){return F.generateMipmaps&&B&&F.minFilter!==kn&&F.minFilter!==vn}function A(F){n.generateMipmap(F)}function E(F,B,J,xe,Se=!1){if(a===!1)return B;if(F!==null){if(n[F]!==void 0)return n[F];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+F+"'")}let we=B;if(B===n.RED&&(J===n.FLOAT&&(we=n.R32F),J===n.HALF_FLOAT&&(we=n.R16F),J===n.UNSIGNED_BYTE&&(we=n.R8)),B===n.RED_INTEGER&&(J===n.UNSIGNED_BYTE&&(we=n.R8UI),J===n.UNSIGNED_SHORT&&(we=n.R16UI),J===n.UNSIGNED_INT&&(we=n.R32UI),J===n.BYTE&&(we=n.R8I),J===n.SHORT&&(we=n.R16I),J===n.INT&&(we=n.R32I)),B===n.RG&&(J===n.FLOAT&&(we=n.RG32F),J===n.HALF_FLOAT&&(we=n.RG16F),J===n.UNSIGNED_BYTE&&(we=n.RG8)),B===n.RGBA){const qe=Se?lm:sn.getTransfer(xe);J===n.FLOAT&&(we=n.RGBA32F),J===n.HALF_FLOAT&&(we=n.RGBA16F),J===n.UNSIGNED_BYTE&&(we=qe===dn?n.SRGB8_ALPHA8:n.RGBA8),J===n.UNSIGNED_SHORT_4_4_4_4&&(we=n.RGBA4),J===n.UNSIGNED_SHORT_5_5_5_1&&(we=n.RGB5_A1)}return(we===n.R16F||we===n.R32F||we===n.RG16F||we===n.RG32F||we===n.RGBA16F||we===n.RGBA32F)&&e.get("EXT_color_buffer_float"),we}function b(F,B,J){return x(F,J)===!0||F.isFramebufferTexture&&F.minFilter!==kn&&F.minFilter!==vn?Math.log2(Math.max(B.width,B.height))+1:F.mipmaps!==void 0&&F.mipmaps.length>0?F.mipmaps.length:F.isCompressedTexture&&Array.isArray(F.image)?B.mipmaps.length:1}function C(F){return F===kn||F===om||F===Ya?n.NEAREST:n.LINEAR}function P(F){const B=F.target;B.removeEventListener("dispose",P),N(B),B.isVideoTexture&&u.delete(B)}function L(F){const B=F.target;B.removeEventListener("dispose",L),D(B)}function N(F){const B=r.get(F);if(B.__webglInit===void 0)return;const J=F.source,xe=p.get(J);if(xe){const Se=xe[B.__cacheKey];Se.usedTimes--,Se.usedTimes===0&&M(F),Object.keys(xe).length===0&&p.delete(J)}r.remove(F)}function M(F){const B=r.get(F);n.deleteTexture(B.__webglTexture);const J=F.source,xe=p.get(J);delete xe[B.__cacheKey],o.memory.textures--}function D(F){const B=F.texture,J=r.get(F),xe=r.get(B);if(xe.__webglTexture!==void 0&&(n.deleteTexture(xe.__webglTexture),o.memory.textures--),F.depthTexture&&F.depthTexture.dispose(),F.isWebGLCubeRenderTarget)for(let Se=0;Se<6;Se++){if(Array.isArray(J.__webglFramebuffer[Se]))for(let we=0;we<J.__webglFramebuffer[Se].length;we++)n.deleteFramebuffer(J.__webglFramebuffer[Se][we]);else n.deleteFramebuffer(J.__webglFramebuffer[Se]);J.__webglDepthbuffer&&n.deleteRenderbuffer(J.__webglDepthbuffer[Se])}else{if(Array.isArray(J.__webglFramebuffer))for(let Se=0;Se<J.__webglFramebuffer.length;Se++)n.deleteFramebuffer(J.__webglFramebuffer[Se]);else n.deleteFramebuffer(J.__webglFramebuffer);if(J.__webglDepthbuffer&&n.deleteRenderbuffer(J.__webglDepthbuffer),J.__webglMultisampledFramebuffer&&n.deleteFramebuffer(J.__webglMultisampledFramebuffer),J.__webglColorRenderbuffer)for(let Se=0;Se<J.__webglColorRenderbuffer.length;Se++)J.__webglColorRenderbuffer[Se]&&n.deleteRenderbuffer(J.__webglColorRenderbuffer[Se]);J.__webglDepthRenderbuffer&&n.deleteRenderbuffer(J.__webglDepthRenderbuffer)}if(F.isWebGLMultipleRenderTargets)for(let Se=0,we=B.length;Se<we;Se++){const qe=r.get(B[Se]);qe.__webglTexture&&(n.deleteTexture(qe.__webglTexture),o.memory.textures--),r.remove(B[Se])}r.remove(B),r.remove(F)}let z=0;function W(){z=0}function H(){const F=z;return F>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+F+" texture units while this GPU supports only "+i.maxTextures),z+=1,F}function $(F){const B=[];return B.push(F.wrapS),B.push(F.wrapT),B.push(F.wrapR||0),B.push(F.magFilter),B.push(F.minFilter),B.push(F.anisotropy),B.push(F.internalFormat),B.push(F.format),B.push(F.type),B.push(F.generateMipmaps),B.push(F.premultiplyAlpha),B.push(F.flipY),B.push(F.unpackAlignment),B.push(F.colorSpace),B.join()}function Z(F,B){const J=r.get(F);if(F.isVideoTexture&&be(F),F.isRenderTargetTexture===!1&&F.version>0&&J.__version!==F.version){const xe=F.image;if(xe===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(xe.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{de(J,F,B);return}}t.bindTexture(n.TEXTURE_2D,J.__webglTexture,n.TEXTURE0+B)}function ae(F,B){const J=r.get(F);if(F.version>0&&J.__version!==F.version){de(J,F,B);return}t.bindTexture(n.TEXTURE_2D_ARRAY,J.__webglTexture,n.TEXTURE0+B)}function O(F,B){const J=r.get(F);if(F.version>0&&J.__version!==F.version){de(J,F,B);return}t.bindTexture(n.TEXTURE_3D,J.__webglTexture,n.TEXTURE0+B)}function j(F,B){const J=r.get(F);if(F.version>0&&J.__version!==F.version){Ae(J,F,B);return}t.bindTexture(n.TEXTURE_CUBE_MAP,J.__webglTexture,n.TEXTURE0+B)}const K={[Ml]:n.REPEAT,[Nr]:n.CLAMP_TO_EDGE,[ff]:n.MIRRORED_REPEAT},q={[kn]:n.NEAREST,[om]:n.NEAREST_MIPMAP_NEAREST,[Ya]:n.NEAREST_MIPMAP_LINEAR,[vn]:n.LINEAR,[jh]:n.LINEAR_MIPMAP_NEAREST,[Ms]:n.LINEAR_MIPMAP_LINEAR},te={[J5]:n.NEVER,[e6]:n.ALWAYS,[$5]:n.LESS,[s2]:n.LEQUAL,[Y5]:n.EQUAL,[Z5]:n.GEQUAL,[q5]:n.GREATER,[Q5]:n.NOTEQUAL};function Me(F,B,J){if(B.type===Es&&e.has("OES_texture_float_linear")===!1&&(B.magFilter===vn||B.magFilter===jh||B.magFilter===Ya||B.magFilter===Ms||B.minFilter===vn||B.minFilter===jh||B.minFilter===Ya||B.minFilter===Ms)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),J?(n.texParameteri(F,n.TEXTURE_WRAP_S,K[B.wrapS]),n.texParameteri(F,n.TEXTURE_WRAP_T,K[B.wrapT]),(F===n.TEXTURE_3D||F===n.TEXTURE_2D_ARRAY)&&n.texParameteri(F,n.TEXTURE_WRAP_R,K[B.wrapR]),n.texParameteri(F,n.TEXTURE_MAG_FILTER,q[B.magFilter]),n.texParameteri(F,n.TEXTURE_MIN_FILTER,q[B.minFilter])):(n.texParameteri(F,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(F,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),(F===n.TEXTURE_3D||F===n.TEXTURE_2D_ARRAY)&&n.texParameteri(F,n.TEXTURE_WRAP_R,n.CLAMP_TO_EDGE),(B.wrapS!==Nr||B.wrapT!==Nr)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(F,n.TEXTURE_MAG_FILTER,C(B.magFilter)),n.texParameteri(F,n.TEXTURE_MIN_FILTER,C(B.minFilter)),B.minFilter!==kn&&B.minFilter!==vn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),B.compareFunction&&(n.texParameteri(F,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(F,n.TEXTURE_COMPARE_FUNC,te[B.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const xe=e.get("EXT_texture_filter_anisotropic");if(B.magFilter===kn||B.minFilter!==Ya&&B.minFilter!==Ms||B.type===Es&&e.has("OES_texture_float_linear")===!1||a===!1&&B.type===df&&e.has("OES_texture_half_float_linear")===!1)return;(B.anisotropy>1||r.get(B).__currentAnisotropy)&&(n.texParameterf(F,xe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(B.anisotropy,i.getMaxAnisotropy())),r.get(B).__currentAnisotropy=B.anisotropy)}}function ne(F,B){let J=!1;F.__webglInit===void 0&&(F.__webglInit=!0,B.addEventListener("dispose",P));const xe=B.source;let Se=p.get(xe);Se===void 0&&(Se={},p.set(xe,Se));const we=$(B);if(we!==F.__cacheKey){Se[we]===void 0&&(Se[we]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,J=!0),Se[we].usedTimes++;const qe=Se[F.__cacheKey];qe!==void 0&&(Se[F.__cacheKey].usedTimes--,qe.usedTimes===0&&M(B)),F.__cacheKey=we,F.__webglTexture=Se[we].texture}return J}function de(F,B,J){let xe=n.TEXTURE_2D;(B.isDataArrayTexture||B.isCompressedArrayTexture)&&(xe=n.TEXTURE_2D_ARRAY),B.isData3DTexture&&(xe=n.TEXTURE_3D);const Se=ne(F,B),we=B.source;t.bindTexture(xe,F.__webglTexture,n.TEXTURE0+J);const qe=r.get(we);if(we.version!==qe.__version||Se===!0){t.activeTexture(n.TEXTURE0+J);const Ne=sn.getPrimaries(sn.workingColorSpace),Ue=B.colorSpace===ji?null:sn.getPrimaries(B.colorSpace),lt=B.colorSpace===ji||Ne===Ue?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,B.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,B.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,B.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,lt);const At=g(B)&&v(B.image)===!1;let Re=S(B.image,At,!1,i.maxTextureSize);Re=Ee(B,Re);const zt=v(Re)||a,It=s.convert(B.format,B.colorSpace);let yt=s.convert(B.type),at=E(B.internalFormat,It,yt,B.colorSpace,B.isVideoTexture);Me(xe,B,zt);let Ye;const Q=B.mipmaps,Te=a&&B.isVideoTexture!==!0&&at!==t2,He=qe.__version===void 0||Se===!0,Je=we.dataReady,vt=b(B,Re,zt);if(B.isDepthTexture)at=n.DEPTH_COMPONENT,a?B.type===Es?at=n.DEPTH_COMPONENT32F:B.type===ra?at=n.DEPTH_COMPONENT24:B.type===pl?at=n.DEPTH24_STENCIL8:at=n.DEPTH_COMPONENT16:B.type===Es&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),B.format===ml&&at===n.DEPTH_COMPONENT&&B.type!==Dx&&B.type!==ra&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),B.type=ra,yt=s.convert(B.type)),B.format===eu&&at===n.DEPTH_COMPONENT&&(at=n.DEPTH_STENCIL,B.type!==pl&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),B.type=pl,yt=s.convert(B.type))),He&&(Te?t.texStorage2D(n.TEXTURE_2D,1,at,Re.width,Re.height):t.texImage2D(n.TEXTURE_2D,0,at,Re.width,Re.height,0,It,yt,null));else if(B.isDataTexture)if(Q.length>0&&zt){Te&&He&&t.texStorage2D(n.TEXTURE_2D,vt,at,Q[0].width,Q[0].height);for(let X=0,Ie=Q.length;X<Ie;X++)Ye=Q[X],Te?Je&&t.texSubImage2D(n.TEXTURE_2D,X,0,0,Ye.width,Ye.height,It,yt,Ye.data):t.texImage2D(n.TEXTURE_2D,X,at,Ye.width,Ye.height,0,It,yt,Ye.data);B.generateMipmaps=!1}else Te?(He&&t.texStorage2D(n.TEXTURE_2D,vt,at,Re.width,Re.height),Je&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,Re.width,Re.height,It,yt,Re.data)):t.texImage2D(n.TEXTURE_2D,0,at,Re.width,Re.height,0,It,yt,Re.data);else if(B.isCompressedTexture)if(B.isCompressedArrayTexture){Te&&He&&t.texStorage3D(n.TEXTURE_2D_ARRAY,vt,at,Q[0].width,Q[0].height,Re.depth);for(let X=0,Ie=Q.length;X<Ie;X++)Ye=Q[X],B.format!==gi?It!==null?Te?Je&&t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,X,0,0,0,Ye.width,Ye.height,Re.depth,It,Ye.data,0,0):t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,X,at,Ye.width,Ye.height,Re.depth,0,Ye.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Te?Je&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,X,0,0,0,Ye.width,Ye.height,Re.depth,It,yt,Ye.data):t.texImage3D(n.TEXTURE_2D_ARRAY,X,at,Ye.width,Ye.height,Re.depth,0,It,yt,Ye.data)}else{Te&&He&&t.texStorage2D(n.TEXTURE_2D,vt,at,Q[0].width,Q[0].height);for(let X=0,Ie=Q.length;X<Ie;X++)Ye=Q[X],B.format!==gi?It!==null?Te?Je&&t.compressedTexSubImage2D(n.TEXTURE_2D,X,0,0,Ye.width,Ye.height,It,Ye.data):t.compressedTexImage2D(n.TEXTURE_2D,X,at,Ye.width,Ye.height,0,Ye.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Te?Je&&t.texSubImage2D(n.TEXTURE_2D,X,0,0,Ye.width,Ye.height,It,yt,Ye.data):t.texImage2D(n.TEXTURE_2D,X,at,Ye.width,Ye.height,0,It,yt,Ye.data)}else if(B.isDataArrayTexture)Te?(He&&t.texStorage3D(n.TEXTURE_2D_ARRAY,vt,at,Re.width,Re.height,Re.depth),Je&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Re.width,Re.height,Re.depth,It,yt,Re.data)):t.texImage3D(n.TEXTURE_2D_ARRAY,0,at,Re.width,Re.height,Re.depth,0,It,yt,Re.data);else if(B.isData3DTexture)Te?(He&&t.texStorage3D(n.TEXTURE_3D,vt,at,Re.width,Re.height,Re.depth),Je&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Re.width,Re.height,Re.depth,It,yt,Re.data)):t.texImage3D(n.TEXTURE_3D,0,at,Re.width,Re.height,Re.depth,0,It,yt,Re.data);else if(B.isFramebufferTexture){if(He)if(Te)t.texStorage2D(n.TEXTURE_2D,vt,at,Re.width,Re.height);else{let X=Re.width,Ie=Re.height;for(let Be=0;Be<vt;Be++)t.texImage2D(n.TEXTURE_2D,Be,at,X,Ie,0,It,yt,null),X>>=1,Ie>>=1}}else if(Q.length>0&&zt){Te&&He&&t.texStorage2D(n.TEXTURE_2D,vt,at,Q[0].width,Q[0].height);for(let X=0,Ie=Q.length;X<Ie;X++)Ye=Q[X],Te?Je&&t.texSubImage2D(n.TEXTURE_2D,X,0,0,It,yt,Ye):t.texImage2D(n.TEXTURE_2D,X,at,It,yt,Ye);B.generateMipmaps=!1}else Te?(He&&t.texStorage2D(n.TEXTURE_2D,vt,at,Re.width,Re.height),Je&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,It,yt,Re)):t.texImage2D(n.TEXTURE_2D,0,at,It,yt,Re);x(B,zt)&&A(xe),qe.__version=we.version,B.onUpdate&&B.onUpdate(B)}F.__version=B.version}function Ae(F,B,J){if(B.image.length!==6)return;const xe=ne(F,B),Se=B.source;t.bindTexture(n.TEXTURE_CUBE_MAP,F.__webglTexture,n.TEXTURE0+J);const we=r.get(Se);if(Se.version!==we.__version||xe===!0){t.activeTexture(n.TEXTURE0+J);const qe=sn.getPrimaries(sn.workingColorSpace),Ne=B.colorSpace===ji?null:sn.getPrimaries(B.colorSpace),Ue=B.colorSpace===ji||qe===Ne?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,B.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,B.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,B.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ue);const lt=B.isCompressedTexture||B.image[0].isCompressedTexture,At=B.image[0]&&B.image[0].isDataTexture,Re=[];for(let X=0;X<6;X++)!lt&&!At?Re[X]=S(B.image[X],!1,!0,i.maxCubemapSize):Re[X]=At?B.image[X].image:B.image[X],Re[X]=Ee(B,Re[X]);const zt=Re[0],It=v(zt)||a,yt=s.convert(B.format,B.colorSpace),at=s.convert(B.type),Ye=E(B.internalFormat,yt,at,B.colorSpace),Q=a&&B.isVideoTexture!==!0,Te=we.__version===void 0||xe===!0,He=Se.dataReady;let Je=b(B,zt,It);Me(n.TEXTURE_CUBE_MAP,B,It);let vt;if(lt){Q&&Te&&t.texStorage2D(n.TEXTURE_CUBE_MAP,Je,Ye,zt.width,zt.height);for(let X=0;X<6;X++){vt=Re[X].mipmaps;for(let Ie=0;Ie<vt.length;Ie++){const Be=vt[Ie];B.format!==gi?yt!==null?Q?He&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+X,Ie,0,0,Be.width,Be.height,yt,Be.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+X,Ie,Ye,Be.width,Be.height,0,Be.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Q?He&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+X,Ie,0,0,Be.width,Be.height,yt,at,Be.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+X,Ie,Ye,Be.width,Be.height,0,yt,at,Be.data)}}}else{vt=B.mipmaps,Q&&Te&&(vt.length>0&&Je++,t.texStorage2D(n.TEXTURE_CUBE_MAP,Je,Ye,Re[0].width,Re[0].height));for(let X=0;X<6;X++)if(At){Q?He&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+X,0,0,0,Re[X].width,Re[X].height,yt,at,Re[X].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+X,0,Ye,Re[X].width,Re[X].height,0,yt,at,Re[X].data);for(let Ie=0;Ie<vt.length;Ie++){const tt=vt[Ie].image[X].image;Q?He&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+X,Ie+1,0,0,tt.width,tt.height,yt,at,tt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+X,Ie+1,Ye,tt.width,tt.height,0,yt,at,tt.data)}}else{Q?He&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+X,0,0,0,yt,at,Re[X]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+X,0,Ye,yt,at,Re[X]);for(let Ie=0;Ie<vt.length;Ie++){const Be=vt[Ie];Q?He&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+X,Ie+1,0,0,yt,at,Be.image[X]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+X,Ie+1,Ye,yt,at,Be.image[X])}}}x(B,It)&&A(n.TEXTURE_CUBE_MAP),we.__version=Se.version,B.onUpdate&&B.onUpdate(B)}F.__version=B.version}function Pe(F,B,J,xe,Se,we){const qe=s.convert(J.format,J.colorSpace),Ne=s.convert(J.type),Ue=E(J.internalFormat,qe,Ne,J.colorSpace);if(!r.get(B).__hasExternalTextures){const At=Math.max(1,B.width>>we),Re=Math.max(1,B.height>>we);Se===n.TEXTURE_3D||Se===n.TEXTURE_2D_ARRAY?t.texImage3D(Se,we,Ue,At,Re,B.depth,0,qe,Ne,null):t.texImage2D(Se,we,Ue,At,Re,0,qe,Ne,null)}t.bindFramebuffer(n.FRAMEBUFFER,F),le(B)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,xe,Se,r.get(J).__webglTexture,0,ye(B)):(Se===n.TEXTURE_2D||Se>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Se<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,xe,Se,r.get(J).__webglTexture,we),t.bindFramebuffer(n.FRAMEBUFFER,null)}function Ke(F,B,J){if(n.bindRenderbuffer(n.RENDERBUFFER,F),B.depthBuffer&&!B.stencilBuffer){let xe=a===!0?n.DEPTH_COMPONENT24:n.DEPTH_COMPONENT16;if(J||le(B)){const Se=B.depthTexture;Se&&Se.isDepthTexture&&(Se.type===Es?xe=n.DEPTH_COMPONENT32F:Se.type===ra&&(xe=n.DEPTH_COMPONENT24));const we=ye(B);le(B)?l.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,we,xe,B.width,B.height):n.renderbufferStorageMultisample(n.RENDERBUFFER,we,xe,B.width,B.height)}else n.renderbufferStorage(n.RENDERBUFFER,xe,B.width,B.height);n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,F)}else if(B.depthBuffer&&B.stencilBuffer){const xe=ye(B);J&&le(B)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,xe,n.DEPTH24_STENCIL8,B.width,B.height):le(B)?l.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,xe,n.DEPTH24_STENCIL8,B.width,B.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,B.width,B.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,F)}else{const xe=B.isWebGLMultipleRenderTargets===!0?B.texture:[B.texture];for(let Se=0;Se<xe.length;Se++){const we=xe[Se],qe=s.convert(we.format,we.colorSpace),Ne=s.convert(we.type),Ue=E(we.internalFormat,qe,Ne,we.colorSpace),lt=ye(B);J&&le(B)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,lt,Ue,B.width,B.height):le(B)?l.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,lt,Ue,B.width,B.height):n.renderbufferStorage(n.RENDERBUFFER,Ue,B.width,B.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function ke(F,B){if(B&&B.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,F),!(B.depthTexture&&B.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(B.depthTexture).__webglTexture||B.depthTexture.image.width!==B.width||B.depthTexture.image.height!==B.height)&&(B.depthTexture.image.width=B.width,B.depthTexture.image.height=B.height,B.depthTexture.needsUpdate=!0),Z(B.depthTexture,0);const xe=r.get(B.depthTexture).__webglTexture,Se=ye(B);if(B.depthTexture.format===ml)le(B)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,xe,0,Se):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,xe,0);else if(B.depthTexture.format===eu)le(B)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,xe,0,Se):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,xe,0);else throw new Error("Unknown depthTexture format")}function ce(F){const B=r.get(F),J=F.isWebGLCubeRenderTarget===!0;if(F.depthTexture&&!B.__autoAllocateDepthBuffer){if(J)throw new Error("target.depthTexture not supported in Cube render targets");ke(B.__webglFramebuffer,F)}else if(J){B.__webglDepthbuffer=[];for(let xe=0;xe<6;xe++)t.bindFramebuffer(n.FRAMEBUFFER,B.__webglFramebuffer[xe]),B.__webglDepthbuffer[xe]=n.createRenderbuffer(),Ke(B.__webglDepthbuffer[xe],F,!1)}else t.bindFramebuffer(n.FRAMEBUFFER,B.__webglFramebuffer),B.__webglDepthbuffer=n.createRenderbuffer(),Ke(B.__webglDepthbuffer,F,!1);t.bindFramebuffer(n.FRAMEBUFFER,null)}function oe(F,B,J){const xe=r.get(F);B!==void 0&&Pe(xe.__webglFramebuffer,F,F.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),J!==void 0&&ce(F)}function V(F){const B=F.texture,J=r.get(F),xe=r.get(B);F.addEventListener("dispose",L),F.isWebGLMultipleRenderTargets!==!0&&(xe.__webglTexture===void 0&&(xe.__webglTexture=n.createTexture()),xe.__version=B.version,o.memory.textures++);const Se=F.isWebGLCubeRenderTarget===!0,we=F.isWebGLMultipleRenderTargets===!0,qe=v(F)||a;if(Se){J.__webglFramebuffer=[];for(let Ne=0;Ne<6;Ne++)if(a&&B.mipmaps&&B.mipmaps.length>0){J.__webglFramebuffer[Ne]=[];for(let Ue=0;Ue<B.mipmaps.length;Ue++)J.__webglFramebuffer[Ne][Ue]=n.createFramebuffer()}else J.__webglFramebuffer[Ne]=n.createFramebuffer()}else{if(a&&B.mipmaps&&B.mipmaps.length>0){J.__webglFramebuffer=[];for(let Ne=0;Ne<B.mipmaps.length;Ne++)J.__webglFramebuffer[Ne]=n.createFramebuffer()}else J.__webglFramebuffer=n.createFramebuffer();if(we)if(i.drawBuffers){const Ne=F.texture;for(let Ue=0,lt=Ne.length;Ue<lt;Ue++){const At=r.get(Ne[Ue]);At.__webglTexture===void 0&&(At.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&F.samples>0&&le(F)===!1){const Ne=we?B:[B];J.__webglMultisampledFramebuffer=n.createFramebuffer(),J.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,J.__webglMultisampledFramebuffer);for(let Ue=0;Ue<Ne.length;Ue++){const lt=Ne[Ue];J.__webglColorRenderbuffer[Ue]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,J.__webglColorRenderbuffer[Ue]);const At=s.convert(lt.format,lt.colorSpace),Re=s.convert(lt.type),zt=E(lt.internalFormat,At,Re,lt.colorSpace,F.isXRRenderTarget===!0),It=ye(F);n.renderbufferStorageMultisample(n.RENDERBUFFER,It,zt,F.width,F.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ue,n.RENDERBUFFER,J.__webglColorRenderbuffer[Ue])}n.bindRenderbuffer(n.RENDERBUFFER,null),F.depthBuffer&&(J.__webglDepthRenderbuffer=n.createRenderbuffer(),Ke(J.__webglDepthRenderbuffer,F,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Se){t.bindTexture(n.TEXTURE_CUBE_MAP,xe.__webglTexture),Me(n.TEXTURE_CUBE_MAP,B,qe);for(let Ne=0;Ne<6;Ne++)if(a&&B.mipmaps&&B.mipmaps.length>0)for(let Ue=0;Ue<B.mipmaps.length;Ue++)Pe(J.__webglFramebuffer[Ne][Ue],F,B,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ne,Ue);else Pe(J.__webglFramebuffer[Ne],F,B,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ne,0);x(B,qe)&&A(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(we){const Ne=F.texture;for(let Ue=0,lt=Ne.length;Ue<lt;Ue++){const At=Ne[Ue],Re=r.get(At);t.bindTexture(n.TEXTURE_2D,Re.__webglTexture),Me(n.TEXTURE_2D,At,qe),Pe(J.__webglFramebuffer,F,At,n.COLOR_ATTACHMENT0+Ue,n.TEXTURE_2D,0),x(At,qe)&&A(n.TEXTURE_2D)}t.unbindTexture()}else{let Ne=n.TEXTURE_2D;if((F.isWebGL3DRenderTarget||F.isWebGLArrayRenderTarget)&&(a?Ne=F.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Ne,xe.__webglTexture),Me(Ne,B,qe),a&&B.mipmaps&&B.mipmaps.length>0)for(let Ue=0;Ue<B.mipmaps.length;Ue++)Pe(J.__webglFramebuffer[Ue],F,B,n.COLOR_ATTACHMENT0,Ne,Ue);else Pe(J.__webglFramebuffer,F,B,n.COLOR_ATTACHMENT0,Ne,0);x(B,qe)&&A(Ne),t.unbindTexture()}F.depthBuffer&&ce(F)}function he(F){const B=v(F)||a,J=F.isWebGLMultipleRenderTargets===!0?F.texture:[F.texture];for(let xe=0,Se=J.length;xe<Se;xe++){const we=J[xe];if(x(we,B)){const qe=F.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,Ne=r.get(we).__webglTexture;t.bindTexture(qe,Ne),A(qe),t.unbindTexture()}}}function ie(F){if(a&&F.samples>0&&le(F)===!1){const B=F.isWebGLMultipleRenderTargets?F.texture:[F.texture],J=F.width,xe=F.height;let Se=n.COLOR_BUFFER_BIT;const we=[],qe=F.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ne=r.get(F),Ue=F.isWebGLMultipleRenderTargets===!0;if(Ue)for(let lt=0;lt<B.length;lt++)t.bindFramebuffer(n.FRAMEBUFFER,Ne.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+lt,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,Ne.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+lt,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,Ne.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Ne.__webglFramebuffer);for(let lt=0;lt<B.length;lt++){we.push(n.COLOR_ATTACHMENT0+lt),F.depthBuffer&&we.push(qe);const At=Ne.__ignoreDepthValues!==void 0?Ne.__ignoreDepthValues:!1;if(At===!1&&(F.depthBuffer&&(Se|=n.DEPTH_BUFFER_BIT),F.stencilBuffer&&(Se|=n.STENCIL_BUFFER_BIT)),Ue&&n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,Ne.__webglColorRenderbuffer[lt]),At===!0&&(n.invalidateFramebuffer(n.READ_FRAMEBUFFER,[qe]),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[qe])),Ue){const Re=r.get(B[lt]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Re,0)}n.blitFramebuffer(0,0,J,xe,0,0,J,xe,Se,n.NEAREST),c&&n.invalidateFramebuffer(n.READ_FRAMEBUFFER,we)}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),Ue)for(let lt=0;lt<B.length;lt++){t.bindFramebuffer(n.FRAMEBUFFER,Ne.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+lt,n.RENDERBUFFER,Ne.__webglColorRenderbuffer[lt]);const At=r.get(B[lt]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,Ne.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+lt,n.TEXTURE_2D,At,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Ne.__webglMultisampledFramebuffer)}}function ye(F){return Math.min(i.maxSamples,F.samples)}function le(F){const B=r.get(F);return a&&F.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&B.__useRenderToTexture!==!1}function be(F){const B=o.render.frame;u.get(F)!==B&&(u.set(F,B),F.update())}function Ee(F,B){const J=F.colorSpace,xe=F.format,Se=F.type;return F.isCompressedTexture===!0||F.isVideoTexture===!0||F.format===y_||J!==Lo&&J!==ji&&(sn.getTransfer(J)===dn?a===!1?e.has("EXT_sRGB")===!0&&xe===gi?(F.format=y_,F.minFilter=vn,F.generateMipmaps=!1):B=a2.sRGBToLinear(B):(xe!==gi||Se!==Eo)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",J)),B}this.allocateTextureUnit=H,this.resetTextureUnits=W,this.setTexture2D=Z,this.setTexture2DArray=ae,this.setTexture3D=O,this.setTextureCube=j,this.rebindTextures=oe,this.setupRenderTarget=V,this.updateRenderTargetMipmap=he,this.updateMultisampleRenderTarget=ie,this.setupDepthRenderbuffer=ce,this.setupFrameBufferTexture=Pe,this.useMultisampledRTT=le}function p6(n,e,t){const r=t.isWebGL2;function i(s,o=ji){let a;const l=sn.getTransfer(o);if(s===Eo)return n.UNSIGNED_BYTE;if(s===Yb)return n.UNSIGNED_SHORT_4_4_4_4;if(s===qb)return n.UNSIGNED_SHORT_5_5_5_1;if(s===D5)return n.BYTE;if(s===B5)return n.SHORT;if(s===Dx)return n.UNSIGNED_SHORT;if(s===$b)return n.INT;if(s===ra)return n.UNSIGNED_INT;if(s===Es)return n.FLOAT;if(s===df)return r?n.HALF_FLOAT:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===N5)return n.ALPHA;if(s===gi)return n.RGBA;if(s===O5)return n.LUMINANCE;if(s===F5)return n.LUMINANCE_ALPHA;if(s===ml)return n.DEPTH_COMPONENT;if(s===eu)return n.DEPTH_STENCIL;if(s===y_)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===k5)return n.RED;if(s===Qb)return n.RED_INTEGER;if(s===U5)return n.RG;if(s===Zb)return n.RG_INTEGER;if(s===e2)return n.RGBA_INTEGER;if(s===q0||s===Q0||s===Z0||s===ev)if(l===dn)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===q0)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===Q0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===Z0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===ev)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===q0)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===Q0)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===Z0)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===ev)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===UT||s===VT||s===zT||s===HT)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===UT)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===VT)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===zT)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===HT)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===t2)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===GT||s===jT)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===GT)return l===dn?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===jT)return l===dn?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===WT||s===XT||s===KT||s===JT||s===$T||s===YT||s===qT||s===QT||s===ZT||s===eM||s===tM||s===nM||s===rM||s===iM)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===WT)return l===dn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===XT)return l===dn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===KT)return l===dn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===JT)return l===dn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===$T)return l===dn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===YT)return l===dn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===qT)return l===dn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===QT)return l===dn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===ZT)return l===dn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===eM)return l===dn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===tM)return l===dn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===nM)return l===dn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===rM)return l===dn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===iM)return l===dn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===tv||s===sM||s===oM)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===tv)return l===dn?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(s===sM)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(s===oM)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(s===V5||s===aM||s===lM||s===cM)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===tv)return a.COMPRESSED_RED_RGTC1_EXT;if(s===aM)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===lM)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===cM)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===pl?r?n.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:i}}class m6 extends xn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class ia extends Kt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const yoe={type:"move"};class $A{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new ia,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new ia,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new k,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new k),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new ia,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new k,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new k),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const S of e.hand.values()){const v=t.getJointPose(S,r),g=this._getHandJoint(c,S);v!==null&&(g.matrix.fromArray(v.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=v.radius),g.visible=v!==null}const u=c.joints["index-finger-tip"],f=c.joints["thumb-tip"],p=u.position.distanceTo(f.position),m=.02,y=.005;c.inputState.pinching&&p>m+y?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&p<=m-y&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(yoe)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const r=new ia;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}const voe=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,_oe=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepthEXT = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepthEXT = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class xoe{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,r){if(this.texture===null){const i=new An,s=e.properties.get(i);s.__webglTexture=t.texture,(t.depthNear!=r.depthNear||t.depthFar!=r.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=i}}render(e,t){if(this.texture!==null){if(this.mesh===null){const r=t.cameras[0].viewport,i=new Ys({extensions:{fragDepth:!0},vertexShader:voe,fragmentShader:_oe,uniforms:{depthColor:{value:this.texture},depthWidth:{value:r.z},depthHeight:{value:r.w}}});this.mesh=new Jn(new Of(20,20),i)}e.render(this.mesh,t)}}reset(){this.texture=null,this.mesh=null}}class Soe extends Bo{constructor(e,t){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,c=null,u=null,f=null,p=null,m=null,y=null;const S=new xoe,v=t.getContextAttributes();let g=null,x=null;const A=[],E=[],b=new _e;let C=null;const P=new xn;P.layers.enable(1),P.viewport=new on;const L=new xn;L.layers.enable(2),L.viewport=new on;const N=[P,L],M=new m6;M.layers.enable(1),M.layers.enable(2);let D=null,z=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ne){let de=A[ne];return de===void 0&&(de=new $A,A[ne]=de),de.getTargetRaySpace()},this.getControllerGrip=function(ne){let de=A[ne];return de===void 0&&(de=new $A,A[ne]=de),de.getGripSpace()},this.getHand=function(ne){let de=A[ne];return de===void 0&&(de=new $A,A[ne]=de),de.getHandSpace()};function W(ne){const de=E.indexOf(ne.inputSource);if(de===-1)return;const Ae=A[de];Ae!==void 0&&(Ae.update(ne.inputSource,ne.frame,c||o),Ae.dispatchEvent({type:ne.type,data:ne.inputSource}))}function H(){i.removeEventListener("select",W),i.removeEventListener("selectstart",W),i.removeEventListener("selectend",W),i.removeEventListener("squeeze",W),i.removeEventListener("squeezestart",W),i.removeEventListener("squeezeend",W),i.removeEventListener("end",H),i.removeEventListener("inputsourceschange",$);for(let ne=0;ne<A.length;ne++){const de=E[ne];de!==null&&(E[ne]=null,A[ne].disconnect(de))}D=null,z=null,S.reset(),e.setRenderTarget(g),m=null,p=null,f=null,i=null,x=null,Me.stop(),r.isPresenting=!1,e.setPixelRatio(C),e.setSize(b.width,b.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ne){s=ne,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ne){a=ne,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(ne){c=ne},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return f},this.getFrame=function(){return y},this.getSession=function(){return i},this.setSession=async function(ne){if(i=ne,i!==null){if(g=e.getRenderTarget(),i.addEventListener("select",W),i.addEventListener("selectstart",W),i.addEventListener("selectend",W),i.addEventListener("squeeze",W),i.addEventListener("squeezestart",W),i.addEventListener("squeezeend",W),i.addEventListener("end",H),i.addEventListener("inputsourceschange",$),v.xrCompatible!==!0&&await t.makeXRCompatible(),C=e.getPixelRatio(),e.getSize(b),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const de={antialias:i.renderState.layers===void 0?v.antialias:!0,alpha:!0,depth:v.depth,stencil:v.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(i,t,de),i.updateRenderState({baseLayer:m}),e.setPixelRatio(1),e.setSize(m.framebufferWidth,m.framebufferHeight,!1),x=new $s(m.framebufferWidth,m.framebufferHeight,{format:gi,type:Eo,colorSpace:e.outputColorSpace,stencilBuffer:v.stencil})}else{let de=null,Ae=null,Pe=null;v.depth&&(Pe=v.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,de=v.stencil?eu:ml,Ae=v.stencil?pl:ra);const Ke={colorFormat:t.RGBA8,depthFormat:Pe,scaleFactor:s};f=new XRWebGLBinding(i,t),p=f.createProjectionLayer(Ke),i.updateRenderState({layers:[p]}),e.setPixelRatio(1),e.setSize(p.textureWidth,p.textureHeight,!1),x=new $s(p.textureWidth,p.textureHeight,{format:gi,type:Eo,depthTexture:new p2(p.textureWidth,p.textureHeight,Ae,void 0,void 0,void 0,void 0,void 0,void 0,de),stencilBuffer:v.stencil,colorSpace:e.outputColorSpace,samples:v.antialias?4:0});const ke=e.properties.get(x);ke.__ignoreDepthValues=p.ignoreDepthValues}x.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await i.requestReferenceSpace(a),Me.setContext(i),Me.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function $(ne){for(let de=0;de<ne.removed.length;de++){const Ae=ne.removed[de],Pe=E.indexOf(Ae);Pe>=0&&(E[Pe]=null,A[Pe].disconnect(Ae))}for(let de=0;de<ne.added.length;de++){const Ae=ne.added[de];let Pe=E.indexOf(Ae);if(Pe===-1){for(let ke=0;ke<A.length;ke++)if(ke>=E.length){E.push(Ae),Pe=ke;break}else if(E[ke]===null){E[ke]=Ae,Pe=ke;break}if(Pe===-1)break}const Ke=A[Pe];Ke&&Ke.connect(Ae)}}const Z=new k,ae=new k;function O(ne,de,Ae){Z.setFromMatrixPosition(de.matrixWorld),ae.setFromMatrixPosition(Ae.matrixWorld);const Pe=Z.distanceTo(ae),Ke=de.projectionMatrix.elements,ke=Ae.projectionMatrix.elements,ce=Ke[14]/(Ke[10]-1),oe=Ke[14]/(Ke[10]+1),V=(Ke[9]+1)/Ke[5],he=(Ke[9]-1)/Ke[5],ie=(Ke[8]-1)/Ke[0],ye=(ke[8]+1)/ke[0],le=ce*ie,be=ce*ye,Ee=Pe/(-ie+ye),F=Ee*-ie;de.matrixWorld.decompose(ne.position,ne.quaternion,ne.scale),ne.translateX(F),ne.translateZ(Ee),ne.matrixWorld.compose(ne.position,ne.quaternion,ne.scale),ne.matrixWorldInverse.copy(ne.matrixWorld).invert();const B=ce+Ee,J=oe+Ee,xe=le-F,Se=be+(Pe-F),we=V*oe/J*B,qe=he*oe/J*B;ne.projectionMatrix.makePerspective(xe,Se,we,qe,B,J),ne.projectionMatrixInverse.copy(ne.projectionMatrix).invert()}function j(ne,de){de===null?ne.matrixWorld.copy(ne.matrix):ne.matrixWorld.multiplyMatrices(de.matrixWorld,ne.matrix),ne.matrixWorldInverse.copy(ne.matrixWorld).invert()}this.updateCamera=function(ne){if(i===null)return;S.texture!==null&&(ne.near=S.depthNear,ne.far=S.depthFar),M.near=L.near=P.near=ne.near,M.far=L.far=P.far=ne.far,(D!==M.near||z!==M.far)&&(i.updateRenderState({depthNear:M.near,depthFar:M.far}),D=M.near,z=M.far,P.near=D,P.far=z,L.near=D,L.far=z,P.updateProjectionMatrix(),L.updateProjectionMatrix(),ne.updateProjectionMatrix());const de=ne.parent,Ae=M.cameras;j(M,de);for(let Pe=0;Pe<Ae.length;Pe++)j(Ae[Pe],de);Ae.length===2?O(M,P,L):M.projectionMatrix.copy(P.projectionMatrix),K(ne,M,de)};function K(ne,de,Ae){Ae===null?ne.matrix.copy(de.matrixWorld):(ne.matrix.copy(Ae.matrixWorld),ne.matrix.invert(),ne.matrix.multiply(de.matrixWorld)),ne.matrix.decompose(ne.position,ne.quaternion,ne.scale),ne.updateMatrixWorld(!0),ne.projectionMatrix.copy(de.projectionMatrix),ne.projectionMatrixInverse.copy(de.projectionMatrixInverse),ne.isPerspectiveCamera&&(ne.fov=mf*2*Math.atan(1/ne.projectionMatrix.elements[5]),ne.zoom=1)}this.getCamera=function(){return M},this.getFoveation=function(){if(!(p===null&&m===null))return l},this.setFoveation=function(ne){l=ne,p!==null&&(p.fixedFoveation=ne),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=ne)},this.hasDepthSensing=function(){return S.texture!==null};let q=null;function te(ne,de){if(u=de.getViewerPose(c||o),y=de,u!==null){const Ae=u.views;m!==null&&(e.setRenderTargetFramebuffer(x,m.framebuffer),e.setRenderTarget(x));let Pe=!1;Ae.length!==M.cameras.length&&(M.cameras.length=0,Pe=!0);for(let ke=0;ke<Ae.length;ke++){const ce=Ae[ke];let oe=null;if(m!==null)oe=m.getViewport(ce);else{const he=f.getViewSubImage(p,ce);oe=he.viewport,ke===0&&(e.setRenderTargetTextures(x,he.colorTexture,p.ignoreDepthValues?void 0:he.depthStencilTexture),e.setRenderTarget(x))}let V=N[ke];V===void 0&&(V=new xn,V.layers.enable(ke),V.viewport=new on,N[ke]=V),V.matrix.fromArray(ce.transform.matrix),V.matrix.decompose(V.position,V.quaternion,V.scale),V.projectionMatrix.fromArray(ce.projectionMatrix),V.projectionMatrixInverse.copy(V.projectionMatrix).invert(),V.viewport.set(oe.x,oe.y,oe.width,oe.height),ke===0&&(M.matrix.copy(V.matrix),M.matrix.decompose(M.position,M.quaternion,M.scale)),Pe===!0&&M.cameras.push(V)}const Ke=i.enabledFeatures;if(Ke&&Ke.includes("depth-sensing")){const ke=f.getDepthInformation(Ae[0]);ke&&ke.isValid&&ke.texture&&S.init(e,ke,i.renderState)}}for(let Ae=0;Ae<A.length;Ae++){const Pe=E[Ae],Ke=A[Ae];Pe!==null&&Ke!==void 0&&Ke.update(Pe,de,c||o)}S.render(e,M),q&&q(ne,de),de.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:de}),y=null}const Me=new l6;Me.setAnimationLoop(te),this.setAnimationLoop=function(ne){q=ne},this.dispose=function(){}}}function Aoe(n,e){function t(v,g){v.matrixAutoUpdate===!0&&v.updateMatrix(),g.value.copy(v.matrix)}function r(v,g){g.color.getRGB(v.fogColor.value,o6(n)),g.isFog?(v.fogNear.value=g.near,v.fogFar.value=g.far):g.isFogExp2&&(v.fogDensity.value=g.density)}function i(v,g,x,A,E){g.isMeshBasicMaterial||g.isMeshLambertMaterial?s(v,g):g.isMeshToonMaterial?(s(v,g),f(v,g)):g.isMeshPhongMaterial?(s(v,g),u(v,g)):g.isMeshStandardMaterial?(s(v,g),p(v,g),g.isMeshPhysicalMaterial&&m(v,g,E)):g.isMeshMatcapMaterial?(s(v,g),y(v,g)):g.isMeshDepthMaterial?s(v,g):g.isMeshDistanceMaterial?(s(v,g),S(v,g)):g.isMeshNormalMaterial?s(v,g):g.isLineBasicMaterial?(o(v,g),g.isLineDashedMaterial&&a(v,g)):g.isPointsMaterial?l(v,g,x,A):g.isSpriteMaterial?c(v,g):g.isShadowMaterial?(v.color.value.copy(g.color),v.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function s(v,g){v.opacity.value=g.opacity,g.color&&v.diffuse.value.copy(g.color),g.emissive&&v.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(v.map.value=g.map,t(g.map,v.mapTransform)),g.alphaMap&&(v.alphaMap.value=g.alphaMap,t(g.alphaMap,v.alphaMapTransform)),g.bumpMap&&(v.bumpMap.value=g.bumpMap,t(g.bumpMap,v.bumpMapTransform),v.bumpScale.value=g.bumpScale,g.side===xi&&(v.bumpScale.value*=-1)),g.normalMap&&(v.normalMap.value=g.normalMap,t(g.normalMap,v.normalMapTransform),v.normalScale.value.copy(g.normalScale),g.side===xi&&v.normalScale.value.negate()),g.displacementMap&&(v.displacementMap.value=g.displacementMap,t(g.displacementMap,v.displacementMapTransform),v.displacementScale.value=g.displacementScale,v.displacementBias.value=g.displacementBias),g.emissiveMap&&(v.emissiveMap.value=g.emissiveMap,t(g.emissiveMap,v.emissiveMapTransform)),g.specularMap&&(v.specularMap.value=g.specularMap,t(g.specularMap,v.specularMapTransform)),g.alphaTest>0&&(v.alphaTest.value=g.alphaTest);const x=e.get(g).envMap;if(x&&(v.envMap.value=x,v.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,v.reflectivity.value=g.reflectivity,v.ior.value=g.ior,v.refractionRatio.value=g.refractionRatio),g.lightMap){v.lightMap.value=g.lightMap;const A=n._useLegacyLights===!0?Math.PI:1;v.lightMapIntensity.value=g.lightMapIntensity*A,t(g.lightMap,v.lightMapTransform)}g.aoMap&&(v.aoMap.value=g.aoMap,v.aoMapIntensity.value=g.aoMapIntensity,t(g.aoMap,v.aoMapTransform))}function o(v,g){v.diffuse.value.copy(g.color),v.opacity.value=g.opacity,g.map&&(v.map.value=g.map,t(g.map,v.mapTransform))}function a(v,g){v.dashSize.value=g.dashSize,v.totalSize.value=g.dashSize+g.gapSize,v.scale.value=g.scale}function l(v,g,x,A){v.diffuse.value.copy(g.color),v.opacity.value=g.opacity,v.size.value=g.size*x,v.scale.value=A*.5,g.map&&(v.map.value=g.map,t(g.map,v.uvTransform)),g.alphaMap&&(v.alphaMap.value=g.alphaMap,t(g.alphaMap,v.alphaMapTransform)),g.alphaTest>0&&(v.alphaTest.value=g.alphaTest)}function c(v,g){v.diffuse.value.copy(g.color),v.opacity.value=g.opacity,v.rotation.value=g.rotation,g.map&&(v.map.value=g.map,t(g.map,v.mapTransform)),g.alphaMap&&(v.alphaMap.value=g.alphaMap,t(g.alphaMap,v.alphaMapTransform)),g.alphaTest>0&&(v.alphaTest.value=g.alphaTest)}function u(v,g){v.specular.value.copy(g.specular),v.shininess.value=Math.max(g.shininess,1e-4)}function f(v,g){g.gradientMap&&(v.gradientMap.value=g.gradientMap)}function p(v,g){v.metalness.value=g.metalness,g.metalnessMap&&(v.metalnessMap.value=g.metalnessMap,t(g.metalnessMap,v.metalnessMapTransform)),v.roughness.value=g.roughness,g.roughnessMap&&(v.roughnessMap.value=g.roughnessMap,t(g.roughnessMap,v.roughnessMapTransform)),e.get(g).envMap&&(v.envMapIntensity.value=g.envMapIntensity)}function m(v,g,x){v.ior.value=g.ior,g.sheen>0&&(v.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),v.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(v.sheenColorMap.value=g.sheenColorMap,t(g.sheenColorMap,v.sheenColorMapTransform)),g.sheenRoughnessMap&&(v.sheenRoughnessMap.value=g.sheenRoughnessMap,t(g.sheenRoughnessMap,v.sheenRoughnessMapTransform))),g.clearcoat>0&&(v.clearcoat.value=g.clearcoat,v.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(v.clearcoatMap.value=g.clearcoatMap,t(g.clearcoatMap,v.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,t(g.clearcoatRoughnessMap,v.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(v.clearcoatNormalMap.value=g.clearcoatNormalMap,t(g.clearcoatNormalMap,v.clearcoatNormalMapTransform),v.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===xi&&v.clearcoatNormalScale.value.negate())),g.iridescence>0&&(v.iridescence.value=g.iridescence,v.iridescenceIOR.value=g.iridescenceIOR,v.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],v.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(v.iridescenceMap.value=g.iridescenceMap,t(g.iridescenceMap,v.iridescenceMapTransform)),g.iridescenceThicknessMap&&(v.iridescenceThicknessMap.value=g.iridescenceThicknessMap,t(g.iridescenceThicknessMap,v.iridescenceThicknessMapTransform))),g.transmission>0&&(v.transmission.value=g.transmission,v.transmissionSamplerMap.value=x.texture,v.transmissionSamplerSize.value.set(x.width,x.height),g.transmissionMap&&(v.transmissionMap.value=g.transmissionMap,t(g.transmissionMap,v.transmissionMapTransform)),v.thickness.value=g.thickness,g.thicknessMap&&(v.thicknessMap.value=g.thicknessMap,t(g.thicknessMap,v.thicknessMapTransform)),v.attenuationDistance.value=g.attenuationDistance,v.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(v.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(v.anisotropyMap.value=g.anisotropyMap,t(g.anisotropyMap,v.anisotropyMapTransform))),v.specularIntensity.value=g.specularIntensity,v.specularColor.value.copy(g.specularColor),g.specularColorMap&&(v.specularColorMap.value=g.specularColorMap,t(g.specularColorMap,v.specularColorMapTransform)),g.specularIntensityMap&&(v.specularIntensityMap.value=g.specularIntensityMap,t(g.specularIntensityMap,v.specularIntensityMapTransform))}function y(v,g){g.matcap&&(v.matcap.value=g.matcap)}function S(v,g){const x=e.get(g).light;v.referencePosition.value.setFromMatrixPosition(x.matrixWorld),v.nearDistance.value=x.shadow.camera.near,v.farDistance.value=x.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function woe(n,e,t,r){let i={},s={},o=[];const a=t.isWebGL2?n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(x,A){const E=A.program;r.uniformBlockBinding(x,E)}function c(x,A){let E=i[x.id];E===void 0&&(y(x),E=u(x),i[x.id]=E,x.addEventListener("dispose",v));const b=A.program;r.updateUBOMapping(x,b);const C=e.render.frame;s[x.id]!==C&&(p(x),s[x.id]=C)}function u(x){const A=f();x.__bindingPointIndex=A;const E=n.createBuffer(),b=x.__size,C=x.usage;return n.bindBuffer(n.UNIFORM_BUFFER,E),n.bufferData(n.UNIFORM_BUFFER,b,C),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,A,E),E}function f(){for(let x=0;x<a;x++)if(o.indexOf(x)===-1)return o.push(x),x;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(x){const A=i[x.id],E=x.uniforms,b=x.__cache;n.bindBuffer(n.UNIFORM_BUFFER,A);for(let C=0,P=E.length;C<P;C++){const L=Array.isArray(E[C])?E[C]:[E[C]];for(let N=0,M=L.length;N<M;N++){const D=L[N];if(m(D,C,N,b)===!0){const z=D.__offset,W=Array.isArray(D.value)?D.value:[D.value];let H=0;for(let $=0;$<W.length;$++){const Z=W[$],ae=S(Z);typeof Z=="number"||typeof Z=="boolean"?(D.__data[0]=Z,n.bufferSubData(n.UNIFORM_BUFFER,z+H,D.__data)):Z.isMatrix3?(D.__data[0]=Z.elements[0],D.__data[1]=Z.elements[1],D.__data[2]=Z.elements[2],D.__data[3]=0,D.__data[4]=Z.elements[3],D.__data[5]=Z.elements[4],D.__data[6]=Z.elements[5],D.__data[7]=0,D.__data[8]=Z.elements[6],D.__data[9]=Z.elements[7],D.__data[10]=Z.elements[8],D.__data[11]=0):(Z.toArray(D.__data,H),H+=ae.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,z,D.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function m(x,A,E,b){const C=x.value,P=A+"_"+E;if(b[P]===void 0)return typeof C=="number"||typeof C=="boolean"?b[P]=C:b[P]=C.clone(),!0;{const L=b[P];if(typeof C=="number"||typeof C=="boolean"){if(L!==C)return b[P]=C,!0}else if(L.equals(C)===!1)return L.copy(C),!0}return!1}function y(x){const A=x.uniforms;let E=0;const b=16;for(let P=0,L=A.length;P<L;P++){const N=Array.isArray(A[P])?A[P]:[A[P]];for(let M=0,D=N.length;M<D;M++){const z=N[M],W=Array.isArray(z.value)?z.value:[z.value];for(let H=0,$=W.length;H<$;H++){const Z=W[H],ae=S(Z),O=E%b;O!==0&&b-O<ae.boundary&&(E+=b-O),z.__data=new Float32Array(ae.storage/Float32Array.BYTES_PER_ELEMENT),z.__offset=E,E+=ae.storage}}}const C=E%b;return C>0&&(E+=b-C),x.__size=E,x.__cache={},this}function S(x){const A={boundary:0,storage:0};return typeof x=="number"||typeof x=="boolean"?(A.boundary=4,A.storage=4):x.isVector2?(A.boundary=8,A.storage=8):x.isVector3||x.isColor?(A.boundary=16,A.storage=12):x.isVector4?(A.boundary=16,A.storage=16):x.isMatrix3?(A.boundary=48,A.storage=48):x.isMatrix4?(A.boundary=64,A.storage=64):x.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",x),A}function v(x){const A=x.target;A.removeEventListener("dispose",v);const E=o.indexOf(A.__bindingPointIndex);o.splice(E,1),n.deleteBuffer(i[A.id]),delete i[A.id],delete s[A.id]}function g(){for(const x in i)n.deleteBuffer(i[x]);o=[],i={},s={}}return{bind:l,update:c,dispose:g}}class y2{constructor(e={}){const{canvas:t=r6(),context:r=null,depth:i=!0,stencil:s=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:f=!1}=e;this.isWebGLRenderer=!0;let p;r!==null?p=r.getContextAttributes().alpha:p=o;const m=new Uint32Array(4),y=new Int32Array(4);let S=null,v=null;const g=[],x=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=cr,this._useLegacyLights=!1,this.toneMapping=wo,this.toneMappingExposure=1;const A=this;let E=!1,b=0,C=0,P=null,L=-1,N=null;const M=new on,D=new on;let z=null;const W=new Ve(0);let H=0,$=t.width,Z=t.height,ae=1,O=null,j=null;const K=new on(0,0,$,Z),q=new on(0,0,$,Z);let te=!1;const Me=new Jm;let ne=!1,de=!1,Ae=null;const Pe=new ht,Ke=new _e,ke=new k,ce={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function oe(){return P===null?ae:1}let V=r;function he(U,se){for(let pe=0;pe<U.length;pe++){const me=U[pe],fe=t.getContext(me,se);if(fe!==null)return fe}return null}try{const U={alpha:!0,depth:i,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:f};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${Hm}`),t.addEventListener("webglcontextlost",vt,!1),t.addEventListener("webglcontextrestored",X,!1),t.addEventListener("webglcontextcreationerror",Ie,!1),V===null){const se=["webgl2","webgl","experimental-webgl"];if(A.isWebGL1Renderer===!0&&se.shift(),V=he(se,U),V===null)throw he(se)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&V instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),V.getShaderPrecisionFormat===void 0&&(V.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(U){throw console.error("THREE.WebGLRenderer: "+U.message),U}let ie,ye,le,be,Ee,F,B,J,xe,Se,we,qe,Ne,Ue,lt,At,Re,zt,It,yt,at,Ye,Q,Te;function He(){ie=new Bie(V),ye=new bie(V,ie,e),ie.init(ye),Ye=new p6(V,ie,ye),le=new moe(V,ie,ye),be=new Fie(V),Ee=new roe,F=new goe(V,ie,le,Ee,ye,Ye,be),B=new Pie(A),J=new Die(A),xe=new Wte(V,ye),Q=new Mie(V,ie,xe,ye),Se=new Nie(V,xe,be,Q),we=new zie(V,Se,xe,be),It=new Vie(V,ye,F),At=new Rie(Ee),qe=new noe(A,B,J,ie,ye,Q,At),Ne=new Aoe(A,Ee),Ue=new soe,lt=new hoe(ie,ye),zt=new Tie(A,B,J,le,we,p,l),Re=new poe(A,we,ye),Te=new woe(V,be,ye,le),yt=new Cie(V,ie,be,ye),at=new Oie(V,ie,be,ye),be.programs=qe.programs,A.capabilities=ye,A.extensions=ie,A.properties=Ee,A.renderLists=Ue,A.shadowMap=Re,A.state=le,A.info=be}He();const Je=new Soe(A,V);this.xr=Je,this.getContext=function(){return V},this.getContextAttributes=function(){return V.getContextAttributes()},this.forceContextLoss=function(){const U=ie.get("WEBGL_lose_context");U&&U.loseContext()},this.forceContextRestore=function(){const U=ie.get("WEBGL_lose_context");U&&U.restoreContext()},this.getPixelRatio=function(){return ae},this.setPixelRatio=function(U){U!==void 0&&(ae=U,this.setSize($,Z,!1))},this.getSize=function(U){return U.set($,Z)},this.setSize=function(U,se,pe=!0){if(Je.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}$=U,Z=se,t.width=Math.floor(U*ae),t.height=Math.floor(se*ae),pe===!0&&(t.style.width=U+"px",t.style.height=se+"px"),this.setViewport(0,0,U,se)},this.getDrawingBufferSize=function(U){return U.set($*ae,Z*ae).floor()},this.setDrawingBufferSize=function(U,se,pe){$=U,Z=se,ae=pe,t.width=Math.floor(U*pe),t.height=Math.floor(se*pe),this.setViewport(0,0,U,se)},this.getCurrentViewport=function(U){return U.copy(M)},this.getViewport=function(U){return U.copy(K)},this.setViewport=function(U,se,pe,me){U.isVector4?K.set(U.x,U.y,U.z,U.w):K.set(U,se,pe,me),le.viewport(M.copy(K).multiplyScalar(ae).floor())},this.getScissor=function(U){return U.copy(q)},this.setScissor=function(U,se,pe,me){U.isVector4?q.set(U.x,U.y,U.z,U.w):q.set(U,se,pe,me),le.scissor(D.copy(q).multiplyScalar(ae).floor())},this.getScissorTest=function(){return te},this.setScissorTest=function(U){le.setScissorTest(te=U)},this.setOpaqueSort=function(U){O=U},this.setTransparentSort=function(U){j=U},this.getClearColor=function(U){return U.copy(zt.getClearColor())},this.setClearColor=function(){zt.setClearColor.apply(zt,arguments)},this.getClearAlpha=function(){return zt.getClearAlpha()},this.setClearAlpha=function(){zt.setClearAlpha.apply(zt,arguments)},this.clear=function(U=!0,se=!0,pe=!0){let me=0;if(U){let fe=!1;if(P!==null){const $e=P.texture.format;fe=$e===e2||$e===Zb||$e===Qb}if(fe){const $e=P.texture.type,st=$e===Eo||$e===ra||$e===Dx||$e===pl||$e===Yb||$e===qb,ft=zt.getClearColor(),pt=zt.getClearAlpha(),wt=ft.r,St=ft.g,Et=ft.b;st?(m[0]=wt,m[1]=St,m[2]=Et,m[3]=pt,V.clearBufferuiv(V.COLOR,0,m)):(y[0]=wt,y[1]=St,y[2]=Et,y[3]=pt,V.clearBufferiv(V.COLOR,0,y))}else me|=V.COLOR_BUFFER_BIT}se&&(me|=V.DEPTH_BUFFER_BIT),pe&&(me|=V.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),V.clear(me)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",vt,!1),t.removeEventListener("webglcontextrestored",X,!1),t.removeEventListener("webglcontextcreationerror",Ie,!1),Ue.dispose(),lt.dispose(),Ee.dispose(),B.dispose(),J.dispose(),we.dispose(),Q.dispose(),Te.dispose(),qe.dispose(),Je.dispose(),Je.removeEventListener("sessionstart",Gn),Je.removeEventListener("sessionend",$t),Ae&&(Ae.dispose(),Ae=null),Mr.stop()};function vt(U){U.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),E=!0}function X(){console.log("THREE.WebGLRenderer: Context Restored."),E=!1;const U=be.autoReset,se=Re.enabled,pe=Re.autoUpdate,me=Re.needsUpdate,fe=Re.type;He(),be.autoReset=U,Re.enabled=se,Re.autoUpdate=pe,Re.needsUpdate=me,Re.type=fe}function Ie(U){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",U.statusMessage)}function Be(U){const se=U.target;se.removeEventListener("dispose",Be),tt(se)}function tt(U){nt(U),Ee.remove(U)}function nt(U){const se=Ee.get(U).programs;se!==void 0&&(se.forEach(function(pe){qe.releaseProgram(pe)}),U.isShaderMaterial&&qe.releaseShaderCache(U))}this.renderBufferDirect=function(U,se,pe,me,fe,$e){se===null&&(se=ce);const st=fe.isMesh&&fe.matrixWorld.determinant()<0,ft=d1(U,se,pe,me,fe);le.setMaterial(me,st);let pt=pe.index,wt=1;if(me.wireframe===!0){if(pt=Se.getWireframeAttribute(pe),pt===void 0)return;wt=2}const St=pe.drawRange,Et=pe.attributes.position;let Mn=St.start*wt,Cr=(St.start+St.count)*wt;$e!==null&&(Mn=Math.max(Mn,$e.start*wt),Cr=Math.min(Cr,($e.start+$e.count)*wt)),pt!==null?(Mn=Math.max(Mn,0),Cr=Math.min(Cr,pt.count)):Et!=null&&(Mn=Math.max(Mn,0),Cr=Math.min(Cr,Et.count));const mn=Cr-Mn;if(mn<0||mn===1/0)return;Q.setup(fe,me,ft,pe,pt);let pr,mt=yt;if(pt!==null&&(pr=xe.get(pt),mt=at,mt.setIndex(pr)),fe.isMesh)me.wireframe===!0?(le.setLineWidth(me.wireframeLinewidth*oe()),mt.setMode(V.LINES)):mt.setMode(V.TRIANGLES);else if(fe.isLine){let Ze=me.linewidth;Ze===void 0&&(Ze=1),le.setLineWidth(Ze*oe()),fe.isLineSegments?mt.setMode(V.LINES):fe.isLineLoop?mt.setMode(V.LINE_LOOP):mt.setMode(V.LINE_STRIP)}else fe.isPoints?mt.setMode(V.POINTS):fe.isSprite&&mt.setMode(V.TRIANGLES);if(fe.isBatchedMesh)mt.renderMultiDraw(fe._multiDrawStarts,fe._multiDrawCounts,fe._multiDrawCount);else if(fe.isInstancedMesh)mt.renderInstances(Mn,mn,fe.count);else if(pe.isInstancedBufferGeometry){const Ze=pe._maxInstanceCount!==void 0?pe._maxInstanceCount:1/0,os=Math.min(pe.instanceCount,Ze);mt.renderInstances(Mn,mn,os)}else mt.render(Mn,mn)};function Lt(U,se,pe){U.transparent===!0&&U.side===ws&&U.forceSinglePass===!1?(U.side=xi,U.needsUpdate=!0,gu(U,se,pe),U.side=Io,U.needsUpdate=!0,gu(U,se,pe),U.side=ws):gu(U,se,pe)}this.compile=function(U,se,pe=null){pe===null&&(pe=U),v=lt.get(pe),v.init(),x.push(v),pe.traverseVisible(function(fe){fe.isLight&&fe.layers.test(se.layers)&&(v.pushLight(fe),fe.castShadow&&v.pushShadow(fe))}),U!==pe&&U.traverseVisible(function(fe){fe.isLight&&fe.layers.test(se.layers)&&(v.pushLight(fe),fe.castShadow&&v.pushShadow(fe))}),v.setupLights(A._useLegacyLights);const me=new Set;return U.traverse(function(fe){const $e=fe.material;if($e)if(Array.isArray($e))for(let st=0;st<$e.length;st++){const ft=$e[st];Lt(ft,pe,fe),me.add(ft)}else Lt($e,pe,fe),me.add($e)}),x.pop(),v=null,me},this.compileAsync=function(U,se,pe=null){const me=this.compile(U,se,pe);return new Promise(fe=>{function $e(){if(me.forEach(function(st){Ee.get(st).currentProgram.isReady()&&me.delete(st)}),me.size===0){fe(U);return}setTimeout($e,10)}ie.get("KHR_parallel_shader_compile")!==null?$e():setTimeout($e,10)})};let Gt=null;function fn(U){Gt&&Gt(U)}function Gn(){Mr.stop()}function $t(){Mr.start()}const Mr=new l6;Mr.setAnimationLoop(fn),typeof self<"u"&&Mr.setContext(self),this.setAnimationLoop=function(U){Gt=U,Je.setAnimationLoop(U),U===null?Mr.stop():Mr.start()},Je.addEventListener("sessionstart",Gn),Je.addEventListener("sessionend",$t),this.render=function(U,se){if(se!==void 0&&se.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(E===!0)return;U.matrixWorldAutoUpdate===!0&&U.updateMatrixWorld(),se.parent===null&&se.matrixWorldAutoUpdate===!0&&se.updateMatrixWorld(),Je.enabled===!0&&Je.isPresenting===!0&&(Je.cameraAutoUpdate===!0&&Je.updateCamera(se),se=Je.getCamera()),U.isScene===!0&&U.onBeforeRender(A,U,se,P),v=lt.get(U,x.length),v.init(),x.push(v),Pe.multiplyMatrices(se.projectionMatrix,se.matrixWorldInverse),Me.setFromProjectionMatrix(Pe),de=this.localClippingEnabled,ne=At.init(this.clippingPlanes,de),S=Ue.get(U,g.length),S.init(),g.push(S),ss(U,se,0,A.sortObjects),S.finish(),A.sortObjects===!0&&S.sort(O,j),this.info.render.frame++,ne===!0&&At.beginShadows();const pe=v.state.shadowsArray;if(Re.render(pe,U,se),ne===!0&&At.endShadows(),this.info.autoReset===!0&&this.info.reset(),(Je.enabled===!1||Je.isPresenting===!1||Je.hasDepthSensing()===!1)&&zt.render(S,U),v.setupLights(A._useLegacyLights),se.isArrayCamera){const me=se.cameras;for(let fe=0,$e=me.length;fe<$e;fe++){const st=me[fe];Vf(S,U,st,st.viewport)}}else Vf(S,U,se);P!==null&&(F.updateMultisampleRenderTarget(P),F.updateRenderTargetMipmap(P)),U.isScene===!0&&U.onAfterRender(A,U,se),Q.resetDefaultState(),L=-1,N=null,x.pop(),x.length>0?v=x[x.length-1]:v=null,g.pop(),g.length>0?S=g[g.length-1]:S=null};function ss(U,se,pe,me){if(U.visible===!1)return;if(U.layers.test(se.layers)){if(U.isGroup)pe=U.renderOrder;else if(U.isLOD)U.autoUpdate===!0&&U.update(se);else if(U.isLight)v.pushLight(U),U.castShadow&&v.pushShadow(U);else if(U.isSprite){if(!U.frustumCulled||Me.intersectsSprite(U)){me&&ke.setFromMatrixPosition(U.matrixWorld).applyMatrix4(Pe);const st=we.update(U),ft=U.material;ft.visible&&S.push(U,st,ft,pe,ke.z,null)}}else if((U.isMesh||U.isLine||U.isPoints)&&(!U.frustumCulled||Me.intersectsObject(U))){const st=we.update(U),ft=U.material;if(me&&(U.boundingSphere!==void 0?(U.boundingSphere===null&&U.computeBoundingSphere(),ke.copy(U.boundingSphere.center)):(st.boundingSphere===null&&st.computeBoundingSphere(),ke.copy(st.boundingSphere.center)),ke.applyMatrix4(U.matrixWorld).applyMatrix4(Pe)),Array.isArray(ft)){const pt=st.groups;for(let wt=0,St=pt.length;wt<St;wt++){const Et=pt[wt],Mn=ft[Et.materialIndex];Mn&&Mn.visible&&S.push(U,st,Mn,pe,ke.z,Et)}}else ft.visible&&S.push(U,st,ft,pe,ke.z,null)}}const $e=U.children;for(let st=0,ft=$e.length;st<ft;st++)ss($e[st],se,pe,me)}function Vf(U,se,pe,me){const fe=U.opaque,$e=U.transmissive,st=U.transparent;v.setupLightsView(pe),ne===!0&&At.setGlobalState(A.clippingPlanes,pe),$e.length>0&&zf(fe,$e,se,pe),me&&le.viewport(M.copy(me)),fe.length>0&&mu(fe,se,pe),$e.length>0&&mu($e,se,pe),st.length>0&&mu(st,se,pe),le.buffers.depth.setTest(!0),le.buffers.depth.setMask(!0),le.buffers.color.setMask(!0),le.setPolygonOffset(!1)}function zf(U,se,pe,me){if((pe.isScene===!0?pe.overrideMaterial:null)!==null)return;const $e=ye.isWebGL2;Ae===null&&(Ae=new $s(1,1,{generateMipmaps:!0,type:ie.has("EXT_color_buffer_half_float")?df:Eo,minFilter:Ms,samples:$e?4:0})),A.getDrawingBufferSize(Ke),$e?Ae.setSize(Ke.x,Ke.y):Ae.setSize(v_(Ke.x),v_(Ke.y));const st=A.getRenderTarget();A.setRenderTarget(Ae),A.getClearColor(W),H=A.getClearAlpha(),H<1&&A.setClearColor(16777215,.5),A.clear();const ft=A.toneMapping;A.toneMapping=wo,mu(U,pe,me),F.updateMultisampleRenderTarget(Ae),F.updateRenderTargetMipmap(Ae);let pt=!1;for(let wt=0,St=se.length;wt<St;wt++){const Et=se[wt],Mn=Et.object,Cr=Et.geometry,mn=Et.material,pr=Et.group;if(mn.side===ws&&Mn.layers.test(me.layers)){const mt=mn.side;mn.side=xi,mn.needsUpdate=!0,Sa(Mn,pe,me,Cr,mn,pr),mn.side=mt,mn.needsUpdate=!0,pt=!0}}pt===!0&&(F.updateMultisampleRenderTarget(Ae),F.updateRenderTargetMipmap(Ae)),A.setRenderTarget(st),A.setClearColor(W,H),A.toneMapping=ft}function mu(U,se,pe){const me=se.isScene===!0?se.overrideMaterial:null;for(let fe=0,$e=U.length;fe<$e;fe++){const st=U[fe],ft=st.object,pt=st.geometry,wt=me===null?st.material:me,St=st.group;ft.layers.test(pe.layers)&&Sa(ft,se,pe,pt,wt,St)}}function Sa(U,se,pe,me,fe,$e){U.onBeforeRender(A,se,pe,me,fe,$e),U.modelViewMatrix.multiplyMatrices(pe.matrixWorldInverse,U.matrixWorld),U.normalMatrix.getNormalMatrix(U.modelViewMatrix),fe.onBeforeRender(A,se,pe,me,U,$e),fe.transparent===!0&&fe.side===ws&&fe.forceSinglePass===!1?(fe.side=xi,fe.needsUpdate=!0,A.renderBufferDirect(pe,se,me,fe,U,$e),fe.side=Io,fe.needsUpdate=!0,A.renderBufferDirect(pe,se,me,fe,U,$e),fe.side=ws):A.renderBufferDirect(pe,se,me,fe,U,$e),U.onAfterRender(A,se,pe,me,fe,$e)}function gu(U,se,pe){se.isScene!==!0&&(se=ce);const me=Ee.get(U),fe=v.state.lights,$e=v.state.shadowsArray,st=fe.state.version,ft=qe.getParameters(U,fe.state,$e,se,pe),pt=qe.getProgramCacheKey(ft);let wt=me.programs;me.environment=U.isMeshStandardMaterial?se.environment:null,me.fog=se.fog,me.envMap=(U.isMeshStandardMaterial?J:B).get(U.envMap||me.environment),wt===void 0&&(U.addEventListener("dispose",Be),wt=new Map,me.programs=wt);let St=wt.get(pt);if(St!==void 0){if(me.currentProgram===St&&me.lightsStateVersion===st)return cg(U,ft),St}else ft.uniforms=qe.getUniforms(U),U.onBuild(pe,ft,A),U.onBeforeCompile(ft,A),St=qe.acquireProgram(ft,pt),wt.set(pt,St),me.uniforms=ft.uniforms;const Et=me.uniforms;return(!U.isShaderMaterial&&!U.isRawShaderMaterial||U.clipping===!0)&&(Et.clippingPlanes=At.uniform),cg(U,ft),me.needsLights=m1(U),me.lightsStateVersion=st,me.needsLights&&(Et.ambientLightColor.value=fe.state.ambient,Et.lightProbe.value=fe.state.probe,Et.directionalLights.value=fe.state.directional,Et.directionalLightShadows.value=fe.state.directionalShadow,Et.spotLights.value=fe.state.spot,Et.spotLightShadows.value=fe.state.spotShadow,Et.rectAreaLights.value=fe.state.rectArea,Et.ltc_1.value=fe.state.rectAreaLTC1,Et.ltc_2.value=fe.state.rectAreaLTC2,Et.pointLights.value=fe.state.point,Et.pointLightShadows.value=fe.state.pointShadow,Et.hemisphereLights.value=fe.state.hemi,Et.directionalShadowMap.value=fe.state.directionalShadowMap,Et.directionalShadowMatrix.value=fe.state.directionalShadowMatrix,Et.spotShadowMap.value=fe.state.spotShadowMap,Et.spotLightMatrix.value=fe.state.spotLightMatrix,Et.spotLightMap.value=fe.state.spotLightMap,Et.pointShadowMap.value=fe.state.pointShadowMap,Et.pointShadowMatrix.value=fe.state.pointShadowMatrix),me.currentProgram=St,me.uniformsList=null,St}function lg(U){if(U.uniformsList===null){const se=U.currentProgram.getUniforms();U.uniformsList=rv.seqWithValue(se.seq,U.uniforms)}return U.uniformsList}function cg(U,se){const pe=Ee.get(U);pe.outputColorSpace=se.outputColorSpace,pe.batching=se.batching,pe.instancing=se.instancing,pe.instancingColor=se.instancingColor,pe.skinning=se.skinning,pe.morphTargets=se.morphTargets,pe.morphNormals=se.morphNormals,pe.morphColors=se.morphColors,pe.morphTargetsCount=se.morphTargetsCount,pe.numClippingPlanes=se.numClippingPlanes,pe.numIntersection=se.numClipIntersection,pe.vertexAlphas=se.vertexAlphas,pe.vertexTangents=se.vertexTangents,pe.toneMapping=se.toneMapping}function d1(U,se,pe,me,fe){se.isScene!==!0&&(se=ce),F.resetTextureUnits();const $e=se.fog,st=me.isMeshStandardMaterial?se.environment:null,ft=P===null?A.outputColorSpace:P.isXRRenderTarget===!0?P.texture.colorSpace:Lo,pt=(me.isMeshStandardMaterial?J:B).get(me.envMap||st),wt=me.vertexColors===!0&&!!pe.attributes.color&&pe.attributes.color.itemSize===4,St=!!pe.attributes.tangent&&(!!me.normalMap||me.anisotropy>0),Et=!!pe.morphAttributes.position,Mn=!!pe.morphAttributes.normal,Cr=!!pe.morphAttributes.color;let mn=wo;me.toneMapped&&(P===null||P.isXRRenderTarget===!0)&&(mn=A.toneMapping);const pr=pe.morphAttributes.position||pe.morphAttributes.normal||pe.morphAttributes.color,mt=pr!==void 0?pr.length:0,Ze=Ee.get(me),os=v.state.lights;if(ne===!0&&(de===!0||U!==N)){const br=U===N&&me.id===L;At.setState(me,U,br)}let Ft=!1;me.version===Ze.__version?(Ze.needsLights&&Ze.lightsStateVersion!==os.state.version||Ze.outputColorSpace!==ft||fe.isBatchedMesh&&Ze.batching===!1||!fe.isBatchedMesh&&Ze.batching===!0||fe.isInstancedMesh&&Ze.instancing===!1||!fe.isInstancedMesh&&Ze.instancing===!0||fe.isSkinnedMesh&&Ze.skinning===!1||!fe.isSkinnedMesh&&Ze.skinning===!0||fe.isInstancedMesh&&Ze.instancingColor===!0&&fe.instanceColor===null||fe.isInstancedMesh&&Ze.instancingColor===!1&&fe.instanceColor!==null||Ze.envMap!==pt||me.fog===!0&&Ze.fog!==$e||Ze.numClippingPlanes!==void 0&&(Ze.numClippingPlanes!==At.numPlanes||Ze.numIntersection!==At.numIntersection)||Ze.vertexAlphas!==wt||Ze.vertexTangents!==St||Ze.morphTargets!==Et||Ze.morphNormals!==Mn||Ze.morphColors!==Cr||Ze.toneMapping!==mn||ye.isWebGL2===!0&&Ze.morphTargetsCount!==mt)&&(Ft=!0):(Ft=!0,Ze.__version=me.version);let Bn=Ze.currentProgram;Ft===!0&&(Bn=gu(me,se,fe));let eo=!1,as=!1,mr=!1;const jn=Bn.getUniforms(),to=Ze.uniforms;if(le.useProgram(Bn.program)&&(eo=!0,as=!0,mr=!0),me.id!==L&&(L=me.id,as=!0),eo||N!==U){jn.setValue(V,"projectionMatrix",U.projectionMatrix),jn.setValue(V,"viewMatrix",U.matrixWorldInverse);const br=jn.map.cameraPosition;br!==void 0&&br.setValue(V,ke.setFromMatrixPosition(U.matrixWorld)),ye.logarithmicDepthBuffer&&jn.setValue(V,"logDepthBufFC",2/(Math.log(U.far+1)/Math.LN2)),(me.isMeshPhongMaterial||me.isMeshToonMaterial||me.isMeshLambertMaterial||me.isMeshBasicMaterial||me.isMeshStandardMaterial||me.isShaderMaterial)&&jn.setValue(V,"isOrthographic",U.isOrthographicCamera===!0),N!==U&&(N=U,as=!0,mr=!0)}if(fe.isSkinnedMesh){jn.setOptional(V,fe,"bindMatrix"),jn.setOptional(V,fe,"bindMatrixInverse");const br=fe.skeleton;br&&(ye.floatVertexTextures?(br.boneTexture===null&&br.computeBoneTexture(),jn.setValue(V,"boneTexture",br.boneTexture,F)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}fe.isBatchedMesh&&(jn.setOptional(V,fe,"batchingTexture"),jn.setValue(V,"batchingTexture",fe._matricesTexture,F));const yu=pe.morphAttributes;if((yu.position!==void 0||yu.normal!==void 0||yu.color!==void 0&&ye.isWebGL2===!0)&&It.update(fe,pe,Bn),(as||Ze.receiveShadow!==fe.receiveShadow)&&(Ze.receiveShadow=fe.receiveShadow,jn.setValue(V,"receiveShadow",fe.receiveShadow)),me.isMeshGouraudMaterial&&me.envMap!==null&&(to.envMap.value=pt,to.flipEnvMap.value=pt.isCubeTexture&&pt.isRenderTargetTexture===!1?-1:1),as&&(jn.setValue(V,"toneMappingExposure",A.toneMappingExposure),Ze.needsLights&&p1(to,mr),$e&&me.fog===!0&&Ne.refreshFogUniforms(to,$e),Ne.refreshMaterialUniforms(to,me,ae,Z,Ae),rv.upload(V,lg(Ze),to,F)),me.isShaderMaterial&&me.uniformsNeedUpdate===!0&&(rv.upload(V,lg(Ze),to,F),me.uniformsNeedUpdate=!1),me.isSpriteMaterial&&jn.setValue(V,"center",fe.center),jn.setValue(V,"modelViewMatrix",fe.modelViewMatrix),jn.setValue(V,"normalMatrix",fe.normalMatrix),jn.setValue(V,"modelMatrix",fe.matrixWorld),me.isShaderMaterial||me.isRawShaderMaterial){const br=me.uniformsGroups;for(let vu=0,Oi=br.length;vu<Oi;vu++)if(ye.isWebGL2){const ug=br[vu];Te.update(ug,Bn),Te.bind(ug,Bn)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Bn}function p1(U,se){U.ambientLightColor.needsUpdate=se,U.lightProbe.needsUpdate=se,U.directionalLights.needsUpdate=se,U.directionalLightShadows.needsUpdate=se,U.pointLights.needsUpdate=se,U.pointLightShadows.needsUpdate=se,U.spotLights.needsUpdate=se,U.spotLightShadows.needsUpdate=se,U.rectAreaLights.needsUpdate=se,U.hemisphereLights.needsUpdate=se}function m1(U){return U.isMeshLambertMaterial||U.isMeshToonMaterial||U.isMeshPhongMaterial||U.isMeshStandardMaterial||U.isShadowMaterial||U.isShaderMaterial&&U.lights===!0}this.getActiveCubeFace=function(){return b},this.getActiveMipmapLevel=function(){return C},this.getRenderTarget=function(){return P},this.setRenderTargetTextures=function(U,se,pe){Ee.get(U.texture).__webglTexture=se,Ee.get(U.depthTexture).__webglTexture=pe;const me=Ee.get(U);me.__hasExternalTextures=!0,me.__hasExternalTextures&&(me.__autoAllocateDepthBuffer=pe===void 0,me.__autoAllocateDepthBuffer||ie.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),me.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(U,se){const pe=Ee.get(U);pe.__webglFramebuffer=se,pe.__useDefaultFramebuffer=se===void 0},this.setRenderTarget=function(U,se=0,pe=0){P=U,b=se,C=pe;let me=!0,fe=null,$e=!1,st=!1;if(U){const pt=Ee.get(U);pt.__useDefaultFramebuffer!==void 0?(le.bindFramebuffer(V.FRAMEBUFFER,null),me=!1):pt.__webglFramebuffer===void 0?F.setupRenderTarget(U):pt.__hasExternalTextures&&F.rebindTextures(U,Ee.get(U.texture).__webglTexture,Ee.get(U.depthTexture).__webglTexture);const wt=U.texture;(wt.isData3DTexture||wt.isDataArrayTexture||wt.isCompressedArrayTexture)&&(st=!0);const St=Ee.get(U).__webglFramebuffer;U.isWebGLCubeRenderTarget?(Array.isArray(St[se])?fe=St[se][pe]:fe=St[se],$e=!0):ye.isWebGL2&&U.samples>0&&F.useMultisampledRTT(U)===!1?fe=Ee.get(U).__webglMultisampledFramebuffer:Array.isArray(St)?fe=St[pe]:fe=St,M.copy(U.viewport),D.copy(U.scissor),z=U.scissorTest}else M.copy(K).multiplyScalar(ae).floor(),D.copy(q).multiplyScalar(ae).floor(),z=te;if(le.bindFramebuffer(V.FRAMEBUFFER,fe)&&ye.drawBuffers&&me&&le.drawBuffers(U,fe),le.viewport(M),le.scissor(D),le.setScissorTest(z),$e){const pt=Ee.get(U.texture);V.framebufferTexture2D(V.FRAMEBUFFER,V.COLOR_ATTACHMENT0,V.TEXTURE_CUBE_MAP_POSITIVE_X+se,pt.__webglTexture,pe)}else if(st){const pt=Ee.get(U.texture),wt=se||0;V.framebufferTextureLayer(V.FRAMEBUFFER,V.COLOR_ATTACHMENT0,pt.__webglTexture,pe||0,wt)}L=-1},this.readRenderTargetPixels=function(U,se,pe,me,fe,$e,st){if(!(U&&U.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ft=Ee.get(U).__webglFramebuffer;if(U.isWebGLCubeRenderTarget&&st!==void 0&&(ft=ft[st]),ft){le.bindFramebuffer(V.FRAMEBUFFER,ft);try{const pt=U.texture,wt=pt.format,St=pt.type;if(wt!==gi&&Ye.convert(wt)!==V.getParameter(V.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Et=St===df&&(ie.has("EXT_color_buffer_half_float")||ye.isWebGL2&&ie.has("EXT_color_buffer_float"));if(St!==Eo&&Ye.convert(St)!==V.getParameter(V.IMPLEMENTATION_COLOR_READ_TYPE)&&!(St===Es&&(ye.isWebGL2||ie.has("OES_texture_float")||ie.has("WEBGL_color_buffer_float")))&&!Et){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}se>=0&&se<=U.width-me&&pe>=0&&pe<=U.height-fe&&V.readPixels(se,pe,me,fe,Ye.convert(wt),Ye.convert(St),$e)}finally{const pt=P!==null?Ee.get(P).__webglFramebuffer:null;le.bindFramebuffer(V.FRAMEBUFFER,pt)}}},this.copyFramebufferToTexture=function(U,se,pe=0){const me=Math.pow(2,-pe),fe=Math.floor(se.image.width*me),$e=Math.floor(se.image.height*me);F.setTexture2D(se,0),V.copyTexSubImage2D(V.TEXTURE_2D,pe,0,0,U.x,U.y,fe,$e),le.unbindTexture()},this.copyTextureToTexture=function(U,se,pe,me=0){const fe=se.image.width,$e=se.image.height,st=Ye.convert(pe.format),ft=Ye.convert(pe.type);F.setTexture2D(pe,0),V.pixelStorei(V.UNPACK_FLIP_Y_WEBGL,pe.flipY),V.pixelStorei(V.UNPACK_PREMULTIPLY_ALPHA_WEBGL,pe.premultiplyAlpha),V.pixelStorei(V.UNPACK_ALIGNMENT,pe.unpackAlignment),se.isDataTexture?V.texSubImage2D(V.TEXTURE_2D,me,U.x,U.y,fe,$e,st,ft,se.image.data):se.isCompressedTexture?V.compressedTexSubImage2D(V.TEXTURE_2D,me,U.x,U.y,se.mipmaps[0].width,se.mipmaps[0].height,st,se.mipmaps[0].data):V.texSubImage2D(V.TEXTURE_2D,me,U.x,U.y,st,ft,se.image),me===0&&pe.generateMipmaps&&V.generateMipmap(V.TEXTURE_2D),le.unbindTexture()},this.copyTextureToTexture3D=function(U,se,pe,me,fe=0){if(A.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const $e=U.max.x-U.min.x+1,st=U.max.y-U.min.y+1,ft=U.max.z-U.min.z+1,pt=Ye.convert(me.format),wt=Ye.convert(me.type);let St;if(me.isData3DTexture)F.setTexture3D(me,0),St=V.TEXTURE_3D;else if(me.isDataArrayTexture||me.isCompressedArrayTexture)F.setTexture2DArray(me,0),St=V.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}V.pixelStorei(V.UNPACK_FLIP_Y_WEBGL,me.flipY),V.pixelStorei(V.UNPACK_PREMULTIPLY_ALPHA_WEBGL,me.premultiplyAlpha),V.pixelStorei(V.UNPACK_ALIGNMENT,me.unpackAlignment);const Et=V.getParameter(V.UNPACK_ROW_LENGTH),Mn=V.getParameter(V.UNPACK_IMAGE_HEIGHT),Cr=V.getParameter(V.UNPACK_SKIP_PIXELS),mn=V.getParameter(V.UNPACK_SKIP_ROWS),pr=V.getParameter(V.UNPACK_SKIP_IMAGES),mt=pe.isCompressedTexture?pe.mipmaps[fe]:pe.image;V.pixelStorei(V.UNPACK_ROW_LENGTH,mt.width),V.pixelStorei(V.UNPACK_IMAGE_HEIGHT,mt.height),V.pixelStorei(V.UNPACK_SKIP_PIXELS,U.min.x),V.pixelStorei(V.UNPACK_SKIP_ROWS,U.min.y),V.pixelStorei(V.UNPACK_SKIP_IMAGES,U.min.z),pe.isDataTexture||pe.isData3DTexture?V.texSubImage3D(St,fe,se.x,se.y,se.z,$e,st,ft,pt,wt,mt.data):pe.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),V.compressedTexSubImage3D(St,fe,se.x,se.y,se.z,$e,st,ft,pt,mt.data)):V.texSubImage3D(St,fe,se.x,se.y,se.z,$e,st,ft,pt,wt,mt),V.pixelStorei(V.UNPACK_ROW_LENGTH,Et),V.pixelStorei(V.UNPACK_IMAGE_HEIGHT,Mn),V.pixelStorei(V.UNPACK_SKIP_PIXELS,Cr),V.pixelStorei(V.UNPACK_SKIP_ROWS,mn),V.pixelStorei(V.UNPACK_SKIP_IMAGES,pr),fe===0&&me.generateMipmaps&&V.generateMipmap(St),le.unbindTexture()},this.initTexture=function(U){U.isCubeTexture?F.setTextureCube(U,0):U.isData3DTexture?F.setTexture3D(U,0):U.isDataArrayTexture||U.isCompressedArrayTexture?F.setTexture2DArray(U,0):F.setTexture2D(U,0),le.unbindTexture()},this.resetState=function(){b=0,C=0,P=null,le.reset(),Q.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return vo}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=e===Nx?"display-p3":"srgb",t.unpackColorSpace=sn.workingColorSpace===jm?"display-p3":"srgb"}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===cr?gl:i2}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===gl?cr:Lo}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class g6 extends y2{}g6.prototype.isWebGL1Renderer=!0;class kx{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Ve(e),this.density=t}clone(){return new kx(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Ux{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new Ve(e),this.near=t,this.far=r}clone(){return new Ux(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class __ extends Kt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}}class $m{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=hm,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=Yi()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return Uc("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Yi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Yi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const hi=new k;class Cl{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)hi.fromBufferAttribute(this,t),hi.applyMatrix4(e),this.setXYZ(t,hi.x,hi.y,hi.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)hi.fromBufferAttribute(this,t),hi.applyNormalMatrix(e),this.setXYZ(t,hi.x,hi.y,hi.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)hi.fromBufferAttribute(this,t),hi.transformDirection(e),this.setXYZ(t,hi.x,hi.y,hi.z);return this}getComponent(e,t){let r=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(r=yi(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=Pt(r,this.array)),this.data.array[e*this.data.stride+this.offset+t]=r,this}setX(e,t){return this.normalized&&(t=Pt(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Pt(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Pt(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Pt(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=yi(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=yi(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=yi(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=yi(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Pt(t,this.array),r=Pt(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Pt(t,this.array),r=Pt(r,this.array),i=Pt(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=Pt(t,this.array),r=Pt(r,this.array),i=Pt(i,this.array),s=Pt(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return new Jt(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Cl(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class v2 extends sr{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Ve(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let $u;const Ad=new k,Yu=new k,qu=new k,Qu=new _e,wd=new _e,y6=new ht,t0=new k,Ed=new k,n0=new k,GD=new _e,YA=new _e,jD=new _e;class v6 extends Kt{constructor(e=new v2){if(super(),this.isSprite=!0,this.type="Sprite",$u===void 0){$u=new Rt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new $m(t,5);$u.setIndex([0,1,2,0,2,3]),$u.setAttribute("position",new Cl(r,3,0,!1)),$u.setAttribute("uv",new Cl(r,2,3,!1))}this.geometry=$u,this.material=e,this.center=new _e(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Yu.setFromMatrixScale(this.matrixWorld),y6.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),qu.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Yu.multiplyScalar(-qu.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;r0(t0.set(-.5,-.5,0),qu,o,Yu,i,s),r0(Ed.set(.5,-.5,0),qu,o,Yu,i,s),r0(n0.set(.5,.5,0),qu,o,Yu,i,s),GD.set(0,0),YA.set(1,0),jD.set(1,1);let a=e.ray.intersectTriangle(t0,Ed,n0,!1,Ad);if(a===null&&(r0(Ed.set(-.5,.5,0),qu,o,Yu,i,s),YA.set(0,1),a=e.ray.intersectTriangle(t0,n0,Ed,!1,Ad),a===null))return;const l=e.ray.origin.distanceTo(Ad);l<e.near||l>e.far||t.push({distance:l,point:Ad.clone(),uv:Wi.getInterpolation(Ad,t0,Ed,n0,GD,YA,jD,new _e),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function r0(n,e,t,r,i,s){Qu.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(wd.x=s*Qu.x-i*Qu.y,wd.y=i*Qu.x+s*Qu.y):wd.copy(Qu),n.copy(e),n.x+=wd.x,n.y+=wd.y,n.applyMatrix4(y6)}const i0=new k,WD=new k;class _6 extends Kt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const s=t[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,r=0){t=Math.abs(t);const i=this.levels;let s;for(s=0;s<i.length&&!(t<i[s].distance);s++);return i.splice(s,0,{distance:t,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i;r++){let s=t[r].distance;if(t[r].object.visible&&(s-=s*t[r].hysteresis),e<s)break}return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){i0.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(i0);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){i0.setFromMatrixPosition(e.matrixWorld),WD.setFromMatrixPosition(this.matrixWorld);const r=i0.distanceTo(WD)/e.zoom;t[0].object.visible=!0;let i,s;for(i=1,s=t.length;i<s;i++){let o=t[i].distance;if(t[i].object.visible&&(o-=o*t[i].hysteresis),r>=o)t[i-1].object.visible=!1,t[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const XD=new k,KD=new on,JD=new on,Eoe=new k,$D=new ht,s0=new k,qA=new Ur,YD=new ht,QA=new lu;class _2 extends Jn{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=kT,this.bindMatrix=new ht,this.bindMatrixInverse=new ht,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new ni),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)this.getVertexPosition(r,s0),this.boundingBox.expandByPoint(s0)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Ur),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)this.getVertexPosition(r,s0),this.boundingSphere.expandByPoint(s0)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),qA.copy(this.boundingSphere),qA.applyMatrix4(i),e.ray.intersectsSphere(qA)!==!1&&(YD.copy(i).invert(),QA.copy(e.ray).applyMatrix4(YD),!(this.boundingBox!==null&&QA.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,QA)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new on,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===kT?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===L5?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const r=this.skeleton,i=this.geometry;KD.fromBufferAttribute(i.attributes.skinIndex,e),JD.fromBufferAttribute(i.attributes.skinWeight,e),XD.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=JD.getComponent(s);if(o!==0){const a=KD.getComponent(s);$D.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),t.addScaledVector(Eoe.copy(XD).applyMatrix4($D),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class Vx extends Kt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class zc extends An{constructor(e=null,t=1,r=1,i,s,o,a,l,c=kn,u=kn,f,p){super(null,o,a,l,c,u,i,s,f,p),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const qD=new ht,Toe=new ht;class Ym{constructor(e=[],t=[]){this.uuid=Yi(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new ht)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new ht;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:Toe;qD.multiplyMatrices(a,t[s]),qD.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new Ym(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new zc(t,e,e,gi,Es);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new Vx),this.bones.push(o),this.boneInverses.push(new ht().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,s=t.length;i<s;i++){const o=t[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class yf extends Jt{constructor(e,t,r,i=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Zu=new ht,QD=new ht,o0=[],ZD=new ni,Moe=new ht,Td=new Jn,Md=new Ur;class x2 extends Jn{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new yf(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,Moe)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new ni),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,Zu),ZD.copy(e.boundingBox).applyMatrix4(Zu),this.boundingBox.union(ZD)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Ur),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,Zu),Md.copy(e.boundingSphere).applyMatrix4(Zu),this.boundingSphere.union(Md)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const r=this.matrixWorld,i=this.count;if(Td.geometry=this.geometry,Td.material=this.material,Td.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Md.copy(this.boundingSphere),Md.applyMatrix4(r),e.ray.intersectsSphere(Md)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,Zu),QD.multiplyMatrices(r,Zu),Td.matrixWorld=QD,Td.raycast(e,o0);for(let o=0,a=o0.length;o<a;o++){const l=o0[o];l.instanceId=s,l.object=this,t.push(l)}o0.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new yf(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}function Coe(n,e){return n.z-e.z}function boe(n,e){return e.z-n.z}class Roe{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t){const r=this.pool,i=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1});const s=r[this.index];i.push(s),this.index++,s.start=e.start,s.count=e.count,s.z=t}reset(){this.list.length=0,this.index=0}}const eh="batchId",Fa=new ht,eB=new ht,Poe=new ht,tB=new ht,ZA=new Jm,a0=new ni,Zl=new Ur,Cd=new k,ew=new Roe,Yr=new Jn,l0=[];function Ioe(n,e,t=0){const r=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const i=n.count;for(let s=0;s<i;s++)for(let o=0;o<r;o++)e.setComponent(s+t,o,n.getComponent(s,o))}else e.array.set(n.array,t*r);e.needsUpdate=!0}class x6 extends Jn{get maxGeometryCount(){return this._maxGeometryCount}constructor(e,t,r=t*2,i){super(new Rt,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=e,this._maxVertexCount=t,this._maxIndexCount=r,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxGeometryCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),r=new zc(t,e,e,gi,Es);this._matricesTexture=r}_initializeGeometry(e){const t=this.geometry,r=this._maxVertexCount,i=this._maxGeometryCount,s=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const l=e.getAttribute(a),{array:c,itemSize:u,normalized:f}=l,p=new c.constructor(r*u),m=new l.constructor(p,u,f);m.setUsage(l.usage),t.setAttribute(a,m)}if(e.getIndex()!==null){const a=r>65536?new Uint32Array(s):new Uint16Array(s);t.setIndex(new Jt(a,1))}const o=i>65536?new Uint32Array(r):new Uint16Array(r);t.setAttribute(eh,new Jt(o,1)),this._geometryInitialized=!0}}_validateGeometry(e){if(e.getAttribute(eh))throw new Error(`BatchedMesh: Geometry cannot use attribute "${eh}"`);const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const r in t.attributes){if(r===eh)continue;if(!e.hasAttribute(r))throw new Error(`BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),s=t.getAttribute(r);if(i.itemSize!==s.itemSize||i.normalized!==s.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ni);const e=this._geometryCount,t=this.boundingBox,r=this._active;t.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,Fa),this.getBoundingBoxAt(i,a0).applyMatrix4(Fa),t.union(a0))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ur);const e=this._geometryCount,t=this.boundingSphere,r=this._active;t.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,Fa),this.getBoundingSphereAt(i,Zl).applyMatrix4(Fa),t.union(Zl))}addGeometry(e,t=-1,r=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const i={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let s=null;const o=this._reservedRanges,a=this._drawRanges,l=this._bounds;this._geometryCount!==0&&(s=o[o.length-1]),t===-1?i.vertexCount=e.getAttribute("position").count:i.vertexCount=t,s===null?i.vertexStart=0:i.vertexStart=s.vertexStart+s.vertexCount;const c=e.getIndex(),u=c!==null;if(u&&(r===-1?i.indexCount=c.count:i.indexCount=r,s===null?i.indexStart=0:i.indexStart=s.indexStart+s.indexCount),i.indexStart!==-1&&i.indexStart+i.indexCount>this._maxIndexCount||i.vertexStart+i.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const f=this._visibility,p=this._active,m=this._matricesTexture,y=this._matricesTexture.image.data;f.push(!0),p.push(!0);const S=this._geometryCount;this._geometryCount++,Poe.toArray(y,S*16),m.needsUpdate=!0,o.push(i),a.push({start:u?i.indexStart:i.vertexStart,count:-1}),l.push({boxInitialized:!1,box:new ni,sphereInitialized:!1,sphere:new Ur});const v=this.geometry.getAttribute(eh);for(let g=0;g<i.vertexCount;g++)v.setX(i.vertexStart+g,S);return v.needsUpdate=!0,this.setGeometryAt(S,e),S}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const r=this.geometry,i=r.getIndex()!==null,s=r.getIndex(),o=t.getIndex(),a=this._reservedRanges[e];if(i&&o.count>a.indexCount||t.attributes.position.count>a.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const l=a.vertexStart,c=a.vertexCount;for(const m in r.attributes){if(m===eh)continue;const y=t.getAttribute(m),S=r.getAttribute(m);Ioe(y,S,l);const v=y.itemSize;for(let g=y.count,x=c;g<x;g++){const A=l+g;for(let E=0;E<v;E++)S.setComponent(A,E,0)}S.needsUpdate=!0}if(i){const m=a.indexStart;for(let y=0;y<o.count;y++)s.setX(m+y,l+o.getX(y));for(let y=o.count,S=a.indexCount;y<S;y++)s.setX(m+y,l);s.needsUpdate=!0}const u=this._bounds[e];t.boundingBox!==null?(u.box.copy(t.boundingBox),u.boxInitialized=!0):u.boxInitialized=!1,t.boundingSphere!==null?(u.sphere.copy(t.boundingSphere),u.sphereInitialized=!0):u.sphereInitialized=!1;const f=this._drawRanges[e],p=t.getAttribute("position");return f.count=i?o.count:p.count,this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._active;return e>=t.length||t[e]===!1?this:(t[e]=!1,this._visibilityChanged=!0,this)}getBoundingBoxAt(e,t){if(this._active[e]===!1)return null;const i=this._bounds[e],s=i.box,o=this.geometry;if(i.boxInitialized===!1){s.makeEmpty();const a=o.index,l=o.attributes.position,c=this._drawRanges[e];for(let u=c.start,f=c.start+c.count;u<f;u++){let p=u;a&&(p=a.getX(p)),s.expandByPoint(Cd.fromBufferAttribute(l,p))}i.boxInitialized=!0}return t.copy(s),t}getBoundingSphereAt(e,t){if(this._active[e]===!1)return null;const i=this._bounds[e],s=i.sphere,o=this.geometry;if(i.sphereInitialized===!1){s.makeEmpty(),this.getBoundingBoxAt(e,a0),a0.getCenter(s.center);const a=o.index,l=o.attributes.position,c=this._drawRanges[e];let u=0;for(let f=c.start,p=c.start+c.count;f<p;f++){let m=f;a&&(m=a.getX(m)),Cd.fromBufferAttribute(l,m),u=Math.max(u,s.center.distanceToSquared(Cd))}s.radius=Math.sqrt(u),i.sphereInitialized=!0}return t.copy(s),t}setMatrixAt(e,t){const r=this._active,i=this._matricesTexture,s=this._matricesTexture.image.data,o=this._geometryCount;return e>=o||r[e]===!1?this:(t.toArray(s,e*16),i.needsUpdate=!0,this)}getMatrixAt(e,t){const r=this._active,i=this._matricesTexture.image.data,s=this._geometryCount;return e>=s||r[e]===!1?null:t.fromArray(i,e*16)}setVisibleAt(e,t){const r=this._visibility,i=this._active,s=this._geometryCount;return e>=s||i[e]===!1||r[e]===t?this:(r[e]=t,this._visibilityChanged=!0,this)}getVisibleAt(e){const t=this._visibility,r=this._active,i=this._geometryCount;return e>=i||r[e]===!1?!1:t[e]}raycast(e,t){const r=this._visibility,i=this._active,s=this._drawRanges,o=this._geometryCount,a=this.matrixWorld,l=this.geometry;Yr.material=this.material,Yr.geometry.index=l.index,Yr.geometry.attributes=l.attributes,Yr.geometry.boundingBox===null&&(Yr.geometry.boundingBox=new ni),Yr.geometry.boundingSphere===null&&(Yr.geometry.boundingSphere=new Ur);for(let c=0;c<o;c++){if(!r[c]||!i[c])continue;const u=s[c];Yr.geometry.setDrawRange(u.start,u.count),this.getMatrixAt(c,Yr.matrixWorld).premultiply(a),this.getBoundingBoxAt(c,Yr.geometry.boundingBox),this.getBoundingSphereAt(c,Yr.geometry.boundingSphere),Yr.raycast(e,l0);for(let f=0,p=l0.length;f<p;f++){const m=l0[f];m.object=this,m.batchId=c,t.push(m)}l0.length=0}Yr.material=null,Yr.geometry.index=null,Yr.geometry.attributes={},Yr.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(t=>({...t})),this._reservedRanges=e._reservedRanges.map(t=>({...t})),this._visibility=e._visibility.slice(),this._active=e._active.slice(),this._bounds=e._bounds.map(t=>({boxInitialized:t.boxInitialized,box:t.box.clone(),sphereInitialized:t.sphereInitialized,sphere:t.sphere.clone()})),this._maxGeometryCount=e._maxGeometryCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this}onBeforeRender(e,t,r,i,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=i.getIndex(),a=o===null?1:o.array.BYTES_PER_ELEMENT,l=this._active,c=this._visibility,u=this._multiDrawStarts,f=this._multiDrawCounts,p=this._drawRanges,m=this.perObjectFrustumCulled;m&&(tB.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),ZA.setFromProjectionMatrix(tB,e.coordinateSystem));let y=0;if(this.sortObjects){eB.copy(this.matrixWorld).invert(),Cd.setFromMatrixPosition(r.matrixWorld).applyMatrix4(eB);for(let g=0,x=c.length;g<x;g++)if(c[g]&&l[g]){this.getMatrixAt(g,Fa),this.getBoundingSphereAt(g,Zl).applyMatrix4(Fa);let A=!1;if(m&&(A=!ZA.intersectsSphere(Zl)),!A){const E=Cd.distanceTo(Zl.center);ew.push(p[g],E)}}const S=ew.list,v=this.customSort;v===null?S.sort(s.transparent?boe:Coe):v.call(this,S,r);for(let g=0,x=S.length;g<x;g++){const A=S[g];u[y]=A.start*a,f[y]=A.count,y++}ew.reset()}else for(let S=0,v=c.length;S<v;S++)if(c[S]&&l[S]){let g=!1;if(m&&(this.getMatrixAt(S,Fa),this.getBoundingSphereAt(S,Zl).applyMatrix4(Fa),g=!ZA.intersectsSphere(Zl)),!g){const x=p[S];u[y]=x.start*a,f[y]=x.count,y++}}this._multiDrawCount=y,this._visibilityChanged=!1}onBeforeShadow(e,t,r,i,s,o){this.onBeforeRender(e,null,i,s,o)}}class si extends sr{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ve(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const nB=new k,rB=new k,iB=new ht,tw=new lu,c0=new Ur;class _a extends Kt{constructor(e=new Rt,t=new si){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,s=t.count;i<s;i++)nB.fromBufferAttribute(t,i-1),rB.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=nB.distanceTo(rB);e.setAttribute("lineDistance",new rt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),c0.copy(r.boundingSphere),c0.applyMatrix4(i),c0.radius+=s,e.ray.intersectsSphere(c0)===!1)return;iB.copy(i).invert(),tw.copy(e.ray).applyMatrix4(iB);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new k,u=new k,f=new k,p=new k,m=this.isLineSegments?2:1,y=r.index,v=r.attributes.position;if(y!==null){const g=Math.max(0,o.start),x=Math.min(y.count,o.start+o.count);for(let A=g,E=x-1;A<E;A+=m){const b=y.getX(A),C=y.getX(A+1);if(c.fromBufferAttribute(v,b),u.fromBufferAttribute(v,C),tw.distanceSqToSegment(c,u,p,f)>l)continue;p.applyMatrix4(this.matrixWorld);const L=e.ray.origin.distanceTo(p);L<e.near||L>e.far||t.push({distance:L,point:f.clone().applyMatrix4(this.matrixWorld),index:A,face:null,faceIndex:null,object:this})}}else{const g=Math.max(0,o.start),x=Math.min(v.count,o.start+o.count);for(let A=g,E=x-1;A<E;A+=m){if(c.fromBufferAttribute(v,A),u.fromBufferAttribute(v,A+1),tw.distanceSqToSegment(c,u,p,f)>l)continue;p.applyMatrix4(this.matrixWorld);const C=e.ray.origin.distanceTo(p);C<e.near||C>e.far||t.push({distance:C,point:f.clone().applyMatrix4(this.matrixWorld),index:A,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const sB=new k,oB=new k;class qs extends _a{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,s=t.count;i<s;i+=2)sB.fromBufferAttribute(t,i),oB.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+sB.distanceTo(oB);e.setAttribute("lineDistance",new rt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class S2 extends _a{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class zx extends sr{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Ve(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const aB=new ht,mM=new lu,u0=new Ur,h0=new k;class A2 extends Kt{constructor(e=new Rt,t=new zx){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),u0.copy(r.boundingSphere),u0.applyMatrix4(i),u0.radius+=s,e.ray.intersectsSphere(u0)===!1)return;aB.copy(i).invert(),mM.copy(e.ray).applyMatrix4(aB);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=r.index,f=r.attributes.position;if(c!==null){const p=Math.max(0,o.start),m=Math.min(c.count,o.start+o.count);for(let y=p,S=m;y<S;y++){const v=c.getX(y);h0.fromBufferAttribute(f,v),lB(h0,v,l,i,e,t,this)}}else{const p=Math.max(0,o.start),m=Math.min(f.count,o.start+o.count);for(let y=p,S=m;y<S;y++)h0.fromBufferAttribute(f,y),lB(h0,y,l,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function lB(n,e,t,r,i,s,o){const a=mM.distanceSqToPoint(n);if(a<t){const l=new k;mM.closestPointToPoint(n,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class Loe extends An{constructor(e,t,r,i,s,o,a,l,c){super(e,t,r,i,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:vn,this.magFilter=s!==void 0?s:vn,this.generateMipmaps=!1;const u=this;function f(){u.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Doe extends An{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=kn,this.minFilter=kn,this.generateMipmaps=!1,this.needsUpdate=!0}}class Hx extends An{constructor(e,t,r,i,s,o,a,l,c,u,f,p){super(null,o,a,l,c,u,i,s,f,p),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Boe extends Hx{constructor(e,t,r,i,s,o){super(e,t,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Nr}}class Noe extends Hx{constructor(e,t,r){super(void 0,e[0].width,e[0].height,t,r,va),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class Ooe extends An{constructor(e,t,r,i,s,o,a,l,c){super(e,t,r,i,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Qs{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),t.push(s),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let i=0;const s=r.length;let o;t?o=t:o=e*r[s-1];let a=0,l=s-1,c;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),c=r[i]-o,c<0)a=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const u=r[i],p=r[i+1]-u,m=(o-u)/p;return(i+m)/(s-1)}getTangent(e,t){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=t||(o.isVector2?new _e:new k);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new k,i=[],s=[],o=[],a=new k,l=new ht;for(let m=0;m<=e;m++){const y=m/e;i[m]=this.getTangentAt(y,new k)}s[0]=new k,o[0]=new k;let c=Number.MAX_VALUE;const u=Math.abs(i[0].x),f=Math.abs(i[0].y),p=Math.abs(i[0].z);u<=c&&(c=u,r.set(1,0,0)),f<=c&&(c=f,r.set(0,1,0)),p<=c&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(i[m-1],i[m]),a.length()>Number.EPSILON){a.normalize();const y=Math.acos(Vn(i[m-1].dot(i[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,y))}o[m].crossVectors(i[m],s[m])}if(t===!0){let m=Math.acos(Vn(s[0].dot(s[e]),-1,1));m/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let y=1;y<=e;y++)s[y].applyMatrix4(l.makeRotationAxis(i[y],m*y)),o[y].crossVectors(i[y],s[y])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Gx extends Qs{constructor(e=0,t=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const r=t||new _e,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),f=Math.sin(this.aRotation),p=l-this.aX,m=c-this.aY;l=p*u-m*f+this.aX,c=p*f+m*u+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class S6 extends Gx{constructor(e,t,r,i,s,o){super(e,t,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function w2(){let n=0,e=0,t=0,r=0;function i(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){i(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,u,f){let p=(o-s)/c-(a-s)/(c+u)+(a-o)/u,m=(a-o)/u-(l-o)/(u+f)+(l-a)/f;p*=u,m*=u,i(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+r*a}}}const f0=new k,nw=new w2,rw=new w2,iw=new w2;class A6 extends Qs{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new k){const r=t,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,u;this.closed||a>0?c=i[(a-1)%s]:(f0.subVectors(i[0],i[1]).add(i[0]),c=f0);const f=i[a%s],p=i[(a+1)%s];if(this.closed||a+2<s?u=i[(a+2)%s]:(f0.subVectors(i[s-1],i[s-2]).add(i[s-1]),u=f0),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let y=Math.pow(c.distanceToSquared(f),m),S=Math.pow(f.distanceToSquared(p),m),v=Math.pow(p.distanceToSquared(u),m);S<1e-4&&(S=1),y<1e-4&&(y=S),v<1e-4&&(v=S),nw.initNonuniformCatmullRom(c.x,f.x,p.x,u.x,y,S,v),rw.initNonuniformCatmullRom(c.y,f.y,p.y,u.y,y,S,v),iw.initNonuniformCatmullRom(c.z,f.z,p.z,u.z,y,S,v)}else this.curveType==="catmullrom"&&(nw.initCatmullRom(c.x,f.x,p.x,u.x,this.tension),rw.initCatmullRom(c.y,f.y,p.y,u.y,this.tension),iw.initCatmullRom(c.z,f.z,p.z,u.z,this.tension));return r.set(nw.calc(l),rw.calc(l),iw.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new k().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function cB(n,e,t,r,i){const s=(r-e)*.5,o=(i-t)*.5,a=n*n,l=n*a;return(2*t-2*r+s+o)*l+(-3*t+3*r-2*s-o)*a+s*n+t}function Foe(n,e){const t=1-n;return t*t*e}function koe(n,e){return 2*(1-n)*n*e}function Uoe(n,e){return n*n*e}function fp(n,e,t,r){return Foe(n,e)+koe(n,t)+Uoe(n,r)}function Voe(n,e){const t=1-n;return t*t*t*e}function zoe(n,e){const t=1-n;return 3*t*t*n*e}function Hoe(n,e){return 3*(1-n)*n*n*e}function Goe(n,e){return n*n*n*e}function dp(n,e,t,r,i){return Voe(n,e)+zoe(n,t)+Hoe(n,r)+Goe(n,i)}class E2 extends Qs{constructor(e=new _e,t=new _e,r=new _e,i=new _e){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new _e){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(dp(e,i.x,s.x,o.x,a.x),dp(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class w6 extends Qs{constructor(e=new k,t=new k,r=new k,i=new k){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new k){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(dp(e,i.x,s.x,o.x,a.x),dp(e,i.y,s.y,o.y,a.y),dp(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class T2 extends Qs{constructor(e=new _e,t=new _e){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new _e){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new _e){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class E6 extends Qs{constructor(e=new k,t=new k){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new k){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new k){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class M2 extends Qs{constructor(e=new _e,t=new _e,r=new _e){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new _e){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(fp(e,i.x,s.x,o.x),fp(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class C2 extends Qs{constructor(e=new k,t=new k,r=new k){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new k){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(fp(e,i.x,s.x,o.x),fp(e,i.y,s.y,o.y),fp(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class b2 extends Qs{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new _e){const r=t,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],c=i[o],u=i[o>i.length-2?i.length-1:o+1],f=i[o>i.length-3?i.length-1:o+2];return r.set(cB(a,l.x,c.x,u.x,f.x),cB(a,l.y,c.y,u.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new _e().fromArray(i))}return this}}var x_=Object.freeze({__proto__:null,ArcCurve:S6,CatmullRomCurve3:A6,CubicBezierCurve:E2,CubicBezierCurve3:w6,EllipseCurve:Gx,LineCurve:T2,LineCurve3:E6,QuadraticBezierCurve:M2,QuadraticBezierCurve3:C2,SplineCurve:b2});class T6 extends Qs{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new x_[r](t,e))}return this}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];r&&r.equals(u)||(t.push(u),r=u)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new x_[i.type]().fromJSON(i))}return this}}class pm extends T6{constructor(e){super(),this.type="Path",this.currentPoint=new _e,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new T2(this.currentPoint.clone(),new _e(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const s=new M2(this.currentPoint.clone(),new _e(e,t),new _e(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,s,o){const a=new E2(this.currentPoint.clone(),new _e(e,t),new _e(r,i),new _e(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new b2(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,r,i,s,o),this}absarc(e,t,r,i,s,o){return this.absellipse(e,t,r,r,i,s,o),this}ellipse(e,t,r,i,s,o,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,t+u,r,i,s,o,a,l),this}absellipse(e,t,r,i,s,o,a,l){const c=new Gx(e,t,r,i,s,o,a,l);if(this.curves.length>0){const f=c.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class qm extends Rt{constructor(e=[new _e(0,-.5),new _e(.5,0),new _e(0,.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=Vn(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],u=1/t,f=new k,p=new _e,m=new k,y=new k,S=new k;let v=0,g=0;for(let x=0;x<=e.length-1;x++)switch(x){case 0:v=e[x+1].x-e[x].x,g=e[x+1].y-e[x].y,m.x=g*1,m.y=-v,m.z=g*0,S.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(S.x,S.y,S.z);break;default:v=e[x+1].x-e[x].x,g=e[x+1].y-e[x].y,m.x=g*1,m.y=-v,m.z=g*0,y.copy(m),m.x+=S.x,m.y+=S.y,m.z+=S.z,m.normalize(),l.push(m.x,m.y,m.z),S.copy(y)}for(let x=0;x<=t;x++){const A=r+x*u*i,E=Math.sin(A),b=Math.cos(A);for(let C=0;C<=e.length-1;C++){f.x=e[C].x*E,f.y=e[C].y,f.z=e[C].x*b,o.push(f.x,f.y,f.z),p.x=x/t,p.y=C/(e.length-1),a.push(p.x,p.y);const P=l[3*C+0]*E,L=l[3*C+1],N=l[3*C+0]*b;c.push(P,L,N)}}for(let x=0;x<t;x++)for(let A=0;A<e.length-1;A++){const E=A+x*e.length,b=E,C=E+e.length,P=E+e.length+1,L=E+1;s.push(b,C,L),s.push(P,L,C)}this.setIndex(s),this.setAttribute("position",new rt(o,3)),this.setAttribute("uv",new rt(a,2)),this.setAttribute("normal",new rt(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new qm(e.points,e.segments,e.phiStart,e.phiLength)}}class jx extends qm{constructor(e=1,t=1,r=4,i=8){const s=new pm;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:r,radialSegments:i}}static fromJSON(e){return new jx(e.radius,e.length,e.capSegments,e.radialSegments)}}class Wx extends Rt{constructor(e=1,t=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const s=[],o=[],a=[],l=[],c=new k,u=new _e;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let f=0,p=3;f<=t;f++,p+=3){const m=r+f/t*i;c.x=e*Math.cos(m),c.y=e*Math.sin(m),o.push(c.x,c.y,c.z),a.push(0,0,1),u.x=(o[p]/e+1)/2,u.y=(o[p+1]/e+1)/2,l.push(u.x,u.y)}for(let f=1;f<=t;f++)s.push(f,f+1,0);this.setIndex(s),this.setAttribute("position",new rt(o,3)),this.setAttribute("normal",new rt(a,3)),this.setAttribute("uv",new rt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Wx(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class kf extends Rt{constructor(e=1,t=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const u=[],f=[],p=[],m=[];let y=0;const S=[],v=r/2;let g=0;x(),o===!1&&(e>0&&A(!0),t>0&&A(!1)),this.setIndex(u),this.setAttribute("position",new rt(f,3)),this.setAttribute("normal",new rt(p,3)),this.setAttribute("uv",new rt(m,2));function x(){const E=new k,b=new k;let C=0;const P=(t-e)/r;for(let L=0;L<=s;L++){const N=[],M=L/s,D=M*(t-e)+e;for(let z=0;z<=i;z++){const W=z/i,H=W*l+a,$=Math.sin(H),Z=Math.cos(H);b.x=D*$,b.y=-M*r+v,b.z=D*Z,f.push(b.x,b.y,b.z),E.set($,P,Z).normalize(),p.push(E.x,E.y,E.z),m.push(W,1-M),N.push(y++)}S.push(N)}for(let L=0;L<i;L++)for(let N=0;N<s;N++){const M=S[N][L],D=S[N+1][L],z=S[N+1][L+1],W=S[N][L+1];u.push(M,D,W),u.push(D,z,W),C+=6}c.addGroup(g,C,0),g+=C}function A(E){const b=y,C=new _e,P=new k;let L=0;const N=E===!0?e:t,M=E===!0?1:-1;for(let z=1;z<=i;z++)f.push(0,v*M,0),p.push(0,M,0),m.push(.5,.5),y++;const D=y;for(let z=0;z<=i;z++){const H=z/i*l+a,$=Math.cos(H),Z=Math.sin(H);P.x=N*Z,P.y=v*M,P.z=N*$,f.push(P.x,P.y,P.z),p.push(0,M,0),C.x=$*.5+.5,C.y=Z*.5*M+.5,m.push(C.x,C.y),y++}for(let z=0;z<i;z++){const W=b+z,H=D+z;E===!0?u.push(H,H+1,W):u.push(H+1,H,W),L+=3}c.addGroup(g,L,E===!0?1:2),g+=L}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new kf(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Xx extends kf{constructor(e=1,t=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new Xx(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Fl extends Rt{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const s=[],o=[];a(i),c(r),u(),this.setAttribute("position",new rt(s,3)),this.setAttribute("normal",new rt(s.slice(),3)),this.setAttribute("uv",new rt(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(x){const A=new k,E=new k,b=new k;for(let C=0;C<t.length;C+=3)m(t[C+0],A),m(t[C+1],E),m(t[C+2],b),l(A,E,b,x)}function l(x,A,E,b){const C=b+1,P=[];for(let L=0;L<=C;L++){P[L]=[];const N=x.clone().lerp(E,L/C),M=A.clone().lerp(E,L/C),D=C-L;for(let z=0;z<=D;z++)z===0&&L===C?P[L][z]=N:P[L][z]=N.clone().lerp(M,z/D)}for(let L=0;L<C;L++)for(let N=0;N<2*(C-L)-1;N++){const M=Math.floor(N/2);N%2===0?(p(P[L][M+1]),p(P[L+1][M]),p(P[L][M])):(p(P[L][M+1]),p(P[L+1][M+1]),p(P[L+1][M]))}}function c(x){const A=new k;for(let E=0;E<s.length;E+=3)A.x=s[E+0],A.y=s[E+1],A.z=s[E+2],A.normalize().multiplyScalar(x),s[E+0]=A.x,s[E+1]=A.y,s[E+2]=A.z}function u(){const x=new k;for(let A=0;A<s.length;A+=3){x.x=s[A+0],x.y=s[A+1],x.z=s[A+2];const E=v(x)/2/Math.PI+.5,b=g(x)/Math.PI+.5;o.push(E,1-b)}y(),f()}function f(){for(let x=0;x<o.length;x+=6){const A=o[x+0],E=o[x+2],b=o[x+4],C=Math.max(A,E,b),P=Math.min(A,E,b);C>.9&&P<.1&&(A<.2&&(o[x+0]+=1),E<.2&&(o[x+2]+=1),b<.2&&(o[x+4]+=1))}}function p(x){s.push(x.x,x.y,x.z)}function m(x,A){const E=x*3;A.x=e[E+0],A.y=e[E+1],A.z=e[E+2]}function y(){const x=new k,A=new k,E=new k,b=new k,C=new _e,P=new _e,L=new _e;for(let N=0,M=0;N<s.length;N+=9,M+=6){x.set(s[N+0],s[N+1],s[N+2]),A.set(s[N+3],s[N+4],s[N+5]),E.set(s[N+6],s[N+7],s[N+8]),C.set(o[M+0],o[M+1]),P.set(o[M+2],o[M+3]),L.set(o[M+4],o[M+5]),b.copy(x).add(A).add(E).divideScalar(3);const D=v(b);S(C,M+0,x,D),S(P,M+2,A,D),S(L,M+4,E,D)}}function S(x,A,E,b){b<0&&x.x===1&&(o[A]=x.x-1),E.x===0&&E.z===0&&(o[A]=b/2/Math.PI+.5)}function v(x){return Math.atan2(x.z,-x.x)}function g(x){return Math.atan2(-x.y,Math.sqrt(x.x*x.x+x.z*x.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Fl(e.vertices,e.indices,e.radius,e.details)}}class Kx extends Fl{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Kx(e.radius,e.detail)}}const d0=new k,p0=new k,sw=new k,m0=new Wi;class M6 extends Rt{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),s=Math.cos(kc*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],u=["a","b","c"],f=new Array(3),p={},m=[];for(let y=0;y<l;y+=3){o?(c[0]=o.getX(y),c[1]=o.getX(y+1),c[2]=o.getX(y+2)):(c[0]=y,c[1]=y+1,c[2]=y+2);const{a:S,b:v,c:g}=m0;if(S.fromBufferAttribute(a,c[0]),v.fromBufferAttribute(a,c[1]),g.fromBufferAttribute(a,c[2]),m0.getNormal(sw),f[0]=`${Math.round(S.x*i)},${Math.round(S.y*i)},${Math.round(S.z*i)}`,f[1]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,f[2]=`${Math.round(g.x*i)},${Math.round(g.y*i)},${Math.round(g.z*i)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let x=0;x<3;x++){const A=(x+1)%3,E=f[x],b=f[A],C=m0[u[x]],P=m0[u[A]],L=`${E}_${b}`,N=`${b}_${E}`;N in p&&p[N]?(sw.dot(p[N].normal)<=s&&(m.push(C.x,C.y,C.z),m.push(P.x,P.y,P.z)),p[N]=null):L in p||(p[L]={index0:c[x],index1:c[A],normal:sw.clone()})}}for(const y in p)if(p[y]){const{index0:S,index1:v}=p[y];d0.fromBufferAttribute(a,S),p0.fromBufferAttribute(a,v),m.push(d0.x,d0.y,d0.z),m.push(p0.x,p0.y,p0.z)}this.setAttribute("position",new rt(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Hc extends pm{constructor(e){super(e),this.uuid=Yi(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new pm().fromJSON(i))}return this}}const joe={triangulate:function(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let s=C6(n,0,i,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,u,f,p,m;if(r&&(s=$oe(n,e,s,t)),n.length>80*t){a=c=n[0],l=u=n[1];for(let y=t;y<i;y+=t)f=n[y],p=n[y+1],f<a&&(a=f),p<l&&(l=p),f>c&&(c=f),p>u&&(u=p);m=Math.max(c-a,u-l),m=m!==0?32767/m:0}return mm(s,o,t,a,l,m,0),o}};function C6(n,e,t,r,i){let s,o;if(i===oae(n,e,t,r)>0)for(s=e;s<t;s+=r)o=uB(s,n[s],n[s+1],o);else for(s=t-r;s>=e;s-=r)o=uB(s,n[s],n[s+1],o);return o&&Jx(o,o.next)&&(ym(o),o=o.next),o}function nu(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(Jx(t,t.next)||Pn(t.prev,t,t.next)===0)){if(ym(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function mm(n,e,t,r,i,s,o){if(!n)return;!o&&s&&eae(n,r,i,s);let a=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,s?Xoe(n,r,i,s):Woe(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(c.i/t|0),ym(n),n=c.next,a=c.next;continue}if(n=c,n===a){o?o===1?(n=Koe(nu(n),e,t),mm(n,e,t,r,i,s,2)):o===2&&Joe(n,e,t,r,i,s):mm(nu(n),e,t,r,i,s,1);break}}}function Woe(n){const e=n.prev,t=n,r=n.next;if(Pn(e,t,r)>=0)return!1;const i=e.x,s=t.x,o=r.x,a=e.y,l=t.y,c=r.y,u=i<s?i<o?i:o:s<o?s:o,f=a<l?a<c?a:c:l<c?l:c,p=i>s?i>o?i:o:s>o?s:o,m=a>l?a>c?a:c:l>c?l:c;let y=r.next;for(;y!==e;){if(y.x>=u&&y.x<=p&&y.y>=f&&y.y<=m&&Eh(i,a,s,l,o,c,y.x,y.y)&&Pn(y.prev,y,y.next)>=0)return!1;y=y.next}return!0}function Xoe(n,e,t,r){const i=n.prev,s=n,o=n.next;if(Pn(i,s,o)>=0)return!1;const a=i.x,l=s.x,c=o.x,u=i.y,f=s.y,p=o.y,m=a<l?a<c?a:c:l<c?l:c,y=u<f?u<p?u:p:f<p?f:p,S=a>l?a>c?a:c:l>c?l:c,v=u>f?u>p?u:p:f>p?f:p,g=gM(m,y,e,t,r),x=gM(S,v,e,t,r);let A=n.prevZ,E=n.nextZ;for(;A&&A.z>=g&&E&&E.z<=x;){if(A.x>=m&&A.x<=S&&A.y>=y&&A.y<=v&&A!==i&&A!==o&&Eh(a,u,l,f,c,p,A.x,A.y)&&Pn(A.prev,A,A.next)>=0||(A=A.prevZ,E.x>=m&&E.x<=S&&E.y>=y&&E.y<=v&&E!==i&&E!==o&&Eh(a,u,l,f,c,p,E.x,E.y)&&Pn(E.prev,E,E.next)>=0))return!1;E=E.nextZ}for(;A&&A.z>=g;){if(A.x>=m&&A.x<=S&&A.y>=y&&A.y<=v&&A!==i&&A!==o&&Eh(a,u,l,f,c,p,A.x,A.y)&&Pn(A.prev,A,A.next)>=0)return!1;A=A.prevZ}for(;E&&E.z<=x;){if(E.x>=m&&E.x<=S&&E.y>=y&&E.y<=v&&E!==i&&E!==o&&Eh(a,u,l,f,c,p,E.x,E.y)&&Pn(E.prev,E,E.next)>=0)return!1;E=E.nextZ}return!0}function Koe(n,e,t){let r=n;do{const i=r.prev,s=r.next.next;!Jx(i,s)&&b6(i,r,r.next,s)&&gm(i,s)&&gm(s,i)&&(e.push(i.i/t|0),e.push(r.i/t|0),e.push(s.i/t|0),ym(r),ym(r.next),r=n=s),r=r.next}while(r!==n);return nu(r)}function Joe(n,e,t,r,i,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&rae(o,a)){let l=R6(o,a);o=nu(o,o.next),l=nu(l,l.next),mm(o,e,t,r,i,s,0),mm(l,e,t,r,i,s,0);return}a=a.next}o=o.next}while(o!==n)}function $oe(n,e,t,r){const i=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:n.length,c=C6(n,a,l,r,!1),c===c.next&&(c.steiner=!0),i.push(nae(c));for(i.sort(Yoe),s=0;s<i.length;s++)t=qoe(i[s],t);return t}function Yoe(n,e){return n.x-e.x}function qoe(n,e){const t=Qoe(n,e);if(!t)return e;const r=R6(t,n);return nu(r,r.next),nu(t,t.next)}function Qoe(n,e){let t=e,r=-1/0,i;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const p=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=s&&p>r&&(r=p,i=t.x<t.next.x?t:t.next,p===s))return i}t=t.next}while(t!==e);if(!i)return null;const a=i,l=i.x,c=i.y;let u=1/0,f;t=i;do s>=t.x&&t.x>=l&&s!==t.x&&Eh(o<c?s:r,o,l,c,o<c?r:s,o,t.x,t.y)&&(f=Math.abs(o-t.y)/(s-t.x),gm(t,n)&&(f<u||f===u&&(t.x>i.x||t.x===i.x&&Zoe(i,t)))&&(i=t,u=f)),t=t.next;while(t!==a);return i}function Zoe(n,e){return Pn(n.prev,n,e.prev)<0&&Pn(e.next,n,n.next)<0}function eae(n,e,t,r){let i=n;do i.z===0&&(i.z=gM(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,tae(i)}function tae(n){let e,t,r,i,s,o,a,l,c=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,r=t,a=0,e=0;e<c&&(a++,r=r.nextZ,!!r);e++);for(l=c;a>0||l>0&&r;)a!==0&&(l===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:n=i,i.prevZ=s,s=i;t=r}s.nextZ=null,c*=2}while(o>1);return n}function gM(n,e,t,r,i){return n=(n-t)*i|0,e=(e-r)*i|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function nae(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Eh(n,e,t,r,i,s,o,a){return(i-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(r-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(i-o)*(r-a)}function rae(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!iae(n,e)&&(gm(n,e)&&gm(e,n)&&sae(n,e)&&(Pn(n.prev,n,e.prev)||Pn(n,e.prev,e))||Jx(n,e)&&Pn(n.prev,n,n.next)>0&&Pn(e.prev,e,e.next)>0)}function Pn(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function Jx(n,e){return n.x===e.x&&n.y===e.y}function b6(n,e,t,r){const i=y0(Pn(n,e,t)),s=y0(Pn(n,e,r)),o=y0(Pn(t,r,n)),a=y0(Pn(t,r,e));return!!(i!==s&&o!==a||i===0&&g0(n,t,e)||s===0&&g0(n,r,e)||o===0&&g0(t,n,r)||a===0&&g0(t,e,r))}function g0(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function y0(n){return n>0?1:n<0?-1:0}function iae(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&b6(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function gm(n,e){return Pn(n.prev,n,n.next)<0?Pn(n,e,n.next)>=0&&Pn(n,n.prev,e)>=0:Pn(n,e,n.prev)<0||Pn(n,n.next,e)<0}function sae(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function R6(n,e){const t=new yM(n.i,n.x,n.y),r=new yM(e.i,e.x,e.y),i=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,s.next=r,r.prev=s,r}function uB(n,e,t,r){const i=new yM(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function ym(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function yM(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function oae(n,e,t,r){let i=0;for(let s=e,o=t-r;s<t;s+=r)i+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return i}class To{static area(e){const t=e.length;let r=0;for(let i=t-1,s=0;s<t;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return To.area(e)<0}static triangulateShape(e,t){const r=[],i=[],s=[];hB(e),fB(r,e);let o=e.length;t.forEach(hB);for(let l=0;l<t.length;l++)i.push(o),o+=t[l].length,fB(r,t[l]);const a=joe.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function hB(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function fB(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class $x extends Rt{constructor(e=new Hc([new _e(.5,.5),new _e(-.5,.5),new _e(-.5,-.5),new _e(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new rt(i,3)),this.setAttribute("uv",new rt(s,2)),this.computeVertexNormals();function o(a){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,u=t.steps!==void 0?t.steps:1,f=t.depth!==void 0?t.depth:1;let p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,y=t.bevelSize!==void 0?t.bevelSize:m-.1,S=t.bevelOffset!==void 0?t.bevelOffset:0,v=t.bevelSegments!==void 0?t.bevelSegments:3;const g=t.extrudePath,x=t.UVGenerator!==void 0?t.UVGenerator:aae;let A,E=!1,b,C,P,L;g&&(A=g.getSpacedPoints(u),E=!0,p=!1,b=g.computeFrenetFrames(u,!1),C=new k,P=new k,L=new k),p||(v=0,m=0,y=0,S=0);const N=a.extractPoints(c);let M=N.shape;const D=N.holes;if(!To.isClockWise(M)){M=M.reverse();for(let V=0,he=D.length;V<he;V++){const ie=D[V];To.isClockWise(ie)&&(D[V]=ie.reverse())}}const W=To.triangulateShape(M,D),H=M;for(let V=0,he=D.length;V<he;V++){const ie=D[V];M=M.concat(ie)}function $(V,he,ie){return he||console.error("THREE.ExtrudeGeometry: vec does not exist"),V.clone().addScaledVector(he,ie)}const Z=M.length,ae=W.length;function O(V,he,ie){let ye,le,be;const Ee=V.x-he.x,F=V.y-he.y,B=ie.x-V.x,J=ie.y-V.y,xe=Ee*Ee+F*F,Se=Ee*J-F*B;if(Math.abs(Se)>Number.EPSILON){const we=Math.sqrt(xe),qe=Math.sqrt(B*B+J*J),Ne=he.x-F/we,Ue=he.y+Ee/we,lt=ie.x-J/qe,At=ie.y+B/qe,Re=((lt-Ne)*J-(At-Ue)*B)/(Ee*J-F*B);ye=Ne+Ee*Re-V.x,le=Ue+F*Re-V.y;const zt=ye*ye+le*le;if(zt<=2)return new _e(ye,le);be=Math.sqrt(zt/2)}else{let we=!1;Ee>Number.EPSILON?B>Number.EPSILON&&(we=!0):Ee<-Number.EPSILON?B<-Number.EPSILON&&(we=!0):Math.sign(F)===Math.sign(J)&&(we=!0),we?(ye=-F,le=Ee,be=Math.sqrt(xe)):(ye=Ee,le=F,be=Math.sqrt(xe/2))}return new _e(ye/be,le/be)}const j=[];for(let V=0,he=H.length,ie=he-1,ye=V+1;V<he;V++,ie++,ye++)ie===he&&(ie=0),ye===he&&(ye=0),j[V]=O(H[V],H[ie],H[ye]);const K=[];let q,te=j.concat();for(let V=0,he=D.length;V<he;V++){const ie=D[V];q=[];for(let ye=0,le=ie.length,be=le-1,Ee=ye+1;ye<le;ye++,be++,Ee++)be===le&&(be=0),Ee===le&&(Ee=0),q[ye]=O(ie[ye],ie[be],ie[Ee]);K.push(q),te=te.concat(q)}for(let V=0;V<v;V++){const he=V/v,ie=m*Math.cos(he*Math.PI/2),ye=y*Math.sin(he*Math.PI/2)+S;for(let le=0,be=H.length;le<be;le++){const Ee=$(H[le],j[le],ye);Pe(Ee.x,Ee.y,-ie)}for(let le=0,be=D.length;le<be;le++){const Ee=D[le];q=K[le];for(let F=0,B=Ee.length;F<B;F++){const J=$(Ee[F],q[F],ye);Pe(J.x,J.y,-ie)}}}const Me=y+S;for(let V=0;V<Z;V++){const he=p?$(M[V],te[V],Me):M[V];E?(P.copy(b.normals[0]).multiplyScalar(he.x),C.copy(b.binormals[0]).multiplyScalar(he.y),L.copy(A[0]).add(P).add(C),Pe(L.x,L.y,L.z)):Pe(he.x,he.y,0)}for(let V=1;V<=u;V++)for(let he=0;he<Z;he++){const ie=p?$(M[he],te[he],Me):M[he];E?(P.copy(b.normals[V]).multiplyScalar(ie.x),C.copy(b.binormals[V]).multiplyScalar(ie.y),L.copy(A[V]).add(P).add(C),Pe(L.x,L.y,L.z)):Pe(ie.x,ie.y,f/u*V)}for(let V=v-1;V>=0;V--){const he=V/v,ie=m*Math.cos(he*Math.PI/2),ye=y*Math.sin(he*Math.PI/2)+S;for(let le=0,be=H.length;le<be;le++){const Ee=$(H[le],j[le],ye);Pe(Ee.x,Ee.y,f+ie)}for(let le=0,be=D.length;le<be;le++){const Ee=D[le];q=K[le];for(let F=0,B=Ee.length;F<B;F++){const J=$(Ee[F],q[F],ye);E?Pe(J.x,J.y+A[u-1].y,A[u-1].x+ie):Pe(J.x,J.y,f+ie)}}}ne(),de();function ne(){const V=i.length/3;if(p){let he=0,ie=Z*he;for(let ye=0;ye<ae;ye++){const le=W[ye];Ke(le[2]+ie,le[1]+ie,le[0]+ie)}he=u+v*2,ie=Z*he;for(let ye=0;ye<ae;ye++){const le=W[ye];Ke(le[0]+ie,le[1]+ie,le[2]+ie)}}else{for(let he=0;he<ae;he++){const ie=W[he];Ke(ie[2],ie[1],ie[0])}for(let he=0;he<ae;he++){const ie=W[he];Ke(ie[0]+Z*u,ie[1]+Z*u,ie[2]+Z*u)}}r.addGroup(V,i.length/3-V,0)}function de(){const V=i.length/3;let he=0;Ae(H,he),he+=H.length;for(let ie=0,ye=D.length;ie<ye;ie++){const le=D[ie];Ae(le,he),he+=le.length}r.addGroup(V,i.length/3-V,1)}function Ae(V,he){let ie=V.length;for(;--ie>=0;){const ye=ie;let le=ie-1;le<0&&(le=V.length-1);for(let be=0,Ee=u+v*2;be<Ee;be++){const F=Z*be,B=Z*(be+1),J=he+ye+F,xe=he+le+F,Se=he+le+B,we=he+ye+B;ke(J,xe,Se,we)}}}function Pe(V,he,ie){l.push(V),l.push(he),l.push(ie)}function Ke(V,he,ie){ce(V),ce(he),ce(ie);const ye=i.length/3,le=x.generateTopUV(r,i,ye-3,ye-2,ye-1);oe(le[0]),oe(le[1]),oe(le[2])}function ke(V,he,ie,ye){ce(V),ce(he),ce(ye),ce(he),ce(ie),ce(ye);const le=i.length/3,be=x.generateSideWallUV(r,i,le-6,le-3,le-2,le-1);oe(be[0]),oe(be[1]),oe(be[3]),oe(be[1]),oe(be[2]),oe(be[3])}function ce(V){i.push(l[V*3+0]),i.push(l[V*3+1]),i.push(l[V*3+2])}function oe(V){s.push(V.x),s.push(V.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return lae(t,r,e)}static fromJSON(e,t){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new x_[i.type]().fromJSON(i)),new $x(r,e.options)}}const aae={generateTopUV:function(n,e,t,r,i){const s=e[t*3],o=e[t*3+1],a=e[r*3],l=e[r*3+1],c=e[i*3],u=e[i*3+1];return[new _e(s,o),new _e(a,l),new _e(c,u)]},generateSideWallUV:function(n,e,t,r,i,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],c=e[r*3],u=e[r*3+1],f=e[r*3+2],p=e[i*3],m=e[i*3+1],y=e[i*3+2],S=e[s*3],v=e[s*3+1],g=e[s*3+2];return Math.abs(a-u)<Math.abs(o-c)?[new _e(o,1-l),new _e(c,1-f),new _e(p,1-y),new _e(S,1-g)]:[new _e(a,1-l),new _e(u,1-f),new _e(m,1-y),new _e(v,1-g)]}};function lae(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const s=n[r];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Yx extends Fl{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Yx(e.radius,e.detail)}}class Qm extends Fl{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Qm(e.radius,e.detail)}}class qx extends Rt{constructor(e=.5,t=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],c=[],u=[];let f=e;const p=(t-e)/i,m=new k,y=new _e;for(let S=0;S<=i;S++){for(let v=0;v<=r;v++){const g=s+v/r*o;m.x=f*Math.cos(g),m.y=f*Math.sin(g),l.push(m.x,m.y,m.z),c.push(0,0,1),y.x=(m.x/t+1)/2,y.y=(m.y/t+1)/2,u.push(y.x,y.y)}f+=p}for(let S=0;S<i;S++){const v=S*(r+1);for(let g=0;g<r;g++){const x=g+v,A=x,E=x+r+1,b=x+r+2,C=x+1;a.push(A,E,C),a.push(E,b,C)}}this.setIndex(a),this.setAttribute("position",new rt(l,3)),this.setAttribute("normal",new rt(c,3)),this.setAttribute("uv",new rt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new qx(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Qx extends Rt{constructor(e=new Hc([new _e(0,.5),new _e(-.5,-.5),new _e(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new rt(i,3)),this.setAttribute("normal",new rt(s,3)),this.setAttribute("uv",new rt(o,2));function c(u){const f=i.length/3,p=u.extractPoints(t);let m=p.shape;const y=p.holes;To.isClockWise(m)===!1&&(m=m.reverse());for(let v=0,g=y.length;v<g;v++){const x=y[v];To.isClockWise(x)===!0&&(y[v]=x.reverse())}const S=To.triangulateShape(m,y);for(let v=0,g=y.length;v<g;v++){const x=y[v];m=m.concat(x)}for(let v=0,g=m.length;v<g;v++){const x=m[v];i.push(x.x,x.y,0),s.push(0,0,1),o.push(x.x,x.y)}for(let v=0,g=S.length;v<g;v++){const x=S[v],A=x[0]+f,E=x[1]+f,b=x[2]+f;r.push(A,E,b),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return cae(t,e)}static fromJSON(e,t){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=t[e.shapes[i]];r.push(o)}return new Qx(r,e.curveSegments)}}function cae(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class Zm extends Rt{constructor(e=1,t=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let c=0;const u=[],f=new k,p=new k,m=[],y=[],S=[],v=[];for(let g=0;g<=r;g++){const x=[],A=g/r;let E=0;g===0&&o===0?E=.5/t:g===r&&l===Math.PI&&(E=-.5/t);for(let b=0;b<=t;b++){const C=b/t;f.x=-e*Math.cos(i+C*s)*Math.sin(o+A*a),f.y=e*Math.cos(o+A*a),f.z=e*Math.sin(i+C*s)*Math.sin(o+A*a),y.push(f.x,f.y,f.z),p.copy(f).normalize(),S.push(p.x,p.y,p.z),v.push(C+E,1-A),x.push(c++)}u.push(x)}for(let g=0;g<r;g++)for(let x=0;x<t;x++){const A=u[g][x+1],E=u[g][x],b=u[g+1][x],C=u[g+1][x+1];(g!==0||o>0)&&m.push(A,E,C),(g!==r-1||l<Math.PI)&&m.push(E,b,C)}this.setIndex(m),this.setAttribute("position",new rt(y,3)),this.setAttribute("normal",new rt(S,3)),this.setAttribute("uv",new rt(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Zm(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Zx extends Fl{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Zx(e.radius,e.detail)}}class e1 extends Rt{constructor(e=1,t=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],c=[],u=new k,f=new k,p=new k;for(let m=0;m<=r;m++)for(let y=0;y<=i;y++){const S=y/i*s,v=m/r*Math.PI*2;f.x=(e+t*Math.cos(v))*Math.cos(S),f.y=(e+t*Math.cos(v))*Math.sin(S),f.z=t*Math.sin(v),a.push(f.x,f.y,f.z),u.x=e*Math.cos(S),u.y=e*Math.sin(S),p.subVectors(f,u).normalize(),l.push(p.x,p.y,p.z),c.push(y/i),c.push(m/r)}for(let m=1;m<=r;m++)for(let y=1;y<=i;y++){const S=(i+1)*m+y-1,v=(i+1)*(m-1)+y-1,g=(i+1)*(m-1)+y,x=(i+1)*m+y;o.push(S,v,x),o.push(v,g,x)}this.setIndex(o),this.setAttribute("position",new rt(a,3)),this.setAttribute("normal",new rt(l,3)),this.setAttribute("uv",new rt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new e1(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class t1 extends Rt{constructor(e=1,t=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],c=[],u=[],f=new k,p=new k,m=new k,y=new k,S=new k,v=new k,g=new k;for(let A=0;A<=r;++A){const E=A/r*s*Math.PI*2;x(E,s,o,e,m),x(E+.01,s,o,e,y),v.subVectors(y,m),g.addVectors(y,m),S.crossVectors(v,g),g.crossVectors(S,v),S.normalize(),g.normalize();for(let b=0;b<=i;++b){const C=b/i*Math.PI*2,P=-t*Math.cos(C),L=t*Math.sin(C);f.x=m.x+(P*g.x+L*S.x),f.y=m.y+(P*g.y+L*S.y),f.z=m.z+(P*g.z+L*S.z),l.push(f.x,f.y,f.z),p.subVectors(f,m).normalize(),c.push(p.x,p.y,p.z),u.push(A/r),u.push(b/i)}}for(let A=1;A<=r;A++)for(let E=1;E<=i;E++){const b=(i+1)*(A-1)+(E-1),C=(i+1)*A+(E-1),P=(i+1)*A+E,L=(i+1)*(A-1)+E;a.push(b,C,L),a.push(C,P,L)}this.setIndex(a),this.setAttribute("position",new rt(l,3)),this.setAttribute("normal",new rt(c,3)),this.setAttribute("uv",new rt(u,2));function x(A,E,b,C,P){const L=Math.cos(A),N=Math.sin(A),M=b/E*A,D=Math.cos(M);P.x=C*(2+D)*.5*L,P.y=C*(2+D)*N*.5,P.z=C*Math.sin(M)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new t1(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class n1 extends Rt{constructor(e=new C2(new k(-1,-1,0),new k(-1,1,0),new k(1,1,0)),t=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new k,l=new k,c=new _e;let u=new k;const f=[],p=[],m=[],y=[];S(),this.setIndex(y),this.setAttribute("position",new rt(f,3)),this.setAttribute("normal",new rt(p,3)),this.setAttribute("uv",new rt(m,2));function S(){for(let A=0;A<t;A++)v(A);v(s===!1?t:0),x(),g()}function v(A){u=e.getPointAt(A/t,u);const E=o.normals[A],b=o.binormals[A];for(let C=0;C<=i;C++){const P=C/i*Math.PI*2,L=Math.sin(P),N=-Math.cos(P);l.x=N*E.x+L*b.x,l.y=N*E.y+L*b.y,l.z=N*E.z+L*b.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=u.x+r*l.x,a.y=u.y+r*l.y,a.z=u.z+r*l.z,f.push(a.x,a.y,a.z)}}function g(){for(let A=1;A<=t;A++)for(let E=1;E<=i;E++){const b=(i+1)*(A-1)+(E-1),C=(i+1)*A+(E-1),P=(i+1)*A+E,L=(i+1)*(A-1)+E;y.push(b,C,L),y.push(C,P,L)}}function x(){for(let A=0;A<=t;A++)for(let E=0;E<=i;E++)c.x=A/t,c.y=E/i,m.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new n1(new x_[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class P6 extends Rt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new k,s=new k;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const f=l[c],p=f.start,m=f.count;for(let y=p,S=p+m;y<S;y+=3)for(let v=0;v<3;v++){const g=a.getX(y+v),x=a.getX(y+(v+1)%3);i.fromBufferAttribute(o,g),s.fromBufferAttribute(o,x),dB(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const u=3*a+c,f=3*a+(c+1)%3;i.fromBufferAttribute(o,u),s.fromBufferAttribute(o,f),dB(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new rt(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function dB(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var pB=Object.freeze({__proto__:null,BoxGeometry:cu,CapsuleGeometry:jx,CircleGeometry:Wx,ConeGeometry:Xx,CylinderGeometry:kf,DodecahedronGeometry:Kx,EdgesGeometry:M6,ExtrudeGeometry:$x,IcosahedronGeometry:Yx,LatheGeometry:qm,OctahedronGeometry:Qm,PlaneGeometry:Of,PolyhedronGeometry:Fl,RingGeometry:qx,ShapeGeometry:Qx,SphereGeometry:Zm,TetrahedronGeometry:Zx,TorusGeometry:e1,TorusKnotGeometry:t1,TubeGeometry:n1,WireframeGeometry:P6});class I6 extends sr{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Ve(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class L6 extends Ys{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class eg extends sr{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Ve(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ve(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ol,this.normalScale=new _e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class No extends eg{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new _e(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Vn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Ve(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Ve(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ve(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class D6 extends sr{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Ve(16777215),this.specular=new Ve(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ve(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ol,this.normalScale=new _e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Gm,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class B6 extends sr{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ve(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ve(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ol,this.normalScale=new _e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class N6 extends sr{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ol,this.normalScale=new _e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class O6 extends sr{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Ve(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ve(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ol,this.normalScale=new _e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Gm,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class F6 extends sr{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ve(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ol,this.normalScale=new _e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class k6 extends si{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Rc(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function U6(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function V6(n){function e(i,s){return n[i]-n[s]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r}function vM(n,e,t){const r=n.length,i=new n.constructor(r);for(let s=0,o=0;o!==r;++s){const a=t[s]*e;for(let l=0;l!==e;++l)i[o++]=n[a+l]}return i}function R2(n,e,t,r){let i=1,s=n[0];for(;s!==void 0&&s[r]===void 0;)s=n[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),t.push(o)),s=n[i++];while(s!==void 0)}function uae(n,e,t,r,i=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),f=[],p=[];for(let m=0;m<c.times.length;++m){const y=c.times[m]*i;if(!(y<t||y>=r)){f.push(c.times[m]);for(let S=0;S<u;++S)p.push(c.values[m*u+S])}}f.length!==0&&(c.times=Rc(f,c.times.constructor),c.values=Rc(p,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function hae(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(g){return g.name===a.name&&g.ValueTypeName===l});if(c===void 0)continue;let u=0;const f=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=f/3);let p=0;const m=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const y=a.times.length-1;let S;if(s<=a.times[0]){const g=u,x=f-u;S=a.values.slice(g,x)}else if(s>=a.times[y]){const g=y*f+u,x=g+f-u;S=a.values.slice(g,x)}else{const g=a.createInterpolant(),x=u,A=f-u;g.evaluate(s),S=g.resultBuffer.slice(x,A)}l==="quaternion"&&new wr().fromArray(S).normalize().conjugate().toArray(S);const v=c.times.length;for(let g=0;g<v;++g){const x=g*m+p;if(l==="quaternion")wr.multiplyQuaternionsFlat(c.values,x,S,0,c.values,x);else{const A=m-p*2;for(let E=0;E<A;++E)c.values[x+E]-=S[E]}}}return n.blendMode=n2,n}const fae={convertArray:Rc,isTypedArray:U6,getKeyframeOrder:V6,sortedArray:vM,flattenJSON:R2,subclip:uae,makeClipAdditive:hae};class Uf{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],s=t[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=t[++r],e<i)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=t[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<t[a]?o=a:r=a+1}if(i=t[r],s=t[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)t[o]=r[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class z6 extends Uf{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Mc,endingEnd:Mc}}intervalChanged_(e,t,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case Cc:s=e,a=2*t-r;break;case am:s=i.length-2,a=t+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Cc:o=e,l=2*r-t;break;case am:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=t}const c=(r-t)*.5,u=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-r),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,f=this._offsetNext,p=this._weightPrev,m=this._weightNext,y=(r-t)/(i-t),S=y*y,v=S*y,g=-p*v+2*p*S-p*y,x=(1+p)*v+(-1.5-2*p)*S+(-.5+p)*y+1,A=(-1-m)*v+(1.5+m)*S+.5*y,E=m*v-m*S;for(let b=0;b!==a;++b)s[b]=g*o[u+b]+x*o[c+b]+A*o[l+b]+E*o[f+b];return s}}class P2 extends Uf{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(r-t)/(i-t),f=1-u;for(let p=0;p!==a;++p)s[p]=o[c+p]*f+o[l+p]*u;return s}}class H6 extends Uf{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Zs{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Rc(t,this.TimeBufferType),this.values=Rc(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:Rc(e.times,Array),values:Rc(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new H6(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new P2(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new z6(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case pf:t=this.InterpolantFactoryMethodDiscrete;break;case tu:t=this.InterpolantFactoryMethodLinear;break;case nv:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return pf;case this.InterpolantFactoryMethodLinear:return tu;case this.InterpolantFactoryMethodSmooth:return nv}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>t;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=r.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&U6(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===nv,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(i)l=!0;else{const f=a*r,p=f-r,m=f+r;for(let y=0;y!==r;++y){const S=t[f+y];if(S!==t[p+y]||S!==t[m+y]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const f=a*r,p=o*r;for(let m=0;m!==r;++m)t[p+m]=t[f+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,c=0;c!==r;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*r)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}Zs.prototype.TimeBufferType=Float32Array;Zs.prototype.ValueBufferType=Float32Array;Zs.prototype.DefaultInterpolation=tu;class uu extends Zs{}uu.prototype.ValueTypeName="bool";uu.prototype.ValueBufferType=Array;uu.prototype.DefaultInterpolation=pf;uu.prototype.InterpolantFactoryMethodLinear=void 0;uu.prototype.InterpolantFactoryMethodSmooth=void 0;class I2 extends Zs{}I2.prototype.ValueTypeName="color";class vf extends Zs{}vf.prototype.ValueTypeName="number";class G6 extends Uf{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-t)/(i-t);let c=e*a;for(let u=c+a;c!==u;c+=4)wr.slerpFlat(s,0,o,c-a,o,c,l);return s}}class bl extends Zs{InterpolantFactoryMethodLinear(e){return new G6(this.times,this.values,this.getValueSize(),e)}}bl.prototype.ValueTypeName="quaternion";bl.prototype.DefaultInterpolation=tu;bl.prototype.InterpolantFactoryMethodSmooth=void 0;class hu extends Zs{}hu.prototype.ValueTypeName="string";hu.prototype.ValueBufferType=Array;hu.prototype.DefaultInterpolation=pf;hu.prototype.InterpolantFactoryMethodLinear=void 0;hu.prototype.InterpolantFactoryMethodSmooth=void 0;class _f extends Zs{}_f.prototype.ValueTypeName="vector";class xf{constructor(e,t=-1,r,i=Bx){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=Yi(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)t.push(pae(r[o]).scale(i));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)t.push(Zs.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=V6(l);l=vM(l,1,u),c=vM(c,1,u),!i&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new vf(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/r))}return new this(e,-1,o)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(s);if(u&&u.length>1){const f=u[1];let p=i[f];p||(i[f]=p=[]),p.push(c)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],t,r));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(f,p,m,y,S){if(m.length!==0){const v=[],g=[];R2(m,v,g,y),v.length!==0&&S.push(new f(p,v,g))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let f=0;f<c.length;f++){const p=c[f].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let y;for(y=0;y<p.length;y++)if(p[y].morphTargets)for(let S=0;S<p[y].morphTargets.length;S++)m[p[y].morphTargets[S]]=-1;for(const S in m){const v=[],g=[];for(let x=0;x!==p[y].morphTargets.length;++x){const A=p[y];v.push(A.time),g.push(A.morphTarget===S?1:0)}i.push(new vf(".morphTargetInfluence["+S+"]",v,g))}l=m.length*o}else{const m=".bones["+t[f].name+"]";r(_f,m+".position",p,"pos",i),r(bl,m+".quaternion",p,"rot",i),r(_f,m+".scale",p,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function dae(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return vf;case"vector":case"vector2":case"vector3":case"vector4":return _f;case"color":return I2;case"quaternion":return bl;case"bool":case"boolean":return uu;case"string":return hu}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function pae(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=dae(n.type);if(n.times===void 0){const t=[],r=[];R2(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const sa={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class L2{constructor(e,t,r){const i=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(u){a++,s===!1&&i.onStart!==void 0&&i.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,i.onProgress!==void 0&&i.onProgress(u,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,f){return c.push(u,f),this},this.removeHandler=function(u){const f=c.indexOf(u);return f!==-1&&c.splice(f,2),this},this.getHandler=function(u){for(let f=0,p=c.length;f<p;f+=2){const m=c[f],y=c[f+1];if(m.global&&(m.lastIndex=0),m.test(u))return y}return null}}}const Th=new L2;class oi{constructor(e){this.manager=e!==void 0?e:Th,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,s){r.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}oi.DEFAULT_MATERIAL_NAME="__DEFAULT";const $o={};class mae extends Error{constructor(e,t){super(e),this.response=t}}class ts extends oi{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=sa.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if($o[e]!==void 0){$o[e].push({onLoad:t,onProgress:r,onError:i});return}$o[e]=[],$o[e].push({onLoad:t,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=$o[e],f=c.body.getReader(),p=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),m=p?parseInt(p):0,y=m!==0;let S=0;const v=new ReadableStream({start(g){x();function x(){f.read().then(({done:A,value:E})=>{if(A)g.close();else{S+=E.byteLength;const b=new ProgressEvent("progress",{lengthComputable:y,loaded:S,total:m});for(let C=0,P=u.length;C<P;C++){const L=u[C];L.onProgress&&L.onProgress(b)}g.enqueue(E),x()}})}}});return new Response(v)}else throw new mae(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{const f=/charset="?([^;"\s]*)"?/i.exec(a),p=f&&f[1]?f[1].toLowerCase():void 0,m=new TextDecoder(p);return c.arrayBuffer().then(y=>m.decode(y))}}}).then(c=>{sa.add(e,c);const u=$o[e];delete $o[e];for(let f=0,p=u.length;f<p;f++){const m=u[f];m.onLoad&&m.onLoad(c)}}).catch(c=>{const u=$o[e];if(u===void 0)throw this.manager.itemError(e),c;delete $o[e];for(let f=0,p=u.length;f<p;f++){const m=u[f];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class gae extends oi{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new ts(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=xf.parse(e[r]);t.push(i)}return t}}class yae extends oi{constructor(e){super(e)}load(e,t,r,i){const s=this,o=[],a=new Hx,l=new ts(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function u(f){l.load(e[f],function(p){const m=s.parse(p,!0);o[f]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},c+=1,c===6&&(m.mipmapCount===1&&(a.minFilter=vn),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},r,i)}if(Array.isArray(e))for(let f=0,p=e.length;f<p;++f)u(f);else l.load(e,function(f){const p=s.parse(f,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let y=0;y<m;y++){o[y]={mipmaps:[]};for(let S=0;S<p.mipmapCount;S++)o[y].mipmaps.push(p.mipmaps[y*p.mipmapCount+S]),o[y].format=p.format,o[y].width=p.width,o[y].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=vn),a.format=p.format,a.needsUpdate=!0,t&&t(a)},r,i);return a}}class vm extends oi{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=sa.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=dm("img");function l(){u(),sa.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(f){u(),i&&i(f),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class vae extends oi{constructor(e){super(e)}load(e,t,r,i){const s=new Km;s.colorSpace=cr;const o=new vm(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(u){s.images[c]=u,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return s}}class _ae extends oi{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new zc,a=new ts(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){let c;try{c=s.parse(l)}catch(u){if(i!==void 0)i(u);else{console.error(u);return}}c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:Nr,o.wrapT=c.wrapT!==void 0?c.wrapT:Nr,o.magFilter=c.magFilter!==void 0?c.magFilter:vn,o.minFilter=c.minFilter!==void 0?c.minFilter:vn,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0?o.colorSpace=c.colorSpace:c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=Ms),c.mipmapCount===1&&(o.minFilter=vn),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c)},r,i),o}}class j6 extends oi{constructor(e){super(e)}load(e,t,r,i){const s=new An,o=new vm(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},r,i),s}}class kl extends Kt{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Ve(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class W6 extends kl{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Kt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Ve(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const ow=new ht,mB=new k,gB=new k;class D2{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new _e(512,512),this.map=null,this.mapPass=null,this.matrix=new ht,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Jm,this._frameExtents=new _e(1,1),this._viewportCount=1,this._viewports=[new on(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;mB.setFromMatrixPosition(e.matrixWorld),t.position.copy(mB),gB.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(gB),t.updateMatrixWorld(),ow.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(ow),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(ow)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class xae extends D2{constructor(){super(new xn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,r=mf*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(r!==t.fov||i!==t.aspect||s!==t.far)&&(t.fov=r,t.aspect=i,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class B2 extends kl{constructor(e,t,r=0,i=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Kt.DEFAULT_UP),this.updateMatrix(),this.target=new Kt,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new xae}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const yB=new ht,bd=new k,aw=new k;class Sae extends D2{constructor(){super(new xn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new _e(4,2),this._viewportCount=6,this._viewports=[new on(2,1,1,1),new on(0,1,1,1),new on(3,1,1,1),new on(1,1,1,1),new on(3,0,1,1),new on(1,0,1,1)],this._cubeDirections=[new k(1,0,0),new k(-1,0,0),new k(0,0,1),new k(0,0,-1),new k(0,1,0),new k(0,-1,0)],this._cubeUps=[new k(0,1,0),new k(0,1,0),new k(0,1,0),new k(0,1,0),new k(0,0,1),new k(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),bd.setFromMatrixPosition(e.matrixWorld),r.position.copy(bd),aw.copy(r.position),aw.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(aw),r.updateMatrixWorld(),i.makeTranslation(-bd.x,-bd.y,-bd.z),yB.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(yB)}}class N2 extends kl{constructor(e,t,r=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new Sae}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Aae extends D2{constructor(){super(new Cs(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class O2 extends kl{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Kt.DEFAULT_UP),this.updateMatrix(),this.target=new Kt,this.shadow=new Aae}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class X6 extends kl{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class K6 extends kl{constructor(e,t,r=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class J6{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new k)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*r),t.addScaledVector(o[4],1.092548*(r*i)),t.addScaledVector(o[5],1.092548*(i*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(r*s)),t.addScaledVector(o[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*i),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*r),t.addScaledVector(o[4],2*.429043*r*i),t.addScaledVector(o[5],2*.429043*i*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*r*s),t.addScaledVector(o[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,s=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*s,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*r*s,t[8]=.546274*(r*r-i*i)}}class $6 extends kl{constructor(e=new J6,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class r1 extends oi{constructor(e){super(e),this.textures={}}load(e,t,r,i){const s=this,o=new ts(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const i=r1.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Ve().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new Ve().setHex(o.value);break;case"v2":i.uniforms[s].value=new _e().fromArray(o.value);break;case"v3":i.uniforms[s].value=new k().fromArray(o.value);break;case"v4":i.uniforms[s].value=new on().fromArray(o.value);break;case"m3":i.uniforms[s].value=new Ot().fromArray(o.value);break;case"m4":i.uniforms[s].value=new ht().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new _e().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new _e().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:I6,SpriteMaterial:v2,RawShaderMaterial:L6,ShaderMaterial:Ys,PointsMaterial:zx,MeshPhysicalMaterial:No,MeshStandardMaterial:eg,MeshPhongMaterial:D6,MeshToonMaterial:B6,MeshNormalMaterial:N6,MeshLambertMaterial:O6,MeshDepthMaterial:m2,MeshDistanceMaterial:g2,MeshBasicMaterial:Ji,MeshMatcapMaterial:F6,LineDashedMaterial:k6,LineBasicMaterial:si,Material:sr};return new t[e]}}class Mo{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class Y6 extends Rt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class q6 extends oi{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new ts(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(m,y){if(t[y]!==void 0)return t[y];const v=m.interleavedBuffers[y],g=s(m,v.buffer),x=Sh(v.type,g),A=new $m(x,v.stride);return A.uuid=v.uuid,t[y]=A,A}function s(m,y){if(r[y]!==void 0)return r[y];const v=m.arrayBuffers[y],g=new Uint32Array(v).buffer;return r[y]=g,g}const o=e.isInstancedBufferGeometry?new Y6:new Rt,a=e.data.index;if(a!==void 0){const m=Sh(a.type,a.array);o.setIndex(new Jt(m,1))}const l=e.data.attributes;for(const m in l){const y=l[m];let S;if(y.isInterleavedBufferAttribute){const v=i(e.data,y.data);S=new Cl(v,y.itemSize,y.offset,y.normalized)}else{const v=Sh(y.type,y.array),g=y.isInstancedBufferAttribute?yf:Jt;S=new g(v,y.itemSize,y.normalized)}y.name!==void 0&&(S.name=y.name),y.usage!==void 0&&S.setUsage(y.usage),o.setAttribute(m,S)}const c=e.data.morphAttributes;if(c)for(const m in c){const y=c[m],S=[];for(let v=0,g=y.length;v<g;v++){const x=y[v];let A;if(x.isInterleavedBufferAttribute){const E=i(e.data,x.data);A=new Cl(E,x.itemSize,x.offset,x.normalized)}else{const E=Sh(x.type,x.array);A=new Jt(E,x.itemSize,x.normalized)}x.name!==void 0&&(A.name=x.name),S.push(A)}o.morphAttributes[m]=S}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let m=0,y=f.length;m!==y;++m){const S=f[m];o.addGroup(S.start,S.count,S.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new k;p.center!==void 0&&m.fromArray(p.center),o.boundingSphere=new Ur(m,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class wae extends oi{constructor(e){super(e)}load(e,t,r,i){const s=this,o=this.path===""?Mo.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new ts(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(f){i!==void 0&&i(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?Mo.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new ts(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){t!==void 0&&t(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,r),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),t!==void 0){let f=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){f=!0;break}f===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new Hc().fromJSON(e[r]);t[s.uuid]=s}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new Ym().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new q6;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in pB?a=pB[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const s=new r1;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=xf.parse(i);t[s.uuid]=s}return t}parseImages(e,t){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return o(u)}else return l.data?{data:Sh(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new L2(t);s=new vm(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const f=e[c],p=f.url;if(Array.isArray(p)){const m=[];for(let y=0,S=p.length;y<S;y++){const v=p[y],g=a(v);g!==null&&(g instanceof HTMLImageElement?m.push(g):m.push(new zc(g.data,g.width,g.height)))}i[f.uuid]=new bc(m)}else{const m=a(f.url);i[f.uuid]=new bc(m)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:Sh(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new vm(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const u=[];for(let f=0,p=c.length;f<p;f++){const m=c[f],y=await s(m);y!==null&&(y instanceof HTMLImageElement?u.push(y):u.push(new zc(y.data,y.width,y.height)))}r[l.uuid]=new bc(u)}else{const u=await s(l.url);r[l.uuid]=new bc(u)}}}return r}parseTextures(e,t){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],c=l.data;let u;Array.isArray(c)?(u=new Km,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new zc:u=new An,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=a.uuid,a.name!==void 0&&(u.name=a.name),a.mapping!==void 0&&(u.mapping=r(a.mapping,Eae)),a.channel!==void 0&&(u.channel=a.channel),a.offset!==void 0&&u.offset.fromArray(a.offset),a.repeat!==void 0&&u.repeat.fromArray(a.repeat),a.center!==void 0&&u.center.fromArray(a.center),a.rotation!==void 0&&(u.rotation=a.rotation),a.wrap!==void 0&&(u.wrapS=r(a.wrap[0],vB),u.wrapT=r(a.wrap[1],vB)),a.format!==void 0&&(u.format=a.format),a.internalFormat!==void 0&&(u.internalFormat=a.internalFormat),a.type!==void 0&&(u.type=a.type),a.colorSpace!==void 0&&(u.colorSpace=a.colorSpace),a.encoding!==void 0&&(u.encoding=a.encoding),a.minFilter!==void 0&&(u.minFilter=r(a.minFilter,_B)),a.magFilter!==void 0&&(u.magFilter=r(a.magFilter,_B)),a.anisotropy!==void 0&&(u.anisotropy=a.anisotropy),a.flipY!==void 0&&(u.flipY=a.flipY),a.generateMipmaps!==void 0&&(u.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(u.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(u.compareFunction=a.compareFunction),a.userData!==void 0&&(u.userData=a.userData),i[a.uuid]=u}return i}parseObject(e,t,r,i,s){let o;function a(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let y=0,S=p.length;y<S;y++){const v=p[y];r[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",v),m.push(r[v])}return m}return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),r[p]}}function c(p){return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),i[p]}let u,f;switch(e.type){case"Scene":o=new __,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Ve(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new Ux(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new kx(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new xn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Cs(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new X6(e.color,e.intensity);break;case"DirectionalLight":o=new O2(e.color,e.intensity);break;case"PointLight":o=new N2(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new K6(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new B2(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new W6(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new $6().fromJSON(e);break;case"SkinnedMesh":u=a(e.geometry),f=l(e.material),o=new _2(u,f),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":u=a(e.geometry),f=l(e.material),o=new Jn(u,f);break;case"InstancedMesh":u=a(e.geometry),f=l(e.material);const p=e.count,m=e.instanceMatrix,y=e.instanceColor;o=new x2(u,f,p),o.instanceMatrix=new yf(new Float32Array(m.array),16),y!==void 0&&(o.instanceColor=new yf(new Float32Array(y.array),y.itemSize));break;case"BatchedMesh":u=a(e.geometry),f=l(e.material),o=new x6(e.maxGeometryCount,e.maxVertexCount,e.maxIndexCount,f),o.geometry=u,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._visibility=e.visibility,o._active=e.active,o._bounds=e.bounds.map(S=>{const v=new ni;v.min.fromArray(S.boxMin),v.max.fromArray(S.boxMax);const g=new Ur;return g.radius=S.sphereRadius,g.center.fromArray(S.sphereCenter),{boxInitialized:S.boxInitialized,box:v,sphereInitialized:S.sphereInitialized,sphere:g}}),o._maxGeometryCount=e.maxGeometryCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._geometryCount=e.geometryCount,o._matricesTexture=c(e.matricesTexture.uuid);break;case"LOD":o=new _6;break;case"Line":o=new _a(a(e.geometry),l(e.material));break;case"LineLoop":o=new S2(a(e.geometry),l(e.material));break;case"LineSegments":o=new qs(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new A2(a(e.geometry),l(e.material));break;case"Sprite":o=new v6(l(e.material));break;case"Group":o=new ia;break;case"Bone":o=new Vx;break;default:o=new Kt}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],t,r,i,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const y=p[m];o.animations.push(s[y])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const y=p[m],S=o.getObjectByProperty("uuid",y.object);S!==void 0&&o.addLevel(S,y.distance,y.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const Eae={UVMapping:Lx,CubeReflectionMapping:va,CubeRefractionMapping:Tl,EquirectangularReflectionMapping:im,EquirectangularRefractionMapping:sm,CubeUVReflectionMapping:Nf},vB={RepeatWrapping:Ml,ClampToEdgeWrapping:Nr,MirroredRepeatWrapping:ff},_B={NearestFilter:kn,NearestMipmapNearestFilter:om,NearestMipmapLinearFilter:Ya,LinearFilter:vn,LinearMipmapNearestFilter:jh,LinearMipmapLinearFilter:Ms};class Q6 extends oi{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=sa.get(e);if(o!==void 0){if(s.manager.itemStart(e),o.then){o.then(c=>{t&&t(c),s.manager.itemEnd(e)}).catch(c=>{i&&i(c)});return}return setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader;const l=fetch(e,a).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(c){return sa.add(e,c),t&&t(c),s.manager.itemEnd(e),c}).catch(function(c){i&&i(c),sa.remove(e),s.manager.itemError(e),s.manager.itemEnd(e)});sa.add(e,l),s.manager.itemStart(e)}}let v0;class F2{static getContext(){return v0===void 0&&(v0=new(window.AudioContext||window.webkitAudioContext)),v0}static setContext(e){v0=e}}class Tae extends oi{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new ts(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const c=l.slice(0);F2.getContext().decodeAudioData(c,function(f){t(f)}).catch(a)}catch(c){a(c)}},r,i);function a(l){i?i(l):console.error(l),s.manager.itemError(e)}}}const xB=new ht,SB=new ht,ec=new ht;class Mae{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new xn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new xn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,ec.copy(e.projectionMatrix);const i=t.eyeSep/2,s=i*t.near/t.focus,o=t.near*Math.tan(kc*t.fov*.5)/t.zoom;let a,l;SB.elements[12]=-i,xB.elements[12]=i,a=-o*t.aspect+s,l=o*t.aspect+s,ec.elements[0]=2*t.near/(l-a),ec.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(ec),a=-o*t.aspect-s,l=o*t.aspect-s,ec.elements[0]=2*t.near/(l-a),ec.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(ec)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(SB),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(xB)}}class k2{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=AB(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=AB();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function AB(){return(typeof performance>"u"?Date:performance).now()}const tc=new k,wB=new wr,Cae=new k,nc=new k;class bae extends Kt{constructor(){super(),this.type="AudioListener",this.context=F2.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new k2}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(tc,wB,Cae),nc.set(0,0,-1).applyQuaternion(wB),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(tc.x,i),t.positionY.linearRampToValueAtTime(tc.y,i),t.positionZ.linearRampToValueAtTime(tc.z,i),t.forwardX.linearRampToValueAtTime(nc.x,i),t.forwardY.linearRampToValueAtTime(nc.y,i),t.forwardZ.linearRampToValueAtTime(nc.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(tc.x,tc.y,tc.z),t.setOrientation(nc.x,nc.y,nc.z,r.x,r.y,r.z)}}class Z6 extends Kt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const rc=new k,EB=new wr,Rae=new k,ic=new k;class Pae extends Z6{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(rc,EB,Rae),ic.set(0,0,1).applyQuaternion(EB);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(rc.x,r),t.positionY.linearRampToValueAtTime(rc.y,r),t.positionZ.linearRampToValueAtTime(rc.z,r),t.orientationX.linearRampToValueAtTime(ic.x,r),t.orientationY.linearRampToValueAtTime(ic.y,r),t.orientationZ.linearRampToValueAtTime(ic.z,r)}else t.setPosition(rc.x,rc.y,rc.z),t.setOrientation(ic.x,ic.y,ic.z)}}class Iae{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class eV{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,s,o;switch(t){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(r[l]!==r[l+t]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let s=r,o=i;s!==o;++s)t[s]=t[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[t+o]=e[r+o]}_slerp(e,t,r,i){wr.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,s){const o=this._workIndex*s;wr.multiplyQuaternionsFlat(e,o,e,t,e,r),wr.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,t,r,i,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[r+o]*i}}}const U2="\\[\\]\\.:\\/",Lae=new RegExp("["+U2+"]","g"),V2="[^"+U2+"]",Dae="[^"+U2.replace("\\.","")+"]",Bae=/((?:WC+[\/:])*)/.source.replace("WC",V2),Nae=/(WCOD+)?/.source.replace("WCOD",Dae),Oae=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",V2),Fae=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",V2),kae=new RegExp("^"+Bae+Nae+Oae+Fae+"$"),Uae=["material","materials","bones","map"];class Vae{constructor(e,t,r){const i=r||Xt.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class Xt{constructor(e,t,r){this.path=t,this.parsedPath=r||Xt.parseTrackName(t),this.node=Xt.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new Xt.Composite(e,t,r):new Xt(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Lae,"")}static parseTrackName(e){const t=kae.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);Uae.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let s=t.propertyIndex;if(e||(e=Xt.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let c=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[i];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Xt.Composite=Vae;Xt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Xt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Xt.prototype.GetterByBindingType=[Xt.prototype._getValue_direct,Xt.prototype._getValue_array,Xt.prototype._getValue_arrayElement,Xt.prototype._getValue_toArray];Xt.prototype.SetterByBindingTypeAndVersioning=[[Xt.prototype._setValue_direct,Xt.prototype._setValue_direct_setNeedsUpdate,Xt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Xt.prototype._setValue_array,Xt.prototype._setValue_array_setNeedsUpdate,Xt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Xt.prototype._setValue_arrayElement,Xt.prototype._setValue_arrayElement_setNeedsUpdate,Xt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Xt.prototype._setValue_fromArray,Xt.prototype._setValue_fromArray_setNeedsUpdate,Xt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class zae{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Yi(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let u=0,f=arguments.length;u!==f;++u){const p=arguments[u],m=p.uuid;let y=t[m];if(y===void 0){y=l++,t[m]=y,e.push(p);for(let S=0,v=o;S!==v;++S)s[S].push(new Xt(p,r[S],i[S]))}else if(y<c){a=e[y];const S=--c,v=e[S];t[v.uuid]=y,e[y]=v,t[m]=S,e[S]=p;for(let g=0,x=o;g!==x;++g){const A=s[g],E=A[S];let b=A[y];A[y]=E,b===void 0&&(b=new Xt(p,r[g],i[g])),A[S]=b}}else e[y]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,u=t[c];if(u!==void 0&&u>=s){const f=s++,p=e[f];t[p.uuid]=u,e[u]=p,t[c]=f,e[f]=l;for(let m=0,y=i;m!==y;++m){const S=r[m],v=S[f],g=S[u];S[u]=v,S[f]=g}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],u=c.uuid,f=t[u];if(f!==void 0)if(delete t[u],f<s){const p=--s,m=e[p],y=--o,S=e[y];t[m.uuid]=f,e[f]=m,t[S.uuid]=p,e[p]=S,e.pop();for(let v=0,g=i;v!==g;++v){const x=r[v],A=x[p],E=x[y];x[f]=A,x[p]=E,x.pop()}}else{const p=--o,m=e[p];p>0&&(t[m.uuid]=f),e[f]=m,e.pop();for(let y=0,S=i;y!==S;++y){const v=r[y];v[f]=v[p],v.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,f=new Array(c);i=s.length,r[e]=i,o.push(e),a.push(t),s.push(f);for(let p=u,m=l.length;p!==m;++p){const y=l[p];f[p]=new Xt(y,e,t)}return f}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];t[c]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class tV{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:Mc,endingEnd:Mc};for(let c=0;c!==o;++c){const u=s[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=H5,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+r,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?t=0:(this._startTime=null,t=r*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case n2:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(o),c[u].accumulateAdditive(a);break;case Bx:default:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(o),c[u].accumulate(i,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===G5;if(e===0)return s===-1?i:o&&(s&1)===1?t-i:i;if(r===z5){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=t||i<0){const a=Math.floor(i/t);i-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=Cc,i.endingEnd=Cc):(e?i.endingStart=this.zeroSlopeAtStart?Cc:Mc:i.endingStart=am,t?i.endingEnd=this.zeroSlopeAtEnd?Cc:Mc:i.endingEnd=am)}_scheduleFading(e,t,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=r,this}}const Hae=new Float32Array(1);class Gae extends Bo{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let f=0;f!==s;++f){const p=i[f],m=p.name;let y=u[m];if(y!==void 0)++y.referenceCount,o[f]=y;else{if(y=o[f],y!==void 0){y._cacheIndex===null&&(++y.referenceCount,this._addInactiveBinding(y,l,m));continue}const S=t&&t._propertyBindings[f].binding.parsedPath;y=new eV(Xt.create(r,m,S),p.ValueTypeName,p.getValueSize()),++y.referenceCount,this._addInactiveBinding(y,l,m),o[f]=y}a[f].resultBuffer=y.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const f=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete f[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[t];o===void 0&&(o={},i[t]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new P2(new Float32Array(2),new Float32Array(2),1,Hae),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=t[i];e.__cacheIndex=i,t[i]=e,s.__cacheIndex=r,t[r]=s}clipAction(e,t,r){const i=t||this._root,s=i.uuid;let o=typeof e=="string"?xf.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(r===void 0&&(o!==null?r=o.blendMode:r=Bx),l!==void 0){const f=l.actionByRoot[s];if(f!==void 0&&f.blendMode===r)return f;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const u=new tV(this,o,t,r);return this._bindAction(u,c),this._addInactiveAction(u,a,s),u}existingAction(e,t){const r=t||this._root,i=r.uuid,s=typeof e=="string"?xf.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==r;++c)t[c]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const u=c._cacheIndex,f=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,f._cacheIndex=u,t[u]=f,t.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class z2{constructor(e){this.value=e}clone(){return new z2(this.value.clone===void 0?this.value:this.value.clone())}}let jae=0;class Wae extends Bo{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:jae++}),this.name="",this.usage=hm,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,i=t.length;r<i;r++){const s=Array.isArray(t[r])?t[r]:[t[r]];for(let o=0;o<s.length;o++)this.uniforms.push(s[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class Xae extends $m{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class Kae{constructor(e,t,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class nV{constructor(e,t,r=0,i=1/0){this.ray=new lu(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new Vc,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return _M(e,this,r,t),r.sort(TB),r}intersectObjects(e,t=!0,r=[]){for(let i=0,s=e.length;i<s;i++)_M(e[i],this,r,t);return r.sort(TB),r}}function TB(n,e){return n.distance-e.distance}function _M(n,e,t,r){if(n.layers.test(e.layers)&&n.raycast(e,t),r===!0){const i=n.children;for(let s=0,o=i.length;s<o;s++)_M(i[s],e,t,!0)}}class xM{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Vn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Jae{constructor(e=1,t=0,r=0){return this.radius=e,this.theta=t,this.y=r,this}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}const MB=new _e;class $ae{constructor(e=new _e(1/0,1/0),t=new _e(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=MB.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,MB).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const CB=new k,_0=new k;class Yae{constructor(e=new k,t=new k){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){CB.subVectors(e,this.start),_0.subVectors(this.end,this.start);const r=_0.dot(_0);let s=_0.dot(CB)/r;return t&&(s=Vn(s,0,1)),s}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const bB=new k;class qae extends Kt{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const r=new Rt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,u=a/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}r.setAttribute("position",new rt(i,3));const s=new si({fog:!1,toneMapped:!1});this.cone=new qs(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),bB.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(bB),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const ka=new k,x0=new ht,lw=new ht;class Qae extends qs{constructor(e){const t=rV(e),r=new Rt,i=[],s=[],o=new Ve(0,0,1),a=new Ve(0,1,0);for(let c=0;c<t.length;c++){const u=t[c];u.parent&&u.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new rt(i,3)),r.setAttribute("color",new rt(s,3));const l=new si({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");lw.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(x0.multiplyMatrices(lw,a.matrixWorld),ka.setFromMatrixPosition(x0),i.setXYZ(o,ka.x,ka.y,ka.z),x0.multiplyMatrices(lw,a.parent.matrixWorld),ka.setFromMatrixPosition(x0),i.setXYZ(o+1,ka.x,ka.y,ka.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function rV(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,rV(n.children[t]));return e}class Zae extends Jn{constructor(e,t,r){const i=new Zm(t,4,2),s=new Ji({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const ele=new k,RB=new Ve,PB=new Ve;class tle extends Kt{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new Qm(t);i.rotateY(Math.PI*.5),this.material=new Ji({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new Jt(o,3)),this.add(new Jn(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");RB.copy(this.light.color),PB.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const s=r<i/2?RB:PB;t.setXYZ(r,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(ele.setFromMatrixPosition(this.light.matrixWorld).negate())}}class nle extends qs{constructor(e=10,t=10,r=4473924,i=8947848){r=new Ve(r),i=new Ve(i);const s=t/2,o=e/t,a=e/2,l=[],c=[];for(let p=0,m=0,y=-a;p<=t;p++,y+=o){l.push(-a,0,y,a,0,y),l.push(y,0,-a,y,0,a);const S=p===s?r:i;S.toArray(c,m),m+=3,S.toArray(c,m),m+=3,S.toArray(c,m),m+=3,S.toArray(c,m),m+=3}const u=new Rt;u.setAttribute("position",new rt(l,3)),u.setAttribute("color",new rt(c,3));const f=new si({vertexColors:!0,toneMapped:!1});super(u,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class rle extends qs{constructor(e=10,t=16,r=8,i=64,s=4473924,o=8947848){s=new Ve(s),o=new Ve(o);const a=[],l=[];if(t>1)for(let f=0;f<t;f++){const p=f/t*(Math.PI*2),m=Math.sin(p)*e,y=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,y);const S=f&1?s:o;l.push(S.r,S.g,S.b),l.push(S.r,S.g,S.b)}for(let f=0;f<r;f++){const p=f&1?s:o,m=e-e/r*f;for(let y=0;y<i;y++){let S=y/i*(Math.PI*2),v=Math.sin(S)*m,g=Math.cos(S)*m;a.push(v,0,g),l.push(p.r,p.g,p.b),S=(y+1)/i*(Math.PI*2),v=Math.sin(S)*m,g=Math.cos(S)*m,a.push(v,0,g),l.push(p.r,p.g,p.b)}}const c=new Rt;c.setAttribute("position",new rt(a,3)),c.setAttribute("color",new rt(l,3));const u=new si({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const IB=new k,S0=new k,LB=new k;class ile extends Kt{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",t===void 0&&(t=1);let i=new Rt;i.setAttribute("position",new rt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new si({fog:!1,toneMapped:!1});this.lightPlane=new _a(i,s),this.add(this.lightPlane),i=new Rt,i.setAttribute("position",new rt([0,0,0,0,0,1],3)),this.targetLine=new _a(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),IB.setFromMatrixPosition(this.light.matrixWorld),S0.setFromMatrixPosition(this.light.target.matrixWorld),LB.subVectors(S0,IB),this.lightPlane.lookAt(S0),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(S0),this.targetLine.scale.z=LB.length()}}const A0=new k,On=new Xm;class sle extends qs{constructor(e){const t=new Rt,r=new si({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(y,S){l(y),l(S)}function l(y){i.push(0,0,0),s.push(0,0,0),o[y]===void 0&&(o[y]=[]),o[y].push(i.length/3-1)}t.setAttribute("position",new rt(i,3)),t.setAttribute("color",new rt(s,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new Ve(16755200),u=new Ve(16711680),f=new Ve(43775),p=new Ve(16777215),m=new Ve(3355443);this.setColors(c,u,f,p,m)}setColors(e,t,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;On.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Xn("c",t,e,On,0,0,-1),Xn("t",t,e,On,0,0,1),Xn("n1",t,e,On,-r,-i,-1),Xn("n2",t,e,On,r,-i,-1),Xn("n3",t,e,On,-r,i,-1),Xn("n4",t,e,On,r,i,-1),Xn("f1",t,e,On,-r,-i,1),Xn("f2",t,e,On,r,-i,1),Xn("f3",t,e,On,-r,i,1),Xn("f4",t,e,On,r,i,1),Xn("u1",t,e,On,r*.7,i*1.1,-1),Xn("u2",t,e,On,-r*.7,i*1.1,-1),Xn("u3",t,e,On,0,i*2,-1),Xn("cf1",t,e,On,-r,0,1),Xn("cf2",t,e,On,r,0,1),Xn("cf3",t,e,On,0,-i,1),Xn("cf4",t,e,On,0,i,1),Xn("cn1",t,e,On,-r,0,-1),Xn("cn2",t,e,On,r,0,-1),Xn("cn3",t,e,On,0,-i,-1),Xn("cn4",t,e,On,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Xn(n,e,t,r,i,s,o){A0.set(i,s,o).unproject(r);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],A0.x,A0.y,A0.z)}}const w0=new ni;class ole extends qs{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new Rt;s.setIndex(new Jt(r,1)),s.setAttribute("position",new Jt(i,3)),super(s,new si({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&w0.setFromObject(this.object),w0.isEmpty())return;const t=w0.min,r=w0.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=t.x,s[4]=r.y,s[5]=r.z,s[6]=t.x,s[7]=t.y,s[8]=r.z,s[9]=r.x,s[10]=t.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=t.z,s[15]=t.x,s[16]=r.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=r.x,s[22]=t.y,s[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class ale extends qs{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Rt;s.setIndex(new Jt(r,1)),s.setAttribute("position",new rt(i,3)),super(s,new si({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class lle extends _a{constructor(e,t=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Rt;o.setAttribute("position",new rt(s,3)),o.computeBoundingSphere(),super(o,new si({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Rt;l.setAttribute("position",new rt(a,3)),l.computeBoundingSphere(),this.add(new Jn(l,new Ji({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const DB=new k;let E0,cw;class cle extends Kt{constructor(e=new k(0,0,1),t=new k(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",E0===void 0&&(E0=new Rt,E0.setAttribute("position",new rt([0,0,0,0,1,0],3)),cw=new kf(0,.5,1,5,1),cw.translate(0,-.5,0)),this.position.copy(t),this.line=new _a(E0,new si({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Jn(cw,new Ji({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{DB.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(DB,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class ule extends qs{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Rt;i.setAttribute("position",new rt(t,3)),i.setAttribute("color",new rt(r,3));const s=new si({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,t,r){const i=new Ve,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(t),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class hle{constructor(){this.type="ShapePath",this.color=new Ve,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new pm,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,s,o){return this.currentPath.bezierCurveTo(e,t,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(g){const x=[];for(let A=0,E=g.length;A<E;A++){const b=g[A],C=new Hc;C.curves=b.curves,x.push(C)}return x}function r(g,x){const A=x.length;let E=!1;for(let b=A-1,C=0;C<A;b=C++){let P=x[b],L=x[C],N=L.x-P.x,M=L.y-P.y;if(Math.abs(M)>Number.EPSILON){if(M<0&&(P=x[C],N=-N,L=x[b],M=-M),g.y<P.y||g.y>L.y)continue;if(g.y===P.y){if(g.x===P.x)return!0}else{const D=M*(g.x-P.x)-N*(g.y-P.y);if(D===0)return!0;if(D<0)continue;E=!E}}else{if(g.y!==P.y)continue;if(L.x<=g.x&&g.x<=P.x||P.x<=g.x&&g.x<=L.x)return!0}}return E}const i=To.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new Hc,l.curves=a.curves,c.push(l),c;let u=!i(s[0].getPoints());u=e?!u:u;const f=[],p=[];let m=[],y=0,S;p[y]=void 0,m[y]=[];for(let g=0,x=s.length;g<x;g++)a=s[g],S=a.getPoints(),o=i(S),o=e?!o:o,o?(!u&&p[y]&&y++,p[y]={s:new Hc,p:S},p[y].s.curves=a.curves,u&&y++,m[y]=[]):m[y].push({h:a,p:S[0]});if(!p[0])return t(s);if(p.length>1){let g=!1,x=0;for(let A=0,E=p.length;A<E;A++)f[A]=[];for(let A=0,E=p.length;A<E;A++){const b=m[A];for(let C=0;C<b.length;C++){const P=b[C];let L=!0;for(let N=0;N<p.length;N++)r(P.p,p[N].p)&&(A!==N&&x++,L?(L=!1,f[N].push(P)):g=!0);L&&f[A].push(P)}}x>0&&g===!1&&(m=f)}let v;for(let g=0,x=p.length;g<x;g++){l=p[g].s,c.push(l),v=m[g];for(let A=0,E=v.length;A<E;A++)l.holes.push(v[A].h)}return c}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Hm}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Hm);const fle=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:Jb,AddEquation:$a,AddOperation:M5,AdditiveAnimationBlendMode:n2,AdditiveBlending:DT,AgXToneMapping:I5,AlphaFormat:N5,AlwaysCompare:e6,AlwaysDepth:_5,AlwaysStencilFunc:uM,AmbientLight:X6,AnimationAction:tV,AnimationClip:xf,AnimationLoader:gae,AnimationMixer:Gae,AnimationObjectGroup:zae,AnimationUtils:fae,ArcCurve:S6,ArrayCamera:m6,ArrowHelper:cle,AttachedBindMode:kT,Audio:Z6,AudioAnalyser:Iae,AudioContext:F2,AudioListener:bae,AudioLoader:Tae,AxesHelper:ule,BackSide:xi,BasicDepthPacking:W5,BasicShadowMap:t5,BatchedMesh:x6,Bone:Vx,BooleanKeyframeTrack:uu,Box2:$ae,Box3:ni,Box3Helper:ale,BoxGeometry:cu,BoxHelper:ole,BufferAttribute:Jt,BufferGeometry:Rt,BufferGeometryLoader:q6,ByteType:D5,Cache:sa,Camera:Xm,CameraHelper:sle,CanvasTexture:Ooe,CapsuleGeometry:jx,CatmullRomCurve3:A6,CineonToneMapping:R5,CircleGeometry:Wx,ClampToEdgeWrapping:Nr,Clock:k2,Color:Ve,ColorKeyframeTrack:I2,ColorManagement:sn,CompressedArrayTexture:Boe,CompressedCubeTexture:Noe,CompressedTexture:Hx,CompressedTextureLoader:yae,ConeGeometry:Xx,ConstantAlphaFactor:g5,ConstantColorFactor:p5,CubeCamera:h2,CubeReflectionMapping:va,CubeRefractionMapping:Tl,CubeTexture:Km,CubeTextureLoader:vae,CubeUVReflectionMapping:Nf,CubicBezierCurve:E2,CubicBezierCurve3:w6,CubicInterpolant:z6,CullFaceBack:LT,CullFaceFront:e5,CullFaceFrontBack:Tee,CullFaceNone:Z9,Curve:Qs,CurvePath:T6,CustomBlending:n5,CustomToneMapping:P5,CylinderGeometry:kf,Cylindrical:Jae,Data3DTexture:l2,DataArrayTexture:Ox,DataTexture:zc,DataTextureLoader:_ae,DataUtils:Pte,DecrementStencilOp:Dee,DecrementWrapStencilOp:Nee,DefaultLoadingManager:Th,DepthFormat:ml,DepthStencilFormat:eu,DepthTexture:p2,DetachedBindMode:L5,DirectionalLight:O2,DirectionalLightHelper:ile,DiscreteInterpolant:H6,DisplayP3ColorSpace:Nx,DodecahedronGeometry:Kx,DoubleSide:ws,DstAlphaFactor:c5,DstColorFactor:h5,DynamicCopyUsage:Yee,DynamicDrawUsage:jee,DynamicReadUsage:Kee,EdgesGeometry:M6,EllipseCurve:Gx,EqualCompare:Y5,EqualDepth:S5,EqualStencilFunc:Uee,EquirectangularReflectionMapping:im,EquirectangularRefractionMapping:sm,Euler:Wm,EventDispatcher:Bo,ExtrudeGeometry:$x,FileLoader:ts,Float16BufferAttribute:Ote,Float32BufferAttribute:rt,Float64BufferAttribute:Fte,FloatType:Es,Fog:Ux,FogExp2:kx,FramebufferTexture:Doe,FrontSide:Io,Frustum:Jm,GLBufferAttribute:Kae,GLSL1:Qee,GLSL3:hM,GreaterCompare:q5,GreaterDepth:w5,GreaterEqualCompare:Z5,GreaterEqualDepth:A5,GreaterEqualStencilFunc:Gee,GreaterStencilFunc:zee,GridHelper:nle,Group:ia,HalfFloatType:df,HemisphereLight:W6,HemisphereLightHelper:tle,IcosahedronGeometry:Yx,ImageBitmapLoader:Q6,ImageLoader:vm,ImageUtils:a2,IncrementStencilOp:Lee,IncrementWrapStencilOp:Bee,InstancedBufferAttribute:yf,InstancedBufferGeometry:Y6,InstancedInterleavedBuffer:Xae,InstancedMesh:x2,Int16BufferAttribute:Bte,Int32BufferAttribute:Nte,Int8BufferAttribute:Ite,IntType:$b,InterleavedBuffer:$m,InterleavedBufferAttribute:Cl,Interpolant:Uf,InterpolateDiscrete:pf,InterpolateLinear:tu,InterpolateSmooth:nv,InvertStencilOp:Oee,KeepStencilOp:dc,KeyframeTrack:Zs,LOD:_6,LatheGeometry:qm,Layers:Vc,LessCompare:$5,LessDepth:x5,LessEqualCompare:s2,LessEqualDepth:rm,LessEqualStencilFunc:Vee,LessStencilFunc:kee,Light:kl,LightProbe:$6,Line:_a,Line3:Yae,LineBasicMaterial:si,LineCurve:T2,LineCurve3:E6,LineDashedMaterial:k6,LineLoop:S2,LineSegments:qs,LinearDisplayP3ColorSpace:jm,LinearEncoding:i2,LinearFilter:vn,LinearInterpolant:P2,LinearMipMapLinearFilter:Ree,LinearMipMapNearestFilter:bee,LinearMipmapLinearFilter:Ms,LinearMipmapNearestFilter:jh,LinearSRGBColorSpace:Lo,LinearToneMapping:C5,LinearTransfer:lm,Loader:oi,LoaderUtils:Mo,LoadingManager:L2,LoopOnce:z5,LoopPingPong:G5,LoopRepeat:H5,LuminanceAlphaFormat:F5,LuminanceFormat:O5,MOUSE:hc,Material:sr,MaterialLoader:r1,MathUtils:t6,Matrix3:Ot,Matrix4:ht,MaxEquation:FT,Mesh:Jn,MeshBasicMaterial:Ji,MeshDepthMaterial:m2,MeshDistanceMaterial:g2,MeshLambertMaterial:O6,MeshMatcapMaterial:F6,MeshNormalMaterial:N6,MeshPhongMaterial:D6,MeshPhysicalMaterial:No,MeshStandardMaterial:eg,MeshToonMaterial:B6,MinEquation:OT,MirroredRepeatWrapping:ff,MixOperation:T5,MultiplyBlending:NT,MultiplyOperation:Gm,NearestFilter:kn,NearestMipMapLinearFilter:Cee,NearestMipMapNearestFilter:Mee,NearestMipmapLinearFilter:Ya,NearestMipmapNearestFilter:om,NeverCompare:J5,NeverDepth:v5,NeverStencilFunc:Fee,NoBlending:ca,NoColorSpace:ji,NoToneMapping:wo,NormalAnimationBlendMode:Bx,NormalBlending:Fc,NotEqualCompare:Q5,NotEqualDepth:E5,NotEqualStencilFunc:Hee,NumberKeyframeTrack:vf,Object3D:Kt,ObjectLoader:wae,ObjectSpaceNormalMap:K5,OctahedronGeometry:Qm,OneFactor:o5,OneMinusConstantAlphaFactor:y5,OneMinusConstantColorFactor:m5,OneMinusDstAlphaFactor:u5,OneMinusDstColorFactor:f5,OneMinusSrcAlphaFactor:m_,OneMinusSrcColorFactor:l5,OrthographicCamera:Cs,P3Primaries:um,PCFShadowMap:Ix,PCFSoftShadowMap:up,PMREMGenerator:dM,Path:pm,PerspectiveCamera:xn,Plane:Qo,PlaneGeometry:Of,PlaneHelper:lle,PointLight:N2,PointLightHelper:Zae,Points:A2,PointsMaterial:zx,PolarGridHelper:rle,PolyhedronGeometry:Fl,PositionalAudio:Pae,PropertyBinding:Xt,PropertyMixer:eV,QuadraticBezierCurve:M2,QuadraticBezierCurve3:C2,Quaternion:wr,QuaternionKeyframeTrack:bl,QuaternionLinearInterpolant:G6,RED_GREEN_RGTC2_Format:lM,RED_RGTC1_Format:V5,REVISION:Hm,RGBADepthPacking:X5,RGBAFormat:gi,RGBAIntegerFormat:e2,RGBA_ASTC_10x10_Format:nM,RGBA_ASTC_10x5_Format:ZT,RGBA_ASTC_10x6_Format:eM,RGBA_ASTC_10x8_Format:tM,RGBA_ASTC_12x10_Format:rM,RGBA_ASTC_12x12_Format:iM,RGBA_ASTC_4x4_Format:WT,RGBA_ASTC_5x4_Format:XT,RGBA_ASTC_5x5_Format:KT,RGBA_ASTC_6x5_Format:JT,RGBA_ASTC_6x6_Format:$T,RGBA_ASTC_8x5_Format:YT,RGBA_ASTC_8x6_Format:qT,RGBA_ASTC_8x8_Format:QT,RGBA_BPTC_Format:tv,RGBA_ETC2_EAC_Format:jT,RGBA_PVRTC_2BPPV1_Format:HT,RGBA_PVRTC_4BPPV1_Format:zT,RGBA_S3TC_DXT1_Format:Q0,RGBA_S3TC_DXT3_Format:Z0,RGBA_S3TC_DXT5_Format:ev,RGB_BPTC_SIGNED_Format:sM,RGB_BPTC_UNSIGNED_Format:oM,RGB_ETC1_Format:t2,RGB_ETC2_Format:GT,RGB_PVRTC_2BPPV1_Format:VT,RGB_PVRTC_4BPPV1_Format:UT,RGB_S3TC_DXT1_Format:q0,RGFormat:U5,RGIntegerFormat:Zb,RawShaderMaterial:L6,Ray:lu,Raycaster:nV,Rec709Primaries:cm,RectAreaLight:K6,RedFormat:k5,RedIntegerFormat:Qb,ReinhardToneMapping:b5,RenderTarget:i6,RepeatWrapping:Ml,ReplaceStencilOp:Iee,ReverseSubtractEquation:i5,RingGeometry:qx,SIGNED_RED_GREEN_RGTC2_Format:cM,SIGNED_RED_RGTC1_Format:aM,SRGBColorSpace:cr,SRGBTransfer:dn,Scene:__,ShaderChunk:Dt,ShaderLib:zs,ShaderMaterial:Ys,ShadowMaterial:I6,Shape:Hc,ShapeGeometry:Qx,ShapePath:hle,ShapeUtils:To,ShortType:B5,Skeleton:Ym,SkeletonHelper:Qae,SkinnedMesh:_2,Source:bc,Sphere:Ur,SphereGeometry:Zm,Spherical:xM,SphericalHarmonics3:J6,SplineCurve:b2,SpotLight:B2,SpotLightHelper:qae,Sprite:v6,SpriteMaterial:v2,SrcAlphaFactor:p_,SrcAlphaSaturateFactor:d5,SrcColorFactor:a5,StaticCopyUsage:$ee,StaticDrawUsage:hm,StaticReadUsage:Xee,StereoCamera:Mae,StreamCopyUsage:qee,StreamDrawUsage:Wee,StreamReadUsage:Jee,StringKeyframeTrack:hu,SubtractEquation:r5,SubtractiveBlending:BT,TOUCH:fc,TangentSpaceNormalMap:Ol,TetrahedronGeometry:Zx,Texture:An,TextureLoader:j6,TorusGeometry:e1,TorusKnotGeometry:t1,Triangle:Wi,TriangleFanDrawMode:g_,TriangleStripDrawMode:r2,TrianglesDrawMode:j5,TubeGeometry:n1,UVMapping:Lx,Uint16BufferAttribute:c2,Uint32BufferAttribute:u2,Uint8BufferAttribute:Lte,Uint8ClampedBufferAttribute:Dte,Uniform:z2,UniformsGroup:Wae,UniformsLib:Oe,UniformsUtils:a6,UnsignedByteType:Eo,UnsignedInt248Type:pl,UnsignedIntType:ra,UnsignedShort4444Type:Yb,UnsignedShort5551Type:qb,UnsignedShortType:Dx,VSMShadowMap:ks,Vector2:_e,Vector3:k,Vector4:on,VectorKeyframeTrack:_f,VideoTexture:Loe,WebGL1Renderer:g6,WebGL3DRenderTarget:vte,WebGLArrayRenderTarget:yte,WebGLCoordinateSystem:vo,WebGLCubeRenderTarget:f2,WebGLMultipleRenderTargets:_te,WebGLRenderTarget:$s,WebGLRenderer:y2,WebGLUtils:p6,WebGPUCoordinateSystem:fm,WireframeGeometry:P6,WrapAroundEnding:am,ZeroCurvatureEnding:Mc,ZeroFactor:s5,ZeroSlopeEnding:Cc,ZeroStencilOp:Pee,_SRGBAFormat:y_,createCanvasElement:r6,sRGBEncoding:gl},Symbol.toStringTag,{value:"Module"}));var iV={exports:{}},fu={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */fu.ConcurrentRoot=1;fu.ContinuousEventPriority=4;fu.DefaultEventPriority=16;fu.DiscreteEventPriority=1;fu.IdleEventPriority=536870912;fu.LegacyRoot=0;iV.exports=fu;var Mh=iV.exports;function dle(n){let e;const t=new Set,r=(c,u)=>{const f=typeof c=="function"?c(e):c;if(f!==e){const p=e;e=u?f:Object.assign({},e,f),t.forEach(m=>m(e,p))}},i=()=>e,s=(c,u=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=u(e);function m(){const y=u(e);if(!f(p,y)){const S=p;c(p=y,S)}}return t.add(m),()=>t.delete(m)},l={setState:r,getState:i,subscribe:(c,u,f)=>u||f?s(c,u,f):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=n(r,i,l),l}const ple=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),BB=ple?Y.useEffect:Y.useLayoutEffect;function sV(n){const e=typeof n=="function"?dle(n):n,t=(r=e.getState,i=Object.is)=>{const[,s]=Y.useReducer(v=>v+1,0),o=e.getState(),a=Y.useRef(o),l=Y.useRef(r),c=Y.useRef(i),u=Y.useRef(!1),f=Y.useRef();f.current===void 0&&(f.current=r(o));let p,m=!1;(a.current!==o||l.current!==r||c.current!==i||u.current)&&(p=r(o),m=!i(f.current,p)),BB(()=>{m&&(f.current=p),a.current=o,l.current=r,c.current=i,u.current=!1});const y=Y.useRef(o);BB(()=>{const v=()=>{try{const x=e.getState(),A=l.current(x);c.current(f.current,A)||(a.current=x,f.current=A,s())}catch{u.current=!0,s()}},g=e.subscribe(v);return e.getState()!==y.current&&v(),g},[]);const S=m?p:f.current;return Y.useDebugValue(S),S};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}var oV={exports:{}},uw={exports:{}},hw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NB;function mle(){return NB||(NB=1,function(n){function e(O,j){var K=O.length;O.push(j);e:for(;0<K;){var q=K-1>>>1,te=O[q];if(0<i(te,j))O[q]=j,O[K]=te,K=q;else break e}}function t(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var j=O[0],K=O.pop();if(K!==j){O[0]=K;e:for(var q=0,te=O.length,Me=te>>>1;q<Me;){var ne=2*(q+1)-1,de=O[ne],Ae=ne+1,Pe=O[Ae];if(0>i(de,K))Ae<te&&0>i(Pe,de)?(O[q]=Pe,O[Ae]=K,q=Ae):(O[q]=de,O[ne]=K,q=ne);else if(Ae<te&&0>i(Pe,K))O[q]=Pe,O[Ae]=K,q=Ae;else break e}}return j}function i(O,j){var K=O.sortIndex-j.sortIndex;return K!==0?K:O.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,p=3,m=!1,y=!1,S=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(O){for(var j=t(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=O)r(c),j.sortIndex=j.expirationTime,e(l,j);else break;j=t(c)}}function E(O){if(S=!1,A(O),!y)if(t(l)!==null)y=!0,Z(b);else{var j=t(c);j!==null&&ae(E,j.startTime-O)}}function b(O,j){y=!1,S&&(S=!1,g(L),L=-1),m=!0;var K=p;try{for(A(j),f=t(l);f!==null&&(!(f.expirationTime>j)||O&&!D());){var q=f.callback;if(typeof q=="function"){f.callback=null,p=f.priorityLevel;var te=q(f.expirationTime<=j);j=n.unstable_now(),typeof te=="function"?f.callback=te:f===t(l)&&r(l),A(j)}else r(l);f=t(l)}if(f!==null)var Me=!0;else{var ne=t(c);ne!==null&&ae(E,ne.startTime-j),Me=!1}return Me}finally{f=null,p=K,m=!1}}var C=!1,P=null,L=-1,N=5,M=-1;function D(){return!(n.unstable_now()-M<N)}function z(){if(P!==null){var O=n.unstable_now();M=O;var j=!0;try{j=P(!0,O)}finally{j?W():(C=!1,P=null)}}else C=!1}var W;if(typeof x=="function")W=function(){x(z)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,$=H.port2;H.port1.onmessage=z,W=function(){$.postMessage(null)}}else W=function(){v(z,0)};function Z(O){P=O,C||(C=!0,W())}function ae(O,j){L=v(function(){O(n.unstable_now())},j)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(O){O.callback=null},n.unstable_continueExecution=function(){y||m||(y=!0,Z(b))},n.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<O?Math.floor(1e3/O):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(O){switch(p){case 1:case 2:case 3:var j=3;break;default:j=p}var K=p;p=j;try{return O()}finally{p=K}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(O,j){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var K=p;p=O;try{return j()}finally{p=K}},n.unstable_scheduleCallback=function(O,j,K){var q=n.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?q+K:q):K=q,O){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=K+te,O={id:u++,callback:j,priorityLevel:O,startTime:K,expirationTime:te,sortIndex:-1},K>q?(O.sortIndex=K,e(c,O),t(l)===null&&O===t(c)&&(S?(g(L),L=-1):S=!0,ae(E,K-q))):(O.sortIndex=te,e(l,O),y||m||(y=!0,Z(b))),O},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(O){var j=p;return function(){var K=p;p=j;try{return O.apply(this,arguments)}finally{p=K}}}}(hw)),hw}var OB;function gle(){return OB||(OB=1,uw.exports=mle()),uw.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yle=function(e){var t={},r=Y,i=gle(),s=Object.assign;function o(h){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+h,_=1;_<arguments.length;_++)d+="&args[]="+encodeURIComponent(arguments[_]);return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),y=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),E=Symbol.for("react.offscreen"),b=Symbol.iterator;function C(h){return h===null||typeof h!="object"?null:(h=b&&h[b]||h["@@iterator"],typeof h=="function"?h:null)}function P(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case u:return"Fragment";case c:return"Portal";case p:return"Profiler";case f:return"StrictMode";case v:return"Suspense";case g:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case y:return(h.displayName||"Context")+".Consumer";case m:return(h._context.displayName||"Context")+".Provider";case S:var d=h.render;return h=h.displayName,h||(h=d.displayName||d.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case x:return d=h.displayName||null,d!==null?d:P(h.type)||"Memo";case A:d=h._payload,h=h._init;try{return P(h(d))}catch{}}return null}function L(h){var d=h.type;switch(h.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=d.render,h=h.displayName||h.name||"",d.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return P(d);case 8:return d===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function N(h){var d=h,_=h;if(h.alternate)for(;d.return;)d=d.return;else{h=d;do d=h,d.flags&4098&&(_=d.return),h=d.return;while(h)}return d.tag===3?_:null}function M(h){if(N(h)!==h)throw Error(o(188))}function D(h){var d=h.alternate;if(!d){if(d=N(h),d===null)throw Error(o(188));return d!==h?null:h}for(var _=h,w=d;;){var T=_.return;if(T===null)break;var I=T.alternate;if(I===null){if(w=T.return,w!==null){_=w;continue}break}if(T.child===I.child){for(I=T.child;I;){if(I===_)return M(T),h;if(I===w)return M(T),d;I=I.sibling}throw Error(o(188))}if(_.return!==w.return)_=T,w=I;else{for(var G=!1,ee=T.child;ee;){if(ee===_){G=!0,_=T,w=I;break}if(ee===w){G=!0,w=T,_=I;break}ee=ee.sibling}if(!G){for(ee=I.child;ee;){if(ee===_){G=!0,_=I,w=T;break}if(ee===w){G=!0,w=I,_=T;break}ee=ee.sibling}if(!G)throw Error(o(189))}}if(_.alternate!==w)throw Error(o(190))}if(_.tag!==3)throw Error(o(188));return _.stateNode.current===_?h:d}function z(h){return h=D(h),h!==null?W(h):null}function W(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var d=W(h);if(d!==null)return d;h=h.sibling}return null}function H(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){if(h.tag!==4){var d=H(h);if(d!==null)return d}h=h.sibling}return null}var $=Array.isArray,Z=e.getPublicInstance,ae=e.getRootHostContext,O=e.getChildHostContext,j=e.prepareForCommit,K=e.resetAfterCommit,q=e.createInstance,te=e.appendInitialChild,Me=e.finalizeInitialChildren,ne=e.prepareUpdate,de=e.shouldSetTextContent,Ae=e.createTextInstance,Pe=e.scheduleTimeout,Ke=e.cancelTimeout,ke=e.noTimeout,ce=e.isPrimaryRenderer,oe=e.supportsMutation,V=e.supportsPersistence,he=e.supportsHydration,ie=e.getInstanceFromNode,ye=e.preparePortalMount,le=e.getCurrentEventPriority,be=e.detachDeletedInstance,Ee=e.supportsMicrotasks,F=e.scheduleMicrotask,B=e.supportsTestSelectors,J=e.findFiberRoot,xe=e.getBoundingRect,Se=e.getTextContent,we=e.isHiddenSubtree,qe=e.matchAccessibilityRole,Ne=e.setFocusIfFocusable,Ue=e.setupIntersectionObserver,lt=e.appendChild,At=e.appendChildToContainer,Re=e.commitTextUpdate,zt=e.commitMount,It=e.commitUpdate,yt=e.insertBefore,at=e.insertInContainerBefore,Ye=e.removeChild,Q=e.removeChildFromContainer,Te=e.resetTextContent,He=e.hideInstance,Je=e.hideTextInstance,vt=e.unhideInstance,X=e.unhideTextInstance,Ie=e.clearContainer,Be=e.cloneInstance,tt=e.createContainerChildSet,nt=e.appendChildToContainerChildSet,Lt=e.finalizeContainerChildren,Gt=e.replaceContainerChildren,fn=e.cloneHiddenInstance,Gn=e.cloneHiddenTextInstance,$t=e.canHydrateInstance,Mr=e.canHydrateTextInstance,ss=e.canHydrateSuspenseInstance,Vf=e.isSuspenseInstancePending,zf=e.isSuspenseInstanceFallback,mu=e.registerSuspenseInstanceRetry,Sa=e.getNextHydratableSibling,gu=e.getFirstHydratableChild,lg=e.getFirstHydratableChildWithinContainer,cg=e.getFirstHydratableChildWithinSuspenseInstance,d1=e.hydrateInstance,p1=e.hydrateTextInstance,m1=e.hydrateSuspenseInstance,U=e.getNextHydratableInstanceAfterSuspenseInstance,se=e.commitHydratedContainer,pe=e.commitHydratedSuspenseInstance,me=e.clearSuspenseBoundary,fe=e.clearSuspenseBoundaryFromContainer,$e=e.shouldDeleteUnhydratedTailInstances,st=e.didNotMatchHydratedContainerTextInstance,ft=e.didNotMatchHydratedTextInstance,pt;function wt(h){if(pt===void 0)try{throw Error()}catch(_){var d=_.stack.trim().match(/\n( *(at )?)/);pt=d&&d[1]||""}return`
`+pt+h}var St=!1;function Et(h,d){if(!h||St)return"";St=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(De){var w=De}Reflect.construct(h,[],d)}else{try{d.call()}catch(De){w=De}h.call(d.prototype)}else{try{throw Error()}catch(De){w=De}h()}}catch(De){if(De&&w&&typeof De.stack=="string"){for(var T=De.stack.split(`
`),I=w.stack.split(`
`),G=T.length-1,ee=I.length-1;1<=G&&0<=ee&&T[G]!==I[ee];)ee--;for(;1<=G&&0<=ee;G--,ee--)if(T[G]!==I[ee]){if(G!==1||ee!==1)do if(G--,ee--,0>ee||T[G]!==I[ee]){var ve=`
`+T[G].replace(" at new "," at ");return h.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",h.displayName)),ve}while(1<=G&&0<=ee);break}}}finally{St=!1,Error.prepareStackTrace=_}return(h=h?h.displayName||h.name:"")?wt(h):""}var Mn=Object.prototype.hasOwnProperty,Cr=[],mn=-1;function pr(h){return{current:h}}function mt(h){0>mn||(h.current=Cr[mn],Cr[mn]=null,mn--)}function Ze(h,d){mn++,Cr[mn]=h.current,h.current=d}var os={},Ft=pr(os),Bn=pr(!1),eo=os;function as(h,d){var _=h.type.contextTypes;if(!_)return os;var w=h.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===d)return w.__reactInternalMemoizedMaskedChildContext;var T={},I;for(I in _)T[I]=d[I];return w&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=d,h.__reactInternalMemoizedMaskedChildContext=T),T}function mr(h){return h=h.childContextTypes,h!=null}function jn(){mt(Bn),mt(Ft)}function to(h,d,_){if(Ft.current!==os)throw Error(o(168));Ze(Ft,d),Ze(Bn,_)}function yu(h,d,_){var w=h.stateNode;if(d=d.childContextTypes,typeof w.getChildContext!="function")return _;w=w.getChildContext();for(var T in w)if(!(T in d))throw Error(o(108,L(h)||"Unknown",T));return s({},_,w)}function br(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||os,eo=Ft.current,Ze(Ft,h),Ze(Bn,Bn.current),!0}function vu(h,d,_){var w=h.stateNode;if(!w)throw Error(o(169));_?(h=yu(h,d,eo),w.__reactInternalMemoizedMergedChildContext=h,mt(Bn),mt(Ft),Ze(Ft,h)):mt(Bn),Ze(Bn,_)}var Oi=Math.clz32?Math.clz32:t8,ug=Math.log,e8=Math.LN2;function t8(h){return h>>>=0,h===0?32:31-(ug(h)/e8|0)|0}var hg=64,fg=4194304;function Hf(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function dg(h,d){var _=h.pendingLanes;if(_===0)return 0;var w=0,T=h.suspendedLanes,I=h.pingedLanes,G=_&268435455;if(G!==0){var ee=G&~T;ee!==0?w=Hf(ee):(I&=G,I!==0&&(w=Hf(I)))}else G=_&~T,G!==0?w=Hf(G):I!==0&&(w=Hf(I));if(w===0)return 0;if(d!==0&&d!==w&&!(d&T)&&(T=w&-w,I=d&-d,T>=I||T===16&&(I&4194240)!==0))return d;if(w&4&&(w|=_&16),d=h.entangledLanes,d!==0)for(h=h.entanglements,d&=w;0<d;)_=31-Oi(d),T=1<<_,w|=h[_],d&=~T;return w}function n8(h,d){switch(h){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function r8(h,d){for(var _=h.suspendedLanes,w=h.pingedLanes,T=h.expirationTimes,I=h.pendingLanes;0<I;){var G=31-Oi(I),ee=1<<G,ve=T[G];ve===-1?(!(ee&_)||ee&w)&&(T[G]=n8(ee,d)):ve<=d&&(h.expiredLanes|=ee),I&=~ee}}function g1(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function y1(h){for(var d=[],_=0;31>_;_++)d.push(h);return d}function Gf(h,d,_){h.pendingLanes|=d,d!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,d=31-Oi(d),h[d]=_}function i8(h,d){var _=h.pendingLanes&~d;h.pendingLanes=d,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=d,h.mutableReadLanes&=d,h.entangledLanes&=d,d=h.entanglements;var w=h.eventTimes;for(h=h.expirationTimes;0<_;){var T=31-Oi(_),I=1<<T;d[T]=0,w[T]=-1,h[T]=-1,_&=~I}}function v1(h,d){var _=h.entangledLanes|=d;for(h=h.entanglements;_;){var w=31-Oi(_),T=1<<w;T&d|h[w]&d&&(h[w]|=d),_&=~T}}var Zt=0;function gR(h){return h&=-h,1<h?4<h?h&268435455?16:536870912:4:1}var _1=i.unstable_scheduleCallback,yR=i.unstable_cancelCallback,s8=i.unstable_shouldYield,o8=i.unstable_requestPaint,gr=i.unstable_now,x1=i.unstable_ImmediatePriority,a8=i.unstable_UserBlockingPriority,S1=i.unstable_NormalPriority,l8=i.unstable_IdlePriority,pg=null,no=null;function c8(h){if(no&&typeof no.onCommitFiberRoot=="function")try{no.onCommitFiberRoot(pg,h,void 0,(h.current.flags&128)===128)}catch{}}function u8(h,d){return h===d&&(h!==0||1/h===1/d)||h!==h&&d!==d}var ro=typeof Object.is=="function"?Object.is:u8,Oo=null,mg=!1,A1=!1;function vR(h){Oo===null?Oo=[h]:Oo.push(h)}function h8(h){mg=!0,vR(h)}function io(){if(!A1&&Oo!==null){A1=!0;var h=0,d=Zt;try{var _=Oo;for(Zt=1;h<_.length;h++){var w=_[h];do w=w(!0);while(w!==null)}Oo=null,mg=!1}catch(T){throw Oo!==null&&(Oo=Oo.slice(h+1)),_1(x1,io),T}finally{Zt=d,A1=!1}}return null}var f8=a.ReactCurrentBatchConfig;function gg(h,d){if(ro(h,d))return!0;if(typeof h!="object"||h===null||typeof d!="object"||d===null)return!1;var _=Object.keys(h),w=Object.keys(d);if(_.length!==w.length)return!1;for(w=0;w<_.length;w++){var T=_[w];if(!Mn.call(d,T)||!ro(h[T],d[T]))return!1}return!0}function d8(h){switch(h.tag){case 5:return wt(h.type);case 16:return wt("Lazy");case 13:return wt("Suspense");case 19:return wt("SuspenseList");case 0:case 2:case 15:return h=Et(h.type,!1),h;case 11:return h=Et(h.type.render,!1),h;case 1:return h=Et(h.type,!0),h;default:return""}}function Is(h,d){if(h&&h.defaultProps){d=s({},d),h=h.defaultProps;for(var _ in h)d[_]===void 0&&(d[_]=h[_]);return d}return d}var yg=pr(null),vg=null,_u=null,w1=null;function E1(){w1=_u=vg=null}function _R(h,d,_){ce?(Ze(yg,d._currentValue),d._currentValue=_):(Ze(yg,d._currentValue2),d._currentValue2=_)}function T1(h){var d=yg.current;mt(yg),ce?h._currentValue=d:h._currentValue2=d}function M1(h,d,_){for(;h!==null;){var w=h.alternate;if((h.childLanes&d)!==d?(h.childLanes|=d,w!==null&&(w.childLanes|=d)):w!==null&&(w.childLanes&d)!==d&&(w.childLanes|=d),h===_)break;h=h.return}}function xu(h,d){vg=h,w1=_u=null,h=h.dependencies,h!==null&&h.firstContext!==null&&(h.lanes&d&&(Ui=!0),h.firstContext=null)}function ls(h){var d=ce?h._currentValue:h._currentValue2;if(w1!==h)if(h={context:h,memoizedValue:d,next:null},_u===null){if(vg===null)throw Error(o(308));_u=h,vg.dependencies={lanes:0,firstContext:h}}else _u=_u.next=h;return d}var so=null,Aa=!1;function C1(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xR(h,d){h=h.updateQueue,d.updateQueue===h&&(d.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function Fo(h,d){return{eventTime:h,lane:d,tag:0,payload:null,callback:null,next:null}}function wa(h,d){var _=h.updateQueue;_!==null&&(_=_.shared,Yn!==null&&h.mode&1&&!(kt&2)?(h=_.interleaved,h===null?(d.next=d,so===null?so=[_]:so.push(_)):(d.next=h.next,h.next=d),_.interleaved=d):(h=_.pending,h===null?d.next=d:(d.next=h.next,h.next=d),_.pending=d))}function _g(h,d,_){if(d=d.updateQueue,d!==null&&(d=d.shared,(_&4194240)!==0)){var w=d.lanes;w&=h.pendingLanes,_|=w,d.lanes=_,v1(h,_)}}function SR(h,d){var _=h.updateQueue,w=h.alternate;if(w!==null&&(w=w.updateQueue,_===w)){var T=null,I=null;if(_=_.firstBaseUpdate,_!==null){do{var G={eventTime:_.eventTime,lane:_.lane,tag:_.tag,payload:_.payload,callback:_.callback,next:null};I===null?T=I=G:I=I.next=G,_=_.next}while(_!==null);I===null?T=I=d:I=I.next=d}else T=I=d;_={baseState:w.baseState,firstBaseUpdate:T,lastBaseUpdate:I,shared:w.shared,effects:w.effects},h.updateQueue=_;return}h=_.lastBaseUpdate,h===null?_.firstBaseUpdate=d:h.next=d,_.lastBaseUpdate=d}function xg(h,d,_,w){var T=h.updateQueue;Aa=!1;var I=T.firstBaseUpdate,G=T.lastBaseUpdate,ee=T.shared.pending;if(ee!==null){T.shared.pending=null;var ve=ee,De=ve.next;ve.next=null,G===null?I=De:G.next=De,G=ve;var et=h.alternate;et!==null&&(et=et.updateQueue,ee=et.lastBaseUpdate,ee!==G&&(ee===null?et.firstBaseUpdate=De:ee.next=De,et.lastBaseUpdate=ve))}if(I!==null){var Mt=T.baseState;G=0,et=De=ve=null,ee=I;do{var ut=ee.lane,un=ee.eventTime;if((w&ut)===ut){et!==null&&(et=et.next={eventTime:un,lane:0,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null});e:{var ot=h,jr=ee;switch(ut=d,un=_,jr.tag){case 1:if(ot=jr.payload,typeof ot=="function"){Mt=ot.call(un,Mt,ut);break e}Mt=ot;break e;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=jr.payload,ut=typeof ot=="function"?ot.call(un,Mt,ut):ot,ut==null)break e;Mt=s({},Mt,ut);break e;case 2:Aa=!0}}ee.callback!==null&&ee.lane!==0&&(h.flags|=64,ut=T.effects,ut===null?T.effects=[ee]:ut.push(ee))}else un={eventTime:un,lane:ut,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null},et===null?(De=et=un,ve=Mt):et=et.next=un,G|=ut;if(ee=ee.next,ee===null){if(ee=T.shared.pending,ee===null)break;ut=ee,ee=ut.next,ut.next=null,T.lastBaseUpdate=ut,T.shared.pending=null}}while(!0);if(et===null&&(ve=Mt),T.baseState=ve,T.firstBaseUpdate=De,T.lastBaseUpdate=et,d=T.shared.interleaved,d!==null){T=d;do G|=T.lane,T=T.next;while(T!==d)}else I===null&&(T.shared.lanes=0);Ru|=G,h.lanes=G,h.memoizedState=Mt}}function AR(h,d,_){if(h=d.effects,d.effects=null,h!==null)for(d=0;d<h.length;d++){var w=h[d],T=w.callback;if(T!==null){if(w.callback=null,w=_,typeof T!="function")throw Error(o(191,T));T.call(w)}}}var wR=new r.Component().refs;function b1(h,d,_,w){d=h.memoizedState,_=_(w,d),_=_==null?d:s({},d,_),h.memoizedState=_,h.lanes===0&&(h.updateQueue.baseState=_)}var Sg={isMounted:function(h){return(h=h._reactInternals)?N(h)===h:!1},enqueueSetState:function(h,d,_){h=h._reactInternals;var w=li(),T=Ma(h),I=Fo(w,T);I.payload=d,_!=null&&(I.callback=_),wa(h,I),d=ds(h,T,w),d!==null&&_g(d,h,T)},enqueueReplaceState:function(h,d,_){h=h._reactInternals;var w=li(),T=Ma(h),I=Fo(w,T);I.tag=1,I.payload=d,_!=null&&(I.callback=_),wa(h,I),d=ds(h,T,w),d!==null&&_g(d,h,T)},enqueueForceUpdate:function(h,d){h=h._reactInternals;var _=li(),w=Ma(h),T=Fo(_,w);T.tag=2,d!=null&&(T.callback=d),wa(h,T),d=ds(h,w,_),d!==null&&_g(d,h,w)}};function ER(h,d,_,w,T,I,G){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(w,I,G):d.prototype&&d.prototype.isPureReactComponent?!gg(_,w)||!gg(T,I):!0}function TR(h,d,_){var w=!1,T=os,I=d.contextType;return typeof I=="object"&&I!==null?I=ls(I):(T=mr(d)?eo:Ft.current,w=d.contextTypes,I=(w=w!=null)?as(h,T):os),d=new d(_,I),h.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Sg,h.stateNode=d,d._reactInternals=h,w&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=T,h.__reactInternalMemoizedMaskedChildContext=I),d}function MR(h,d,_,w){h=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(_,w),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(_,w),d.state!==h&&Sg.enqueueReplaceState(d,d.state,null)}function R1(h,d,_,w){var T=h.stateNode;T.props=_,T.state=h.memoizedState,T.refs=wR,C1(h);var I=d.contextType;typeof I=="object"&&I!==null?T.context=ls(I):(I=mr(d)?eo:Ft.current,T.context=as(h,I)),T.state=h.memoizedState,I=d.getDerivedStateFromProps,typeof I=="function"&&(b1(h,d,I,_),T.state=h.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(d=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),d!==T.state&&Sg.enqueueReplaceState(T,T.state,null),xg(h,_,T,w),T.state=h.memoizedState),typeof T.componentDidMount=="function"&&(h.flags|=4194308)}var Su=[],Au=0,Ag=null,wg=0,cs=[],us=0,Vl=null,ko=1,Uo="";function zl(h,d){Su[Au++]=wg,Su[Au++]=Ag,Ag=h,wg=d}function CR(h,d,_){cs[us++]=ko,cs[us++]=Uo,cs[us++]=Vl,Vl=h;var w=ko;h=Uo;var T=32-Oi(w)-1;w&=~(1<<T),_+=1;var I=32-Oi(d)+T;if(30<I){var G=T-T%5;I=(w&(1<<G)-1).toString(32),w>>=G,T-=G,ko=1<<32-Oi(d)+T|_<<T|w,Uo=I+h}else ko=1<<I|_<<T|w,Uo=h}function P1(h){h.return!==null&&(zl(h,1),CR(h,1,0))}function I1(h){for(;h===Ag;)Ag=Su[--Au],Su[Au]=null,wg=Su[--Au],Su[Au]=null;for(;h===Vl;)Vl=cs[--us],cs[us]=null,Uo=cs[--us],cs[us]=null,ko=cs[--us],cs[us]=null}var Fi=null,ki=null,wn=!1,jf=!1,Ls=null;function bR(h,d){var _=ps(5,null,null,0);_.elementType="DELETED",_.stateNode=d,_.return=h,d=h.deletions,d===null?(h.deletions=[_],h.flags|=16):d.push(_)}function RR(h,d){switch(h.tag){case 5:return d=$t(d,h.type,h.pendingProps),d!==null?(h.stateNode=d,Fi=h,ki=gu(d),!0):!1;case 6:return d=Mr(d,h.pendingProps),d!==null?(h.stateNode=d,Fi=h,ki=null,!0):!1;case 13:if(d=ss(d),d!==null){var _=Vl!==null?{id:ko,overflow:Uo}:null;return h.memoizedState={dehydrated:d,treeContext:_,retryLane:1073741824},_=ps(18,null,null,0),_.stateNode=d,_.return=h,h.child=_,Fi=h,ki=null,!0}return!1;default:return!1}}function L1(h){return(h.mode&1)!==0&&(h.flags&128)===0}function D1(h){if(wn){var d=ki;if(d){var _=d;if(!RR(h,d)){if(L1(h))throw Error(o(418));d=Sa(_);var w=Fi;d&&RR(h,d)?bR(w,_):(h.flags=h.flags&-4097|2,wn=!1,Fi=h)}}else{if(L1(h))throw Error(o(418));h.flags=h.flags&-4097|2,wn=!1,Fi=h}}}function PR(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;Fi=h}function Wf(h){if(!he||h!==Fi)return!1;if(!wn)return PR(h),wn=!0,!1;if(h.tag!==3&&(h.tag!==5||$e(h.type)&&!de(h.type,h.memoizedProps))){var d=ki;if(d){if(L1(h)){for(h=ki;h;)h=Sa(h);throw Error(o(418))}for(;d;)bR(h,d),d=Sa(d)}}if(PR(h),h.tag===13){if(!he)throw Error(o(316));if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));ki=U(h)}else ki=Fi?Sa(h.stateNode):null;return!0}function wu(){he&&(ki=Fi=null,jf=wn=!1)}function B1(h){Ls===null?Ls=[h]:Ls.push(h)}function Xf(h,d,_){if(h=_.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(_._owner){if(_=_._owner,_){if(_.tag!==1)throw Error(o(309));var w=_.stateNode}if(!w)throw Error(o(147,h));var T=w,I=""+h;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===I?d.ref:(d=function(G){var ee=T.refs;ee===wR&&(ee=T.refs={}),G===null?delete ee[I]:ee[I]=G},d._stringRef=I,d)}if(typeof h!="string")throw Error(o(284));if(!_._owner)throw Error(o(290,h))}return h}function Eg(h,d){throw h=Object.prototype.toString.call(d),Error(o(31,h==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":h))}function IR(h){var d=h._init;return d(h._payload)}function LR(h){function d(ue,re){if(h){var ge=ue.deletions;ge===null?(ue.deletions=[re],ue.flags|=16):ge.push(re)}}function _(ue,re){if(!h)return null;for(;re!==null;)d(ue,re),re=re.sibling;return null}function w(ue,re){for(ue=new Map;re!==null;)re.key!==null?ue.set(re.key,re):ue.set(re.index,re),re=re.sibling;return ue}function T(ue,re){return ue=ba(ue,re),ue.index=0,ue.sibling=null,ue}function I(ue,re,ge){return ue.index=ge,h?(ge=ue.alternate,ge!==null?(ge=ge.index,ge<re?(ue.flags|=2,re):ge):(ue.flags|=2,re)):(ue.flags|=1048576,re)}function G(ue){return h&&ue.alternate===null&&(ue.flags|=2),ue}function ee(ue,re,ge,Xe){return re===null||re.tag!==6?(re=yS(ge,ue.mode,Xe),re.return=ue,re):(re=T(re,ge),re.return=ue,re)}function ve(ue,re,ge,Xe){var it=ge.type;return it===u?et(ue,re,ge.props.children,Xe,ge.key):re!==null&&(re.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===A&&IR(it)===re.type)?(Xe=T(re,ge.props),Xe.ref=Xf(ue,re,ge),Xe.return=ue,Xe):(Xe=ty(ge.type,ge.key,ge.props,null,ue.mode,Xe),Xe.ref=Xf(ue,re,ge),Xe.return=ue,Xe)}function De(ue,re,ge,Xe){return re===null||re.tag!==4||re.stateNode.containerInfo!==ge.containerInfo||re.stateNode.implementation!==ge.implementation?(re=vS(ge,ue.mode,Xe),re.return=ue,re):(re=T(re,ge.children||[]),re.return=ue,re)}function et(ue,re,ge,Xe,it){return re===null||re.tag!==7?(re=Jl(ge,ue.mode,Xe,it),re.return=ue,re):(re=T(re,ge),re.return=ue,re)}function Mt(ue,re,ge){if(typeof re=="string"&&re!==""||typeof re=="number")return re=yS(""+re,ue.mode,ge),re.return=ue,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case l:return ge=ty(re.type,re.key,re.props,null,ue.mode,ge),ge.ref=Xf(ue,null,re),ge.return=ue,ge;case c:return re=vS(re,ue.mode,ge),re.return=ue,re;case A:var Xe=re._init;return Mt(ue,Xe(re._payload),ge)}if($(re)||C(re))return re=Jl(re,ue.mode,ge,null),re.return=ue,re;Eg(ue,re)}return null}function ut(ue,re,ge,Xe){var it=re!==null?re.key:null;if(typeof ge=="string"&&ge!==""||typeof ge=="number")return it!==null?null:ee(ue,re,""+ge,Xe);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case l:return ge.key===it?ve(ue,re,ge,Xe):null;case c:return ge.key===it?De(ue,re,ge,Xe):null;case A:return it=ge._init,ut(ue,re,it(ge._payload),Xe)}if($(ge)||C(ge))return it!==null?null:et(ue,re,ge,Xe,null);Eg(ue,ge)}return null}function un(ue,re,ge,Xe,it){if(typeof Xe=="string"&&Xe!==""||typeof Xe=="number")return ue=ue.get(ge)||null,ee(re,ue,""+Xe,it);if(typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case l:return ue=ue.get(Xe.key===null?ge:Xe.key)||null,ve(re,ue,Xe,it);case c:return ue=ue.get(Xe.key===null?ge:Xe.key)||null,De(re,ue,Xe,it);case A:var Nt=Xe._init;return un(ue,re,ge,Nt(Xe._payload),it)}if($(Xe)||C(Xe))return ue=ue.get(ge)||null,et(re,ue,Xe,it,null);Eg(re,Xe)}return null}function ot(ue,re,ge,Xe){for(var it=null,Nt=null,Ct=re,en=re=0,vr=null;Ct!==null&&en<ge.length;en++){Ct.index>en?(vr=Ct,Ct=null):vr=Ct.sibling;var tn=ut(ue,Ct,ge[en],Xe);if(tn===null){Ct===null&&(Ct=vr);break}h&&Ct&&tn.alternate===null&&d(ue,Ct),re=I(tn,re,en),Nt===null?it=tn:Nt.sibling=tn,Nt=tn,Ct=vr}if(en===ge.length)return _(ue,Ct),wn&&zl(ue,en),it;if(Ct===null){for(;en<ge.length;en++)Ct=Mt(ue,ge[en],Xe),Ct!==null&&(re=I(Ct,re,en),Nt===null?it=Ct:Nt.sibling=Ct,Nt=Ct);return wn&&zl(ue,en),it}for(Ct=w(ue,Ct);en<ge.length;en++)vr=un(Ct,ue,en,ge[en],Xe),vr!==null&&(h&&vr.alternate!==null&&Ct.delete(vr.key===null?en:vr.key),re=I(vr,re,en),Nt===null?it=vr:Nt.sibling=vr,Nt=vr);return h&&Ct.forEach(function(Ra){return d(ue,Ra)}),wn&&zl(ue,en),it}function jr(ue,re,ge,Xe){var it=C(ge);if(typeof it!="function")throw Error(o(150));if(ge=it.call(ge),ge==null)throw Error(o(151));for(var Nt=it=null,Ct=re,en=re=0,vr=null,tn=ge.next();Ct!==null&&!tn.done;en++,tn=ge.next()){Ct.index>en?(vr=Ct,Ct=null):vr=Ct.sibling;var Ra=ut(ue,Ct,tn.value,Xe);if(Ra===null){Ct===null&&(Ct=vr);break}h&&Ct&&Ra.alternate===null&&d(ue,Ct),re=I(Ra,re,en),Nt===null?it=Ra:Nt.sibling=Ra,Nt=Ra,Ct=vr}if(tn.done)return _(ue,Ct),wn&&zl(ue,en),it;if(Ct===null){for(;!tn.done;en++,tn=ge.next())tn=Mt(ue,tn.value,Xe),tn!==null&&(re=I(tn,re,en),Nt===null?it=tn:Nt.sibling=tn,Nt=tn);return wn&&zl(ue,en),it}for(Ct=w(ue,Ct);!tn.done;en++,tn=ge.next())tn=un(Ct,ue,en,tn.value,Xe),tn!==null&&(h&&tn.alternate!==null&&Ct.delete(tn.key===null?en:tn.key),re=I(tn,re,en),Nt===null?it=tn:Nt.sibling=tn,Nt=tn);return h&&Ct.forEach(function(G8){return d(ue,G8)}),wn&&zl(ue,en),it}function ms(ue,re,ge,Xe){if(typeof ge=="object"&&ge!==null&&ge.type===u&&ge.key===null&&(ge=ge.props.children),typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case l:e:{for(var it=ge.key,Nt=re;Nt!==null;){if(Nt.key===it){if(it=ge.type,it===u){if(Nt.tag===7){_(ue,Nt.sibling),re=T(Nt,ge.props.children),re.return=ue,ue=re;break e}}else if(Nt.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===A&&IR(it)===Nt.type){_(ue,Nt.sibling),re=T(Nt,ge.props),re.ref=Xf(ue,Nt,ge),re.return=ue,ue=re;break e}_(ue,Nt);break}else d(ue,Nt);Nt=Nt.sibling}ge.type===u?(re=Jl(ge.props.children,ue.mode,Xe,ge.key),re.return=ue,ue=re):(Xe=ty(ge.type,ge.key,ge.props,null,ue.mode,Xe),Xe.ref=Xf(ue,re,ge),Xe.return=ue,ue=Xe)}return G(ue);case c:e:{for(Nt=ge.key;re!==null;){if(re.key===Nt)if(re.tag===4&&re.stateNode.containerInfo===ge.containerInfo&&re.stateNode.implementation===ge.implementation){_(ue,re.sibling),re=T(re,ge.children||[]),re.return=ue,ue=re;break e}else{_(ue,re);break}else d(ue,re);re=re.sibling}re=vS(ge,ue.mode,Xe),re.return=ue,ue=re}return G(ue);case A:return Nt=ge._init,ms(ue,re,Nt(ge._payload),Xe)}if($(ge))return ot(ue,re,ge,Xe);if(C(ge))return jr(ue,re,ge,Xe);Eg(ue,ge)}return typeof ge=="string"&&ge!==""||typeof ge=="number"?(ge=""+ge,re!==null&&re.tag===6?(_(ue,re.sibling),re=T(re,ge),re.return=ue,ue=re):(_(ue,re),re=yS(ge,ue.mode,Xe),re.return=ue,ue=re),G(ue)):_(ue,re)}return ms}var Eu=LR(!0),DR=LR(!1),Kf={},hs=pr(Kf),Jf=pr(Kf),Tu=pr(Kf);function oo(h){if(h===Kf)throw Error(o(174));return h}function N1(h,d){Ze(Tu,d),Ze(Jf,h),Ze(hs,Kf),h=ae(d),mt(hs),Ze(hs,h)}function Mu(){mt(hs),mt(Jf),mt(Tu)}function BR(h){var d=oo(Tu.current),_=oo(hs.current);d=O(_,h.type,d),_!==d&&(Ze(Jf,h),Ze(hs,d))}function O1(h){Jf.current===h&&(mt(hs),mt(Jf))}var Cn=pr(0);function Tg(h){for(var d=h;d!==null;){if(d.tag===13){var _=d.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||Vf(_)||zf(_)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if(d.flags&128)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===h)break;for(;d.sibling===null;){if(d.return===null||d.return===h)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var F1=[];function k1(){for(var h=0;h<F1.length;h++){var d=F1[h];ce?d._workInProgressVersionPrimary=null:d._workInProgressVersionSecondary=null}F1.length=0}var Mg=a.ReactCurrentDispatcher,fs=a.ReactCurrentBatchConfig,Cu=0,Nn=null,zr=null,yr=null,Cg=!1,$f=!1,Yf=0,p8=0;function Hr(){throw Error(o(321))}function U1(h,d){if(d===null)return!1;for(var _=0;_<d.length&&_<h.length;_++)if(!ro(h[_],d[_]))return!1;return!0}function V1(h,d,_,w,T,I){if(Cu=I,Nn=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,Mg.current=h===null||h.memoizedState===null?v8:_8,h=_(w,T),$f){I=0;do{if($f=!1,Yf=0,25<=I)throw Error(o(301));I+=1,yr=zr=null,d.updateQueue=null,Mg.current=x8,h=_(w,T)}while($f)}if(Mg.current=Lg,d=zr!==null&&zr.next!==null,Cu=0,yr=zr=Nn=null,Cg=!1,d)throw Error(o(300));return h}function z1(){var h=Yf!==0;return Yf=0,h}function Vo(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yr===null?Nn.memoizedState=yr=h:yr=yr.next=h,yr}function ao(){if(zr===null){var h=Nn.alternate;h=h!==null?h.memoizedState:null}else h=zr.next;var d=yr===null?Nn.memoizedState:yr.next;if(d!==null)yr=d,zr=h;else{if(h===null)throw Error(o(310));zr=h,h={memoizedState:zr.memoizedState,baseState:zr.baseState,baseQueue:zr.baseQueue,queue:zr.queue,next:null},yr===null?Nn.memoizedState=yr=h:yr=yr.next=h}return yr}function Hl(h,d){return typeof d=="function"?d(h):d}function bg(h){var d=ao(),_=d.queue;if(_===null)throw Error(o(311));_.lastRenderedReducer=h;var w=zr,T=w.baseQueue,I=_.pending;if(I!==null){if(T!==null){var G=T.next;T.next=I.next,I.next=G}w.baseQueue=T=I,_.pending=null}if(T!==null){I=T.next,w=w.baseState;var ee=G=null,ve=null,De=I;do{var et=De.lane;if((Cu&et)===et)ve!==null&&(ve=ve.next={lane:0,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null}),w=De.hasEagerState?De.eagerState:h(w,De.action);else{var Mt={lane:et,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null};ve===null?(ee=ve=Mt,G=w):ve=ve.next=Mt,Nn.lanes|=et,Ru|=et}De=De.next}while(De!==null&&De!==I);ve===null?G=w:ve.next=ee,ro(w,d.memoizedState)||(Ui=!0),d.memoizedState=w,d.baseState=G,d.baseQueue=ve,_.lastRenderedState=w}if(h=_.interleaved,h!==null){T=h;do I=T.lane,Nn.lanes|=I,Ru|=I,T=T.next;while(T!==h)}else T===null&&(_.lanes=0);return[d.memoizedState,_.dispatch]}function Rg(h){var d=ao(),_=d.queue;if(_===null)throw Error(o(311));_.lastRenderedReducer=h;var w=_.dispatch,T=_.pending,I=d.memoizedState;if(T!==null){_.pending=null;var G=T=T.next;do I=h(I,G.action),G=G.next;while(G!==T);ro(I,d.memoizedState)||(Ui=!0),d.memoizedState=I,d.baseQueue===null&&(d.baseState=I),_.lastRenderedState=I}return[I,w]}function NR(){}function OR(h,d){var _=Nn,w=ao(),T=d(),I=!ro(w.memoizedState,T);if(I&&(w.memoizedState=T,Ui=!0),w=w.queue,Qf(UR.bind(null,_,w,h),[h]),w.getSnapshot!==d||I||yr!==null&&yr.memoizedState.tag&1){if(_.flags|=2048,qf(9,kR.bind(null,_,w,T,d),void 0,null),Yn===null)throw Error(o(349));Cu&30||FR(_,d,T)}return T}function FR(h,d,_){h.flags|=16384,h={getSnapshot:d,value:_},d=Nn.updateQueue,d===null?(d={lastEffect:null,stores:null},Nn.updateQueue=d,d.stores=[h]):(_=d.stores,_===null?d.stores=[h]:_.push(h))}function kR(h,d,_,w){d.value=_,d.getSnapshot=w,VR(d)&&ds(h,1,-1)}function UR(h,d,_){return _(function(){VR(d)&&ds(h,1,-1)})}function VR(h){var d=h.getSnapshot;h=h.value;try{var _=d();return!ro(h,_)}catch{return!0}}function H1(h){var d=Vo();return typeof h=="function"&&(h=h()),d.memoizedState=d.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hl,lastRenderedState:h},d.queue=h,h=h.dispatch=y8.bind(null,Nn,h),[d.memoizedState,h]}function qf(h,d,_,w){return h={tag:h,create:d,destroy:_,deps:w,next:null},d=Nn.updateQueue,d===null?(d={lastEffect:null,stores:null},Nn.updateQueue=d,d.lastEffect=h.next=h):(_=d.lastEffect,_===null?d.lastEffect=h.next=h:(w=_.next,_.next=h,h.next=w,d.lastEffect=h)),h}function zR(){return ao().memoizedState}function Pg(h,d,_,w){var T=Vo();Nn.flags|=h,T.memoizedState=qf(1|d,_,void 0,w===void 0?null:w)}function Ig(h,d,_,w){var T=ao();w=w===void 0?null:w;var I=void 0;if(zr!==null){var G=zr.memoizedState;if(I=G.destroy,w!==null&&U1(w,G.deps)){T.memoizedState=qf(d,_,I,w);return}}Nn.flags|=h,T.memoizedState=qf(1|d,_,I,w)}function G1(h,d){return Pg(8390656,8,h,d)}function Qf(h,d){return Ig(2048,8,h,d)}function HR(h,d){return Ig(4,2,h,d)}function GR(h,d){return Ig(4,4,h,d)}function jR(h,d){if(typeof d=="function")return h=h(),d(h),function(){d(null)};if(d!=null)return h=h(),d.current=h,function(){d.current=null}}function WR(h,d,_){return _=_!=null?_.concat([h]):null,Ig(4,4,jR.bind(null,d,h),_)}function j1(){}function XR(h,d){var _=ao();d=d===void 0?null:d;var w=_.memoizedState;return w!==null&&d!==null&&U1(d,w[1])?w[0]:(_.memoizedState=[h,d],h)}function KR(h,d){var _=ao();d=d===void 0?null:d;var w=_.memoizedState;return w!==null&&d!==null&&U1(d,w[1])?w[0]:(h=h(),_.memoizedState=[h,d],h)}function m8(h,d){var _=Zt;Zt=_!==0&&4>_?_:4,h(!0);var w=fs.transition;fs.transition={};try{h(!1),d()}finally{Zt=_,fs.transition=w}}function JR(){return ao().memoizedState}function g8(h,d,_){var w=Ma(h);_={lane:w,action:_,hasEagerState:!1,eagerState:null,next:null},$R(h)?YR(d,_):(qR(h,d,_),_=li(),h=ds(h,w,_),h!==null&&QR(h,d,w))}function y8(h,d,_){var w=Ma(h),T={lane:w,action:_,hasEagerState:!1,eagerState:null,next:null};if($R(h))YR(d,T);else{qR(h,d,T);var I=h.alternate;if(h.lanes===0&&(I===null||I.lanes===0)&&(I=d.lastRenderedReducer,I!==null))try{var G=d.lastRenderedState,ee=I(G,_);if(T.hasEagerState=!0,T.eagerState=ee,ro(ee,G))return}catch{}finally{}_=li(),h=ds(h,w,_),h!==null&&QR(h,d,w)}}function $R(h){var d=h.alternate;return h===Nn||d!==null&&d===Nn}function YR(h,d){$f=Cg=!0;var _=h.pending;_===null?d.next=d:(d.next=_.next,_.next=d),h.pending=d}function qR(h,d,_){Yn!==null&&h.mode&1&&!(kt&2)?(h=d.interleaved,h===null?(_.next=_,so===null?so=[d]:so.push(d)):(_.next=h.next,h.next=_),d.interleaved=_):(h=d.pending,h===null?_.next=_:(_.next=h.next,h.next=_),d.pending=_)}function QR(h,d,_){if(_&4194240){var w=d.lanes;w&=h.pendingLanes,_|=w,d.lanes=_,v1(h,_)}}var Lg={readContext:ls,useCallback:Hr,useContext:Hr,useEffect:Hr,useImperativeHandle:Hr,useInsertionEffect:Hr,useLayoutEffect:Hr,useMemo:Hr,useReducer:Hr,useRef:Hr,useState:Hr,useDebugValue:Hr,useDeferredValue:Hr,useTransition:Hr,useMutableSource:Hr,useSyncExternalStore:Hr,useId:Hr,unstable_isNewReconciler:!1},v8={readContext:ls,useCallback:function(h,d){return Vo().memoizedState=[h,d===void 0?null:d],h},useContext:ls,useEffect:G1,useImperativeHandle:function(h,d,_){return _=_!=null?_.concat([h]):null,Pg(4194308,4,jR.bind(null,d,h),_)},useLayoutEffect:function(h,d){return Pg(4194308,4,h,d)},useInsertionEffect:function(h,d){return Pg(4,2,h,d)},useMemo:function(h,d){var _=Vo();return d=d===void 0?null:d,h=h(),_.memoizedState=[h,d],h},useReducer:function(h,d,_){var w=Vo();return d=_!==void 0?_(d):d,w.memoizedState=w.baseState=d,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:d},w.queue=h,h=h.dispatch=g8.bind(null,Nn,h),[w.memoizedState,h]},useRef:function(h){var d=Vo();return h={current:h},d.memoizedState=h},useState:H1,useDebugValue:j1,useDeferredValue:function(h){var d=H1(h),_=d[0],w=d[1];return G1(function(){var T=fs.transition;fs.transition={};try{w(h)}finally{fs.transition=T}},[h]),_},useTransition:function(){var h=H1(!1),d=h[0];return h=m8.bind(null,h[1]),Vo().memoizedState=h,[d,h]},useMutableSource:function(){},useSyncExternalStore:function(h,d,_){var w=Nn,T=Vo();if(wn){if(_===void 0)throw Error(o(407));_=_()}else{if(_=d(),Yn===null)throw Error(o(349));Cu&30||FR(w,d,_)}T.memoizedState=_;var I={value:_,getSnapshot:d};return T.queue=I,G1(UR.bind(null,w,I,h),[h]),w.flags|=2048,qf(9,kR.bind(null,w,I,_,d),void 0,null),_},useId:function(){var h=Vo(),d=Yn.identifierPrefix;if(wn){var _=Uo,w=ko;_=(w&~(1<<32-Oi(w)-1)).toString(32)+_,d=":"+d+"R"+_,_=Yf++,0<_&&(d+="H"+_.toString(32)),d+=":"}else _=p8++,d=":"+d+"r"+_.toString(32)+":";return h.memoizedState=d},unstable_isNewReconciler:!1},_8={readContext:ls,useCallback:XR,useContext:ls,useEffect:Qf,useImperativeHandle:WR,useInsertionEffect:HR,useLayoutEffect:GR,useMemo:KR,useReducer:bg,useRef:zR,useState:function(){return bg(Hl)},useDebugValue:j1,useDeferredValue:function(h){var d=bg(Hl),_=d[0],w=d[1];return Qf(function(){var T=fs.transition;fs.transition={};try{w(h)}finally{fs.transition=T}},[h]),_},useTransition:function(){var h=bg(Hl)[0],d=ao().memoizedState;return[h,d]},useMutableSource:NR,useSyncExternalStore:OR,useId:JR,unstable_isNewReconciler:!1},x8={readContext:ls,useCallback:XR,useContext:ls,useEffect:Qf,useImperativeHandle:WR,useInsertionEffect:HR,useLayoutEffect:GR,useMemo:KR,useReducer:Rg,useRef:zR,useState:function(){return Rg(Hl)},useDebugValue:j1,useDeferredValue:function(h){var d=Rg(Hl),_=d[0],w=d[1];return Qf(function(){var T=fs.transition;fs.transition={};try{w(h)}finally{fs.transition=T}},[h]),_},useTransition:function(){var h=Rg(Hl)[0],d=ao().memoizedState;return[h,d]},useMutableSource:NR,useSyncExternalStore:OR,useId:JR,unstable_isNewReconciler:!1};function W1(h,d){try{var _="",w=d;do _+=d8(w),w=w.return;while(w);var T=_}catch(I){T=`
Error generating stack: `+I.message+`
`+I.stack}return{value:h,source:d,stack:T}}function X1(h,d){try{console.error(d.value)}catch(_){setTimeout(function(){throw _})}}var S8=typeof WeakMap=="function"?WeakMap:Map;function ZR(h,d,_){_=Fo(-1,_),_.tag=3,_.payload={element:null};var w=d.value;return _.callback=function(){Jg||(Jg=!0,uS=w),X1(h,d)},_}function eP(h,d,_){_=Fo(-1,_),_.tag=3;var w=h.type.getDerivedStateFromError;if(typeof w=="function"){var T=d.value;_.payload=function(){return w(T)},_.callback=function(){X1(h,d)}}var I=h.stateNode;return I!==null&&typeof I.componentDidCatch=="function"&&(_.callback=function(){X1(h,d),typeof w!="function"&&(Ea===null?Ea=new Set([this]):Ea.add(this));var G=d.stack;this.componentDidCatch(d.value,{componentStack:G!==null?G:""})}),_}function tP(h,d,_){var w=h.pingCache;if(w===null){w=h.pingCache=new S8;var T=new Set;w.set(d,T)}else T=w.get(d),T===void 0&&(T=new Set,w.set(d,T));T.has(_)||(T.add(_),h=N8.bind(null,h,d,_),d.then(h,h))}function nP(h){do{var d;if((d=h.tag===13)&&(d=h.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return h;h=h.return}while(h!==null);return null}function rP(h,d,_,w,T){return h.mode&1?(h.flags|=65536,h.lanes=T,h):(h===d?h.flags|=65536:(h.flags|=128,_.flags|=131072,_.flags&=-52805,_.tag===1&&(_.alternate===null?_.tag=17:(d=Fo(-1,1),d.tag=2,wa(_,d))),_.lanes|=1),h)}function lo(h){h.flags|=4}function iP(h,d){if(h!==null&&h.child===d.child)return!0;if(d.flags&16)return!1;for(h=d.child;h!==null;){if(h.flags&12854||h.subtreeFlags&12854)return!1;h=h.sibling}return!0}var Zf,ed,Dg,Bg;if(oe)Zf=function(h,d){for(var _=d.child;_!==null;){if(_.tag===5||_.tag===6)te(h,_.stateNode);else if(_.tag!==4&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===d)break;for(;_.sibling===null;){if(_.return===null||_.return===d)return;_=_.return}_.sibling.return=_.return,_=_.sibling}},ed=function(){},Dg=function(h,d,_,w,T){if(h=h.memoizedProps,h!==w){var I=d.stateNode,G=oo(hs.current);_=ne(I,_,h,w,T,G),(d.updateQueue=_)&&lo(d)}},Bg=function(h,d,_,w){_!==w&&lo(d)};else if(V){Zf=function(h,d,_,w){for(var T=d.child;T!==null;){if(T.tag===5){var I=T.stateNode;_&&w&&(I=fn(I,T.type,T.memoizedProps,T)),te(h,I)}else if(T.tag===6)I=T.stateNode,_&&w&&(I=Gn(I,T.memoizedProps,T)),te(h,I);else if(T.tag!==4){if(T.tag===22&&T.memoizedState!==null)I=T.child,I!==null&&(I.return=T),Zf(h,T,!0,!0);else if(T.child!==null){T.child.return=T,T=T.child;continue}}if(T===d)break;for(;T.sibling===null;){if(T.return===null||T.return===d)return;T=T.return}T.sibling.return=T.return,T=T.sibling}};var sP=function(h,d,_,w){for(var T=d.child;T!==null;){if(T.tag===5){var I=T.stateNode;_&&w&&(I=fn(I,T.type,T.memoizedProps,T)),nt(h,I)}else if(T.tag===6)I=T.stateNode,_&&w&&(I=Gn(I,T.memoizedProps,T)),nt(h,I);else if(T.tag!==4){if(T.tag===22&&T.memoizedState!==null)I=T.child,I!==null&&(I.return=T),sP(h,T,!0,!0);else if(T.child!==null){T.child.return=T,T=T.child;continue}}if(T===d)break;for(;T.sibling===null;){if(T.return===null||T.return===d)return;T=T.return}T.sibling.return=T.return,T=T.sibling}};ed=function(h,d){var _=d.stateNode;if(!iP(h,d)){h=_.containerInfo;var w=tt(h);sP(w,d,!1,!1),_.pendingChildren=w,lo(d),Lt(h,w)}},Dg=function(h,d,_,w,T){var I=h.stateNode,G=h.memoizedProps;if((h=iP(h,d))&&G===w)d.stateNode=I;else{var ee=d.stateNode,ve=oo(hs.current),De=null;G!==w&&(De=ne(ee,_,G,w,T,ve)),h&&De===null?d.stateNode=I:(I=Be(I,De,_,G,w,d,h,ee),Me(I,_,w,T,ve)&&lo(d),d.stateNode=I,h?lo(d):Zf(I,d,!1,!1))}},Bg=function(h,d,_,w){_!==w?(h=oo(Tu.current),_=oo(hs.current),d.stateNode=Ae(w,h,_,d),lo(d)):d.stateNode=h.stateNode}}else ed=function(){},Dg=function(){},Bg=function(){};function td(h,d){if(!wn)switch(h.tailMode){case"hidden":d=h.tail;for(var _=null;d!==null;)d.alternate!==null&&(_=d),d=d.sibling;_===null?h.tail=null:_.sibling=null;break;case"collapsed":_=h.tail;for(var w=null;_!==null;)_.alternate!==null&&(w=_),_=_.sibling;w===null?d||h.tail===null?h.tail=null:h.tail.sibling=null:w.sibling=null}}function Gr(h){var d=h.alternate!==null&&h.alternate.child===h.child,_=0,w=0;if(d)for(var T=h.child;T!==null;)_|=T.lanes|T.childLanes,w|=T.subtreeFlags&14680064,w|=T.flags&14680064,T.return=h,T=T.sibling;else for(T=h.child;T!==null;)_|=T.lanes|T.childLanes,w|=T.subtreeFlags,w|=T.flags,T.return=h,T=T.sibling;return h.subtreeFlags|=w,h.childLanes=_,d}function A8(h,d,_){var w=d.pendingProps;switch(I1(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gr(d),null;case 1:return mr(d.type)&&jn(),Gr(d),null;case 3:return w=d.stateNode,Mu(),mt(Bn),mt(Ft),k1(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(h===null||h.child===null)&&(Wf(d)?lo(d):h===null||h.memoizedState.isDehydrated&&!(d.flags&256)||(d.flags|=1024,Ls!==null&&(dS(Ls),Ls=null))),ed(h,d),Gr(d),null;case 5:O1(d),_=oo(Tu.current);var T=d.type;if(h!==null&&d.stateNode!=null)Dg(h,d,T,w,_),h.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!w){if(d.stateNode===null)throw Error(o(166));return Gr(d),null}if(h=oo(hs.current),Wf(d)){if(!he)throw Error(o(175));h=d1(d.stateNode,d.type,d.memoizedProps,_,h,d,!jf),d.updateQueue=h,h!==null&&lo(d)}else{var I=q(T,w,_,h,d);Zf(I,d,!1,!1),d.stateNode=I,Me(I,T,w,_,h)&&lo(d)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return Gr(d),null;case 6:if(h&&d.stateNode!=null)Bg(h,d,h.memoizedProps,w);else{if(typeof w!="string"&&d.stateNode===null)throw Error(o(166));if(h=oo(Tu.current),_=oo(hs.current),Wf(d)){if(!he)throw Error(o(176));if(h=d.stateNode,w=d.memoizedProps,(_=p1(h,w,d,!jf))&&(T=Fi,T!==null))switch(I=(T.mode&1)!==0,T.tag){case 3:st(T.stateNode.containerInfo,h,w,I);break;case 5:ft(T.type,T.memoizedProps,T.stateNode,h,w,I)}_&&lo(d)}else d.stateNode=Ae(w,h,_,d)}return Gr(d),null;case 13:if(mt(Cn),w=d.memoizedState,wn&&ki!==null&&d.mode&1&&!(d.flags&128)){for(h=ki;h;)h=Sa(h);return wu(),d.flags|=98560,d}if(w!==null&&w.dehydrated!==null){if(w=Wf(d),h===null){if(!w)throw Error(o(318));if(!he)throw Error(o(344));if(h=d.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));m1(h,d)}else wu(),!(d.flags&128)&&(d.memoizedState=null),d.flags|=4;return Gr(d),null}return Ls!==null&&(dS(Ls),Ls=null),d.flags&128?(d.lanes=_,d):(w=w!==null,_=!1,h===null?Wf(d):_=h.memoizedState!==null,w&&!_&&(d.child.flags|=8192,d.mode&1&&(h===null||Cn.current&1?or===0&&(or=3):mS())),d.updateQueue!==null&&(d.flags|=4),Gr(d),null);case 4:return Mu(),ed(h,d),h===null&&ye(d.stateNode.containerInfo),Gr(d),null;case 10:return T1(d.type._context),Gr(d),null;case 17:return mr(d.type)&&jn(),Gr(d),null;case 19:if(mt(Cn),T=d.memoizedState,T===null)return Gr(d),null;if(w=(d.flags&128)!==0,I=T.rendering,I===null)if(w)td(T,!1);else{if(or!==0||h!==null&&h.flags&128)for(h=d.child;h!==null;){if(I=Tg(h),I!==null){for(d.flags|=128,td(T,!1),h=I.updateQueue,h!==null&&(d.updateQueue=h,d.flags|=4),d.subtreeFlags=0,h=_,w=d.child;w!==null;)_=w,T=h,_.flags&=14680066,I=_.alternate,I===null?(_.childLanes=0,_.lanes=T,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=I.childLanes,_.lanes=I.lanes,_.child=I.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=I.memoizedProps,_.memoizedState=I.memoizedState,_.updateQueue=I.updateQueue,_.type=I.type,T=I.dependencies,_.dependencies=T===null?null:{lanes:T.lanes,firstContext:T.firstContext}),w=w.sibling;return Ze(Cn,Cn.current&1|2),d.child}h=h.sibling}T.tail!==null&&gr()>cS&&(d.flags|=128,w=!0,td(T,!1),d.lanes=4194304)}else{if(!w)if(h=Tg(I),h!==null){if(d.flags|=128,w=!0,h=h.updateQueue,h!==null&&(d.updateQueue=h,d.flags|=4),td(T,!0),T.tail===null&&T.tailMode==="hidden"&&!I.alternate&&!wn)return Gr(d),null}else 2*gr()-T.renderingStartTime>cS&&_!==1073741824&&(d.flags|=128,w=!0,td(T,!1),d.lanes=4194304);T.isBackwards?(I.sibling=d.child,d.child=I):(h=T.last,h!==null?h.sibling=I:d.child=I,T.last=I)}return T.tail!==null?(d=T.tail,T.rendering=d,T.tail=d.sibling,T.renderingStartTime=gr(),d.sibling=null,h=Cn.current,Ze(Cn,w?h&1|2:h&1),d):(Gr(d),null);case 22:case 23:return pS(),w=d.memoizedState!==null,h!==null&&h.memoizedState!==null!==w&&(d.flags|=8192),w&&d.mode&1?Vi&1073741824&&(Gr(d),oe&&d.subtreeFlags&6&&(d.flags|=8192)):Gr(d),null;case 24:return null;case 25:return null}throw Error(o(156,d.tag))}var w8=a.ReactCurrentOwner,Ui=!1;function ai(h,d,_,w){d.child=h===null?DR(d,null,_,w):Eu(d,h.child,_,w)}function oP(h,d,_,w,T){_=_.render;var I=d.ref;return xu(d,T),w=V1(h,d,_,w,I,T),_=z1(),h!==null&&!Ui?(d.updateQueue=h.updateQueue,d.flags&=-2053,h.lanes&=~T,zo(h,d,T)):(wn&&_&&P1(d),d.flags|=1,ai(h,d,w,T),d.child)}function aP(h,d,_,w,T){if(h===null){var I=_.type;return typeof I=="function"&&!gS(I)&&I.defaultProps===void 0&&_.compare===null&&_.defaultProps===void 0?(d.tag=15,d.type=I,lP(h,d,I,w,T)):(h=ty(_.type,null,w,d,d.mode,T),h.ref=d.ref,h.return=d,d.child=h)}if(I=h.child,!(h.lanes&T)){var G=I.memoizedProps;if(_=_.compare,_=_!==null?_:gg,_(G,w)&&h.ref===d.ref)return zo(h,d,T)}return d.flags|=1,h=ba(I,w),h.ref=d.ref,h.return=d,d.child=h}function lP(h,d,_,w,T){if(h!==null&&gg(h.memoizedProps,w)&&h.ref===d.ref)if(Ui=!1,(h.lanes&T)!==0)h.flags&131072&&(Ui=!0);else return d.lanes=h.lanes,zo(h,d,T);return K1(h,d,_,w,T)}function cP(h,d,_){var w=d.pendingProps,T=w.children,I=h!==null?h.memoizedState:null;if(w.mode==="hidden")if(!(d.mode&1))d.memoizedState={baseLanes:0,cachePool:null},Ze(bu,Vi),Vi|=_;else if(_&1073741824)d.memoizedState={baseLanes:0,cachePool:null},w=I!==null?I.baseLanes:_,Ze(bu,Vi),Vi|=w;else return h=I!==null?I.baseLanes|_:_,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:h,cachePool:null},d.updateQueue=null,Ze(bu,Vi),Vi|=h,null;else I!==null?(w=I.baseLanes|_,d.memoizedState=null):w=_,Ze(bu,Vi),Vi|=w;return ai(h,d,T,_),d.child}function uP(h,d){var _=d.ref;(h===null&&_!==null||h!==null&&h.ref!==_)&&(d.flags|=512,d.flags|=2097152)}function K1(h,d,_,w,T){var I=mr(_)?eo:Ft.current;return I=as(d,I),xu(d,T),_=V1(h,d,_,w,I,T),w=z1(),h!==null&&!Ui?(d.updateQueue=h.updateQueue,d.flags&=-2053,h.lanes&=~T,zo(h,d,T)):(wn&&w&&P1(d),d.flags|=1,ai(h,d,_,T),d.child)}function hP(h,d,_,w,T){if(mr(_)){var I=!0;br(d)}else I=!1;if(xu(d,T),d.stateNode===null)h!==null&&(h.alternate=null,d.alternate=null,d.flags|=2),TR(d,_,w),R1(d,_,w,T),w=!0;else if(h===null){var G=d.stateNode,ee=d.memoizedProps;G.props=ee;var ve=G.context,De=_.contextType;typeof De=="object"&&De!==null?De=ls(De):(De=mr(_)?eo:Ft.current,De=as(d,De));var et=_.getDerivedStateFromProps,Mt=typeof et=="function"||typeof G.getSnapshotBeforeUpdate=="function";Mt||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(ee!==w||ve!==De)&&MR(d,G,w,De),Aa=!1;var ut=d.memoizedState;G.state=ut,xg(d,w,G,T),ve=d.memoizedState,ee!==w||ut!==ve||Bn.current||Aa?(typeof et=="function"&&(b1(d,_,et,w),ve=d.memoizedState),(ee=Aa||ER(d,_,ee,w,ut,ve,De))?(Mt||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(d.flags|=4194308)):(typeof G.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=w,d.memoizedState=ve),G.props=w,G.state=ve,G.context=De,w=ee):(typeof G.componentDidMount=="function"&&(d.flags|=4194308),w=!1)}else{G=d.stateNode,xR(h,d),ee=d.memoizedProps,De=d.type===d.elementType?ee:Is(d.type,ee),G.props=De,Mt=d.pendingProps,ut=G.context,ve=_.contextType,typeof ve=="object"&&ve!==null?ve=ls(ve):(ve=mr(_)?eo:Ft.current,ve=as(d,ve));var un=_.getDerivedStateFromProps;(et=typeof un=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(ee!==Mt||ut!==ve)&&MR(d,G,w,ve),Aa=!1,ut=d.memoizedState,G.state=ut,xg(d,w,G,T);var ot=d.memoizedState;ee!==Mt||ut!==ot||Bn.current||Aa?(typeof un=="function"&&(b1(d,_,un,w),ot=d.memoizedState),(De=Aa||ER(d,_,De,w,ut,ot,ve)||!1)?(et||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(w,ot,ve),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(w,ot,ve)),typeof G.componentDidUpdate=="function"&&(d.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof G.componentDidUpdate!="function"||ee===h.memoizedProps&&ut===h.memoizedState||(d.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||ee===h.memoizedProps&&ut===h.memoizedState||(d.flags|=1024),d.memoizedProps=w,d.memoizedState=ot),G.props=w,G.state=ot,G.context=ve,w=De):(typeof G.componentDidUpdate!="function"||ee===h.memoizedProps&&ut===h.memoizedState||(d.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||ee===h.memoizedProps&&ut===h.memoizedState||(d.flags|=1024),w=!1)}return J1(h,d,_,w,I,T)}function J1(h,d,_,w,T,I){uP(h,d);var G=(d.flags&128)!==0;if(!w&&!G)return T&&vu(d,_,!1),zo(h,d,I);w=d.stateNode,w8.current=d;var ee=G&&typeof _.getDerivedStateFromError!="function"?null:w.render();return d.flags|=1,h!==null&&G?(d.child=Eu(d,h.child,null,I),d.child=Eu(d,null,ee,I)):ai(h,d,ee,I),d.memoizedState=w.state,T&&vu(d,_,!0),d.child}function fP(h){var d=h.stateNode;d.pendingContext?to(h,d.pendingContext,d.pendingContext!==d.context):d.context&&to(h,d.context,!1),N1(h,d.containerInfo)}function dP(h,d,_,w,T){return wu(),B1(T),d.flags|=256,ai(h,d,_,w),d.child}var Ng={dehydrated:null,treeContext:null,retryLane:0};function Og(h){return{baseLanes:h,cachePool:null}}function pP(h,d,_){var w=d.pendingProps,T=Cn.current,I=!1,G=(d.flags&128)!==0,ee;if((ee=G)||(ee=h!==null&&h.memoizedState===null?!1:(T&2)!==0),ee?(I=!0,d.flags&=-129):(h===null||h.memoizedState!==null)&&(T|=1),Ze(Cn,T&1),h===null)return D1(d),h=d.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?(d.mode&1?zf(h)?d.lanes=8:d.lanes=1073741824:d.lanes=1,null):(T=w.children,h=w.fallback,I?(w=d.mode,I=d.child,T={mode:"hidden",children:T},!(w&1)&&I!==null?(I.childLanes=0,I.pendingProps=T):I=ny(T,w,0,null),h=Jl(h,w,_,null),I.return=d,h.return=d,I.sibling=h,d.child=I,d.child.memoizedState=Og(_),d.memoizedState=Ng,h):$1(d,T));if(T=h.memoizedState,T!==null){if(ee=T.dehydrated,ee!==null){if(G)return d.flags&256?(d.flags&=-257,Fg(h,d,_,Error(o(422)))):d.memoizedState!==null?(d.child=h.child,d.flags|=128,null):(I=w.fallback,T=d.mode,w=ny({mode:"visible",children:w.children},T,0,null),I=Jl(I,T,_,null),I.flags|=2,w.return=d,I.return=d,w.sibling=I,d.child=w,d.mode&1&&Eu(d,h.child,null,_),d.child.memoizedState=Og(_),d.memoizedState=Ng,I);if(!(d.mode&1))d=Fg(h,d,_,null);else if(zf(ee))d=Fg(h,d,_,Error(o(419)));else if(w=(_&h.childLanes)!==0,Ui||w){if(w=Yn,w!==null){switch(_&-_){case 4:I=2;break;case 16:I=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:I=32;break;case 536870912:I=268435456;break;default:I=0}w=I&(w.suspendedLanes|_)?0:I,w!==0&&w!==T.retryLane&&(T.retryLane=w,ds(h,w,-1))}mS(),d=Fg(h,d,_,Error(o(421)))}else Vf(ee)?(d.flags|=128,d.child=h.child,d=O8.bind(null,h),mu(ee,d),d=null):(_=T.treeContext,he&&(ki=cg(ee),Fi=d,wn=!0,Ls=null,jf=!1,_!==null&&(cs[us++]=ko,cs[us++]=Uo,cs[us++]=Vl,ko=_.id,Uo=_.overflow,Vl=d)),d=$1(d,d.pendingProps.children),d.flags|=4096);return d}return I?(w=gP(h,d,w.children,w.fallback,_),I=d.child,T=h.child.memoizedState,I.memoizedState=T===null?Og(_):{baseLanes:T.baseLanes|_,cachePool:null},I.childLanes=h.childLanes&~_,d.memoizedState=Ng,w):(_=mP(h,d,w.children,_),d.memoizedState=null,_)}return I?(w=gP(h,d,w.children,w.fallback,_),I=d.child,T=h.child.memoizedState,I.memoizedState=T===null?Og(_):{baseLanes:T.baseLanes|_,cachePool:null},I.childLanes=h.childLanes&~_,d.memoizedState=Ng,w):(_=mP(h,d,w.children,_),d.memoizedState=null,_)}function $1(h,d){return d=ny({mode:"visible",children:d},h.mode,0,null),d.return=h,h.child=d}function mP(h,d,_,w){var T=h.child;return h=T.sibling,_=ba(T,{mode:"visible",children:_}),!(d.mode&1)&&(_.lanes=w),_.return=d,_.sibling=null,h!==null&&(w=d.deletions,w===null?(d.deletions=[h],d.flags|=16):w.push(h)),d.child=_}function gP(h,d,_,w,T){var I=d.mode;h=h.child;var G=h.sibling,ee={mode:"hidden",children:_};return!(I&1)&&d.child!==h?(_=d.child,_.childLanes=0,_.pendingProps=ee,d.deletions=null):(_=ba(h,ee),_.subtreeFlags=h.subtreeFlags&14680064),G!==null?w=ba(G,w):(w=Jl(w,I,T,null),w.flags|=2),w.return=d,_.return=d,_.sibling=w,d.child=_,w}function Fg(h,d,_,w){return w!==null&&B1(w),Eu(d,h.child,null,_),h=$1(d,d.pendingProps.children),h.flags|=2,d.memoizedState=null,h}function yP(h,d,_){h.lanes|=d;var w=h.alternate;w!==null&&(w.lanes|=d),M1(h.return,d,_)}function Y1(h,d,_,w,T){var I=h.memoizedState;I===null?h.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:w,tail:_,tailMode:T}:(I.isBackwards=d,I.rendering=null,I.renderingStartTime=0,I.last=w,I.tail=_,I.tailMode=T)}function vP(h,d,_){var w=d.pendingProps,T=w.revealOrder,I=w.tail;if(ai(h,d,w.children,_),w=Cn.current,w&2)w=w&1|2,d.flags|=128;else{if(h!==null&&h.flags&128)e:for(h=d.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&yP(h,_,d);else if(h.tag===19)yP(h,_,d);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===d)break e;for(;h.sibling===null;){if(h.return===null||h.return===d)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}w&=1}if(Ze(Cn,w),!(d.mode&1))d.memoizedState=null;else switch(T){case"forwards":for(_=d.child,T=null;_!==null;)h=_.alternate,h!==null&&Tg(h)===null&&(T=_),_=_.sibling;_=T,_===null?(T=d.child,d.child=null):(T=_.sibling,_.sibling=null),Y1(d,!1,T,_,I);break;case"backwards":for(_=null,T=d.child,d.child=null;T!==null;){if(h=T.alternate,h!==null&&Tg(h)===null){d.child=T;break}h=T.sibling,T.sibling=_,_=T,T=h}Y1(d,!0,_,null,I);break;case"together":Y1(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function zo(h,d,_){if(h!==null&&(d.dependencies=h.dependencies),Ru|=d.lanes,!(_&d.childLanes))return null;if(h!==null&&d.child!==h.child)throw Error(o(153));if(d.child!==null){for(h=d.child,_=ba(h,h.pendingProps),d.child=_,_.return=d;h.sibling!==null;)h=h.sibling,_=_.sibling=ba(h,h.pendingProps),_.return=d;_.sibling=null}return d.child}function E8(h,d,_){switch(d.tag){case 3:fP(d),wu();break;case 5:BR(d);break;case 1:mr(d.type)&&br(d);break;case 4:N1(d,d.stateNode.containerInfo);break;case 10:_R(d,d.type._context,d.memoizedProps.value);break;case 13:var w=d.memoizedState;if(w!==null)return w.dehydrated!==null?(Ze(Cn,Cn.current&1),d.flags|=128,null):_&d.child.childLanes?pP(h,d,_):(Ze(Cn,Cn.current&1),h=zo(h,d,_),h!==null?h.sibling:null);Ze(Cn,Cn.current&1);break;case 19:if(w=(_&d.childLanes)!==0,h.flags&128){if(w)return vP(h,d,_);d.flags|=128}var T=d.memoizedState;if(T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),Ze(Cn,Cn.current),w)break;return null;case 22:case 23:return d.lanes=0,cP(h,d,_)}return zo(h,d,_)}function T8(h,d){switch(I1(d),d.tag){case 1:return mr(d.type)&&jn(),h=d.flags,h&65536?(d.flags=h&-65537|128,d):null;case 3:return Mu(),mt(Bn),mt(Ft),k1(),h=d.flags,h&65536&&!(h&128)?(d.flags=h&-65537|128,d):null;case 5:return O1(d),null;case 13:if(mt(Cn),h=d.memoizedState,h!==null&&h.dehydrated!==null){if(d.alternate===null)throw Error(o(340));wu()}return h=d.flags,h&65536?(d.flags=h&-65537|128,d):null;case 19:return mt(Cn),null;case 4:return Mu(),null;case 10:return T1(d.type._context),null;case 22:case 23:return pS(),null;case 24:return null;default:return null}}var kg=!1,Gl=!1,M8=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function Ug(h,d){var _=h.ref;if(_!==null)if(typeof _=="function")try{_(null)}catch(w){Ti(h,d,w)}else _.current=null}function q1(h,d,_){try{_()}catch(w){Ti(h,d,w)}}var _P=!1;function C8(h,d){for(j(h.containerInfo),Ge=d;Ge!==null;)if(h=Ge,d=h.child,(h.subtreeFlags&1028)!==0&&d!==null)d.return=h,Ge=d;else for(;Ge!==null;){h=Ge;try{var _=h.alternate;if(h.flags&1024)switch(h.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var w=_.memoizedProps,T=_.memoizedState,I=h.stateNode,G=I.getSnapshotBeforeUpdate(h.elementType===h.type?w:Is(h.type,w),T);I.__reactInternalSnapshotBeforeUpdate=G}break;case 3:oe&&Ie(h.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(ee){Ti(h,h.return,ee)}if(d=h.sibling,d!==null){d.return=h.return,Ge=d;break}Ge=h.return}return _=_P,_P=!1,_}function jl(h,d,_){var w=d.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var T=w=w.next;do{if((T.tag&h)===h){var I=T.destroy;T.destroy=void 0,I!==void 0&&q1(d,_,I)}T=T.next}while(T!==w)}}function nd(h,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var _=d=d.next;do{if((_.tag&h)===h){var w=_.create;_.destroy=w()}_=_.next}while(_!==d)}}function Q1(h){var d=h.ref;if(d!==null){var _=h.stateNode;switch(h.tag){case 5:h=Z(_);break;default:h=_}typeof d=="function"?d(h):d.current=h}}function xP(h,d,_){if(no&&typeof no.onCommitFiberUnmount=="function")try{no.onCommitFiberUnmount(pg,d)}catch{}switch(d.tag){case 0:case 11:case 14:case 15:if(h=d.updateQueue,h!==null&&(h=h.lastEffect,h!==null)){var w=h=h.next;do{var T=w,I=T.destroy;T=T.tag,I!==void 0&&(T&2||T&4)&&q1(d,_,I),w=w.next}while(w!==h)}break;case 1:if(Ug(d,_),h=d.stateNode,typeof h.componentWillUnmount=="function")try{h.props=d.memoizedProps,h.state=d.memoizedState,h.componentWillUnmount()}catch(G){Ti(d,_,G)}break;case 5:Ug(d,_);break;case 4:oe?MP(h,d,_):V&&V&&(d=d.stateNode.containerInfo,_=tt(d),Gt(d,_))}}function SP(h,d,_){for(var w=d;;)if(xP(h,w,_),w.child===null||oe&&w.tag===4){if(w===d)break;for(;w.sibling===null;){if(w.return===null||w.return===d)return;w=w.return}w.sibling.return=w.return,w=w.sibling}else w.child.return=w,w=w.child}function AP(h){var d=h.alternate;d!==null&&(h.alternate=null,AP(d)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(d=h.stateNode,d!==null&&be(d)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function wP(h){return h.tag===5||h.tag===3||h.tag===4}function EP(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||wP(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function TP(h){if(oe){e:{for(var d=h.return;d!==null;){if(wP(d))break e;d=d.return}throw Error(o(160))}var _=d;switch(_.tag){case 5:d=_.stateNode,_.flags&32&&(Te(d),_.flags&=-33),_=EP(h),eS(h,_,d);break;case 3:case 4:d=_.stateNode.containerInfo,_=EP(h),Z1(h,_,d);break;default:throw Error(o(161))}}}function Z1(h,d,_){var w=h.tag;if(w===5||w===6)h=h.stateNode,d?at(_,h,d):At(_,h);else if(w!==4&&(h=h.child,h!==null))for(Z1(h,d,_),h=h.sibling;h!==null;)Z1(h,d,_),h=h.sibling}function eS(h,d,_){var w=h.tag;if(w===5||w===6)h=h.stateNode,d?yt(_,h,d):lt(_,h);else if(w!==4&&(h=h.child,h!==null))for(eS(h,d,_),h=h.sibling;h!==null;)eS(h,d,_),h=h.sibling}function MP(h,d,_){for(var w=d,T=!1,I,G;;){if(!T){T=w.return;e:for(;;){if(T===null)throw Error(o(160));switch(I=T.stateNode,T.tag){case 5:G=!1;break e;case 3:I=I.containerInfo,G=!0;break e;case 4:I=I.containerInfo,G=!0;break e}T=T.return}T=!0}if(w.tag===5||w.tag===6)SP(h,w,_),G?Q(I,w.stateNode):Ye(I,w.stateNode);else if(w.tag===18)G?fe(I,w.stateNode):me(I,w.stateNode);else if(w.tag===4){if(w.child!==null){I=w.stateNode.containerInfo,G=!0,w.child.return=w,w=w.child;continue}}else if(xP(h,w,_),w.child!==null){w.child.return=w,w=w.child;continue}if(w===d)break;for(;w.sibling===null;){if(w.return===null||w.return===d)return;w=w.return,w.tag===4&&(T=!1)}w.sibling.return=w.return,w=w.sibling}}function tS(h,d){if(oe){switch(d.tag){case 0:case 11:case 14:case 15:jl(3,d,d.return),nd(3,d),jl(5,d,d.return);return;case 1:return;case 5:var _=d.stateNode;if(_!=null){var w=d.memoizedProps;h=h!==null?h.memoizedProps:w;var T=d.type,I=d.updateQueue;d.updateQueue=null,I!==null&&It(_,I,T,h,w,d)}return;case 6:if(d.stateNode===null)throw Error(o(162));_=d.memoizedProps,Re(d.stateNode,h!==null?h.memoizedProps:_,_);return;case 3:he&&h!==null&&h.memoizedState.isDehydrated&&se(d.stateNode.containerInfo);return;case 12:return;case 13:Vg(d);return;case 19:Vg(d);return;case 17:return}throw Error(o(163))}switch(d.tag){case 0:case 11:case 14:case 15:jl(3,d,d.return),nd(3,d),jl(5,d,d.return);return;case 12:return;case 13:Vg(d);return;case 19:Vg(d);return;case 3:he&&h!==null&&h.memoizedState.isDehydrated&&se(d.stateNode.containerInfo);break;case 22:case 23:return}e:if(V){switch(d.tag){case 1:case 5:case 6:break e;case 3:case 4:d=d.stateNode,Gt(d.containerInfo,d.pendingChildren);break e}throw Error(o(163))}}function Vg(h){var d=h.updateQueue;if(d!==null){h.updateQueue=null;var _=h.stateNode;_===null&&(_=h.stateNode=new M8),d.forEach(function(w){var T=F8.bind(null,h,w);_.has(w)||(_.add(w),w.then(T,T))})}}function b8(h,d){for(Ge=d;Ge!==null;){d=Ge;var _=d.deletions;if(_!==null)for(var w=0;w<_.length;w++){var T=_[w];try{var I=h;oe?MP(I,T,d):SP(I,T,d);var G=T.alternate;G!==null&&(G.return=null),T.return=null}catch(it){Ti(T,d,it)}}if(_=d.child,d.subtreeFlags&12854&&_!==null)_.return=d,Ge=_;else for(;Ge!==null;){d=Ge;try{var ee=d.flags;if(ee&32&&oe&&Te(d.stateNode),ee&512){var ve=d.alternate;if(ve!==null){var De=ve.ref;De!==null&&(typeof De=="function"?De(null):De.current=null)}}if(ee&8192)switch(d.tag){case 13:if(d.memoizedState!==null){var et=d.alternate;(et===null||et.memoizedState===null)&&(lS=gr())}break;case 22:var Mt=d.memoizedState!==null,ut=d.alternate,un=ut!==null&&ut.memoizedState!==null;if(_=d,oe){e:if(w=_,T=Mt,I=null,oe)for(var ot=w;;){if(ot.tag===5){if(I===null){I=ot;var jr=ot.stateNode;T?He(jr):vt(ot.stateNode,ot.memoizedProps)}}else if(ot.tag===6){if(I===null){var ms=ot.stateNode;T?Je(ms):X(ms,ot.memoizedProps)}}else if((ot.tag!==22&&ot.tag!==23||ot.memoizedState===null||ot===w)&&ot.child!==null){ot.child.return=ot,ot=ot.child;continue}if(ot===w)break;for(;ot.sibling===null;){if(ot.return===null||ot.return===w)break e;I===ot&&(I=null),ot=ot.return}I===ot&&(I=null),ot.sibling.return=ot.return,ot=ot.sibling}}if(Mt&&!un&&_.mode&1){Ge=_;for(var ue=_.child;ue!==null;){for(_=Ge=ue;Ge!==null;){w=Ge;var re=w.child;switch(w.tag){case 0:case 11:case 14:case 15:jl(4,w,w.return);break;case 1:Ug(w,w.return);var ge=w.stateNode;if(typeof ge.componentWillUnmount=="function"){var Xe=w.return;try{ge.props=w.memoizedProps,ge.state=w.memoizedState,ge.componentWillUnmount()}catch(it){Ti(w,Xe,it)}}break;case 5:Ug(w,w.return);break;case 22:if(w.memoizedState!==null){RP(_);continue}}re!==null?(re.return=w,Ge=re):RP(_)}ue=ue.sibling}}}switch(ee&4102){case 2:TP(d),d.flags&=-3;break;case 6:TP(d),d.flags&=-3,tS(d.alternate,d);break;case 4096:d.flags&=-4097;break;case 4100:d.flags&=-4097,tS(d.alternate,d);break;case 4:tS(d.alternate,d)}}catch(it){Ti(d,d.return,it)}if(_=d.sibling,_!==null){_.return=d.return,Ge=_;break}Ge=d.return}}}function R8(h,d,_){Ge=h,CP(h)}function CP(h,d,_){for(var w=(h.mode&1)!==0;Ge!==null;){var T=Ge,I=T.child;if(T.tag===22&&w){var G=T.memoizedState!==null||kg;if(!G){var ee=T.alternate,ve=ee!==null&&ee.memoizedState!==null||Gl;ee=kg;var De=Gl;if(kg=G,(Gl=ve)&&!De)for(Ge=T;Ge!==null;)G=Ge,ve=G.child,G.tag===22&&G.memoizedState!==null?PP(T):ve!==null?(ve.return=G,Ge=ve):PP(T);for(;I!==null;)Ge=I,CP(I),I=I.sibling;Ge=T,kg=ee,Gl=De}bP(h)}else T.subtreeFlags&8772&&I!==null?(I.return=T,Ge=I):bP(h)}}function bP(h){for(;Ge!==null;){var d=Ge;if(d.flags&8772){var _=d.alternate;try{if(d.flags&8772)switch(d.tag){case 0:case 11:case 15:Gl||nd(5,d);break;case 1:var w=d.stateNode;if(d.flags&4&&!Gl)if(_===null)w.componentDidMount();else{var T=d.elementType===d.type?_.memoizedProps:Is(d.type,_.memoizedProps);w.componentDidUpdate(T,_.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var I=d.updateQueue;I!==null&&AR(d,I,w);break;case 3:var G=d.updateQueue;if(G!==null){if(_=null,d.child!==null)switch(d.child.tag){case 5:_=Z(d.child.stateNode);break;case 1:_=d.child.stateNode}AR(d,G,_)}break;case 5:var ee=d.stateNode;_===null&&d.flags&4&&zt(ee,d.type,d.memoizedProps,d);break;case 6:break;case 4:break;case 12:break;case 13:if(he&&d.memoizedState===null){var ve=d.alternate;if(ve!==null){var De=ve.memoizedState;if(De!==null){var et=De.dehydrated;et!==null&&pe(et)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}Gl||d.flags&512&&Q1(d)}catch(Mt){Ti(d,d.return,Mt)}}if(d===h){Ge=null;break}if(_=d.sibling,_!==null){_.return=d.return,Ge=_;break}Ge=d.return}}function RP(h){for(;Ge!==null;){var d=Ge;if(d===h){Ge=null;break}var _=d.sibling;if(_!==null){_.return=d.return,Ge=_;break}Ge=d.return}}function PP(h){for(;Ge!==null;){var d=Ge;try{switch(d.tag){case 0:case 11:case 15:var _=d.return;try{nd(4,d)}catch(ve){Ti(d,_,ve)}break;case 1:var w=d.stateNode;if(typeof w.componentDidMount=="function"){var T=d.return;try{w.componentDidMount()}catch(ve){Ti(d,T,ve)}}var I=d.return;try{Q1(d)}catch(ve){Ti(d,I,ve)}break;case 5:var G=d.return;try{Q1(d)}catch(ve){Ti(d,G,ve)}}}catch(ve){Ti(d,d.return,ve)}if(d===h){Ge=null;break}var ee=d.sibling;if(ee!==null){ee.return=d.return,Ge=ee;break}Ge=d.return}}var zg=0,Hg=1,Gg=2,jg=3,Wg=4;if(typeof Symbol=="function"&&Symbol.for){var rd=Symbol.for;zg=rd("selector.component"),Hg=rd("selector.has_pseudo_class"),Gg=rd("selector.role"),jg=rd("selector.test_id"),Wg=rd("selector.text")}function nS(h){var d=ie(h);if(d!=null){if(typeof d.memoizedProps["data-testname"]!="string")throw Error(o(364));return d}if(h=J(h),h===null)throw Error(o(362));return h.stateNode.current}function rS(h,d){switch(d.$$typeof){case zg:if(h.type===d.value)return!0;break;case Hg:e:{d=d.value,h=[h,0];for(var _=0;_<h.length;){var w=h[_++],T=h[_++],I=d[T];if(w.tag!==5||!we(w)){for(;I!=null&&rS(w,I);)T++,I=d[T];if(T===d.length){d=!0;break e}else for(w=w.child;w!==null;)h.push(w,T),w=w.sibling}}d=!1}return d;case Gg:if(h.tag===5&&qe(h.stateNode,d.value))return!0;break;case Wg:if((h.tag===5||h.tag===6)&&(h=Se(h),h!==null&&0<=h.indexOf(d.value)))return!0;break;case jg:if(h.tag===5&&(h=h.memoizedProps["data-testname"],typeof h=="string"&&h.toLowerCase()===d.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function iS(h){switch(h.$$typeof){case zg:return"<"+(P(h.value)||"Unknown")+">";case Hg:return":has("+(iS(h)||"")+")";case Gg:return'[role="'+h.value+'"]';case Wg:return'"'+h.value+'"';case jg:return'[data-testname="'+h.value+'"]';default:throw Error(o(365))}}function IP(h,d){var _=[];h=[h,0];for(var w=0;w<h.length;){var T=h[w++],I=h[w++],G=d[I];if(T.tag!==5||!we(T)){for(;G!=null&&rS(T,G);)I++,G=d[I];if(I===d.length)_.push(T);else for(T=T.child;T!==null;)h.push(T,I),T=T.sibling}}return _}function sS(h,d){if(!B)throw Error(o(363));h=nS(h),h=IP(h,d),d=[],h=Array.from(h);for(var _=0;_<h.length;){var w=h[_++];if(w.tag===5)we(w)||d.push(w.stateNode);else for(w=w.child;w!==null;)h.push(w),w=w.sibling}return d}var P8=Math.ceil,Xg=a.ReactCurrentDispatcher,oS=a.ReactCurrentOwner,Wn=a.ReactCurrentBatchConfig,kt=0,Yn=null,qn=null,Rr=0,Vi=0,bu=pr(0),or=0,id=null,Ru=0,Kg=0,aS=0,sd=null,wi=null,lS=0,cS=1/0;function Pu(){cS=gr()+500}var Jg=!1,uS=null,Ea=null,$g=!1,Ta=null,Yg=0,od=0,hS=null,qg=-1,Qg=0;function li(){return kt&6?gr():qg!==-1?qg:qg=gr()}function Ma(h){return h.mode&1?kt&2&&Rr!==0?Rr&-Rr:f8.transition!==null?(Qg===0&&(h=hg,hg<<=1,!(hg&4194240)&&(hg=64),Qg=h),Qg):(h=Zt,h!==0?h:le()):1}function ds(h,d,_){if(50<od)throw od=0,hS=null,Error(o(185));var w=Zg(h,d);return w===null?null:(Gf(w,d,_),(!(kt&2)||w!==Yn)&&(w===Yn&&(!(kt&2)&&(Kg|=d),or===4&&Ca(w,Rr)),Ei(w,_),d===1&&kt===0&&!(h.mode&1)&&(Pu(),mg&&io())),w)}function Zg(h,d){h.lanes|=d;var _=h.alternate;for(_!==null&&(_.lanes|=d),_=h,h=h.return;h!==null;)h.childLanes|=d,_=h.alternate,_!==null&&(_.childLanes|=d),_=h,h=h.return;return _.tag===3?_.stateNode:null}function Ei(h,d){var _=h.callbackNode;r8(h,d);var w=dg(h,h===Yn?Rr:0);if(w===0)_!==null&&yR(_),h.callbackNode=null,h.callbackPriority=0;else if(d=w&-w,h.callbackPriority!==d){if(_!=null&&yR(_),d===1)h.tag===0?h8(DP.bind(null,h)):vR(DP.bind(null,h)),Ee?F(function(){kt===0&&io()}):_1(x1,io),_=null;else{switch(gR(w)){case 1:_=x1;break;case 4:_=a8;break;case 16:_=S1;break;case 536870912:_=l8;break;default:_=S1}_=HP(_,LP.bind(null,h))}h.callbackPriority=d,h.callbackNode=_}}function LP(h,d){if(qg=-1,Qg=0,kt&6)throw Error(o(327));var _=h.callbackNode;if(Kl()&&h.callbackNode!==_)return null;var w=dg(h,h===Yn?Rr:0);if(w===0)return null;if(w&30||w&h.expiredLanes||d)d=ey(h,w);else{d=w;var T=kt;kt|=2;var I=OP();(Yn!==h||Rr!==d)&&(Pu(),Wl(h,d));do try{D8();break}catch(ee){NP(h,ee)}while(!0);E1(),Xg.current=I,kt=T,qn!==null?d=0:(Yn=null,Rr=0,d=or)}if(d!==0){if(d===2&&(T=g1(h),T!==0&&(w=T,d=fS(h,T))),d===1)throw _=id,Wl(h,0),Ca(h,w),Ei(h,gr()),_;if(d===6)Ca(h,w);else{if(T=h.current.alternate,!(w&30)&&!I8(T)&&(d=ey(h,w),d===2&&(I=g1(h),I!==0&&(w=I,d=fS(h,I))),d===1))throw _=id,Wl(h,0),Ca(h,w),Ei(h,gr()),_;switch(h.finishedWork=T,h.finishedLanes=w,d){case 0:case 1:throw Error(o(345));case 2:Xl(h,wi);break;case 3:if(Ca(h,w),(w&130023424)===w&&(d=lS+500-gr(),10<d)){if(dg(h,0)!==0)break;if(T=h.suspendedLanes,(T&w)!==w){li(),h.pingedLanes|=h.suspendedLanes&T;break}h.timeoutHandle=Pe(Xl.bind(null,h,wi),d);break}Xl(h,wi);break;case 4:if(Ca(h,w),(w&4194240)===w)break;for(d=h.eventTimes,T=-1;0<w;){var G=31-Oi(w);I=1<<G,G=d[G],G>T&&(T=G),w&=~I}if(w=T,w=gr()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*P8(w/1960))-w,10<w){h.timeoutHandle=Pe(Xl.bind(null,h,wi),w);break}Xl(h,wi);break;case 5:Xl(h,wi);break;default:throw Error(o(329))}}}return Ei(h,gr()),h.callbackNode===_?LP.bind(null,h):null}function fS(h,d){var _=sd;return h.current.memoizedState.isDehydrated&&(Wl(h,d).flags|=256),h=ey(h,d),h!==2&&(d=wi,wi=_,d!==null&&dS(d)),h}function dS(h){wi===null?wi=h:wi.push.apply(wi,h)}function I8(h){for(var d=h;;){if(d.flags&16384){var _=d.updateQueue;if(_!==null&&(_=_.stores,_!==null))for(var w=0;w<_.length;w++){var T=_[w],I=T.getSnapshot;T=T.value;try{if(!ro(I(),T))return!1}catch{return!1}}}if(_=d.child,d.subtreeFlags&16384&&_!==null)_.return=d,d=_;else{if(d===h)break;for(;d.sibling===null;){if(d.return===null||d.return===h)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Ca(h,d){for(d&=~aS,d&=~Kg,h.suspendedLanes|=d,h.pingedLanes&=~d,h=h.expirationTimes;0<d;){var _=31-Oi(d),w=1<<_;h[_]=-1,d&=~w}}function DP(h){if(kt&6)throw Error(o(327));Kl();var d=dg(h,0);if(!(d&1))return Ei(h,gr()),null;var _=ey(h,d);if(h.tag!==0&&_===2){var w=g1(h);w!==0&&(d=w,_=fS(h,w))}if(_===1)throw _=id,Wl(h,0),Ca(h,d),Ei(h,gr()),_;if(_===6)throw Error(o(345));return h.finishedWork=h.current.alternate,h.finishedLanes=d,Xl(h,wi),Ei(h,gr()),null}function BP(h){Ta!==null&&Ta.tag===0&&!(kt&6)&&Kl();var d=kt;kt|=1;var _=Wn.transition,w=Zt;try{if(Wn.transition=null,Zt=1,h)return h()}finally{Zt=w,Wn.transition=_,kt=d,!(kt&6)&&io()}}function pS(){Vi=bu.current,mt(bu)}function Wl(h,d){h.finishedWork=null,h.finishedLanes=0;var _=h.timeoutHandle;if(_!==ke&&(h.timeoutHandle=ke,Ke(_)),qn!==null)for(_=qn.return;_!==null;){var w=_;switch(I1(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&jn();break;case 3:Mu(),mt(Bn),mt(Ft),k1();break;case 5:O1(w);break;case 4:Mu();break;case 13:mt(Cn);break;case 19:mt(Cn);break;case 10:T1(w.type._context);break;case 22:case 23:pS()}_=_.return}if(Yn=h,qn=h=ba(h.current,null),Rr=Vi=d,or=0,id=null,aS=Kg=Ru=0,wi=sd=null,so!==null){for(d=0;d<so.length;d++)if(_=so[d],w=_.interleaved,w!==null){_.interleaved=null;var T=w.next,I=_.pending;if(I!==null){var G=I.next;I.next=T,w.next=G}_.pending=w}so=null}return h}function NP(h,d){do{var _=qn;try{if(E1(),Mg.current=Lg,Cg){for(var w=Nn.memoizedState;w!==null;){var T=w.queue;T!==null&&(T.pending=null),w=w.next}Cg=!1}if(Cu=0,yr=zr=Nn=null,$f=!1,Yf=0,oS.current=null,_===null||_.return===null){or=1,id=d,qn=null;break}e:{var I=h,G=_.return,ee=_,ve=d;if(d=Rr,ee.flags|=32768,ve!==null&&typeof ve=="object"&&typeof ve.then=="function"){var De=ve,et=ee,Mt=et.tag;if(!(et.mode&1)&&(Mt===0||Mt===11||Mt===15)){var ut=et.alternate;ut?(et.updateQueue=ut.updateQueue,et.memoizedState=ut.memoizedState,et.lanes=ut.lanes):(et.updateQueue=null,et.memoizedState=null)}var un=nP(G);if(un!==null){un.flags&=-257,rP(un,G,ee,I,d),un.mode&1&&tP(I,De,d),d=un,ve=De;var ot=d.updateQueue;if(ot===null){var jr=new Set;jr.add(ve),d.updateQueue=jr}else ot.add(ve);break e}else{if(!(d&1)){tP(I,De,d),mS();break e}ve=Error(o(426))}}else if(wn&&ee.mode&1){var ms=nP(G);if(ms!==null){!(ms.flags&65536)&&(ms.flags|=256),rP(ms,G,ee,I,d),B1(ve);break e}}I=ve,or!==4&&(or=2),sd===null?sd=[I]:sd.push(I),ve=W1(ve,ee),ee=G;do{switch(ee.tag){case 3:ee.flags|=65536,d&=-d,ee.lanes|=d;var ue=ZR(ee,ve,d);SR(ee,ue);break e;case 1:I=ve;var re=ee.type,ge=ee.stateNode;if(!(ee.flags&128)&&(typeof re.getDerivedStateFromError=="function"||ge!==null&&typeof ge.componentDidCatch=="function"&&(Ea===null||!Ea.has(ge)))){ee.flags|=65536,d&=-d,ee.lanes|=d;var Xe=eP(ee,I,d);SR(ee,Xe);break e}}ee=ee.return}while(ee!==null)}kP(_)}catch(it){d=it,qn===_&&_!==null&&(qn=_=_.return);continue}break}while(!0)}function OP(){var h=Xg.current;return Xg.current=Lg,h===null?Lg:h}function mS(){(or===0||or===3||or===2)&&(or=4),Yn===null||!(Ru&268435455)&&!(Kg&268435455)||Ca(Yn,Rr)}function ey(h,d){var _=kt;kt|=2;var w=OP();Yn===h&&Rr===d||Wl(h,d);do try{L8();break}catch(T){NP(h,T)}while(!0);if(E1(),kt=_,Xg.current=w,qn!==null)throw Error(o(261));return Yn=null,Rr=0,or}function L8(){for(;qn!==null;)FP(qn)}function D8(){for(;qn!==null&&!s8();)FP(qn)}function FP(h){var d=zP(h.alternate,h,Vi);h.memoizedProps=h.pendingProps,d===null?kP(h):qn=d,oS.current=null}function kP(h){var d=h;do{var _=d.alternate;if(h=d.return,d.flags&32768){if(_=T8(_,d),_!==null){_.flags&=32767,qn=_;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{or=6,qn=null;return}}else if(_=A8(_,d,Vi),_!==null){qn=_;return}if(d=d.sibling,d!==null){qn=d;return}qn=d=h}while(d!==null);or===0&&(or=5)}function Xl(h,d){var _=Zt,w=Wn.transition;try{Wn.transition=null,Zt=1,B8(h,d,_)}finally{Wn.transition=w,Zt=_}return null}function B8(h,d,_){do Kl();while(Ta!==null);if(kt&6)throw Error(o(327));var w=h.finishedWork,T=h.finishedLanes;if(w===null)return null;if(h.finishedWork=null,h.finishedLanes=0,w===h.current)throw Error(o(177));h.callbackNode=null,h.callbackPriority=0;var I=w.lanes|w.childLanes;if(i8(h,I),h===Yn&&(qn=Yn=null,Rr=0),!(w.subtreeFlags&2064)&&!(w.flags&2064)||$g||($g=!0,HP(S1,function(){return Kl(),null})),I=(w.flags&15990)!==0,w.subtreeFlags&15990||I){I=Wn.transition,Wn.transition=null;var G=Zt;Zt=1;var ee=kt;kt|=4,oS.current=null,C8(h,w),b8(h,w),K(h.containerInfo),h.current=w,R8(w),o8(),kt=ee,Zt=G,Wn.transition=I}else h.current=w;if($g&&($g=!1,Ta=h,Yg=T),I=h.pendingLanes,I===0&&(Ea=null),c8(w.stateNode),Ei(h,gr()),d!==null)for(_=h.onRecoverableError,w=0;w<d.length;w++)_(d[w]);if(Jg)throw Jg=!1,h=uS,uS=null,h;return Yg&1&&h.tag!==0&&Kl(),I=h.pendingLanes,I&1?h===hS?od++:(od=0,hS=h):od=0,io(),null}function Kl(){if(Ta!==null){var h=gR(Yg),d=Wn.transition,_=Zt;try{if(Wn.transition=null,Zt=16>h?16:h,Ta===null)var w=!1;else{if(h=Ta,Ta=null,Yg=0,kt&6)throw Error(o(331));var T=kt;for(kt|=4,Ge=h.current;Ge!==null;){var I=Ge,G=I.child;if(Ge.flags&16){var ee=I.deletions;if(ee!==null){for(var ve=0;ve<ee.length;ve++){var De=ee[ve];for(Ge=De;Ge!==null;){var et=Ge;switch(et.tag){case 0:case 11:case 15:jl(8,et,I)}var Mt=et.child;if(Mt!==null)Mt.return=et,Ge=Mt;else for(;Ge!==null;){et=Ge;var ut=et.sibling,un=et.return;if(AP(et),et===De){Ge=null;break}if(ut!==null){ut.return=un,Ge=ut;break}Ge=un}}}var ot=I.alternate;if(ot!==null){var jr=ot.child;if(jr!==null){ot.child=null;do{var ms=jr.sibling;jr.sibling=null,jr=ms}while(jr!==null)}}Ge=I}}if(I.subtreeFlags&2064&&G!==null)G.return=I,Ge=G;else e:for(;Ge!==null;){if(I=Ge,I.flags&2048)switch(I.tag){case 0:case 11:case 15:jl(9,I,I.return)}var ue=I.sibling;if(ue!==null){ue.return=I.return,Ge=ue;break e}Ge=I.return}}var re=h.current;for(Ge=re;Ge!==null;){G=Ge;var ge=G.child;if(G.subtreeFlags&2064&&ge!==null)ge.return=G,Ge=ge;else e:for(G=re;Ge!==null;){if(ee=Ge,ee.flags&2048)try{switch(ee.tag){case 0:case 11:case 15:nd(9,ee)}}catch(it){Ti(ee,ee.return,it)}if(ee===G){Ge=null;break e}var Xe=ee.sibling;if(Xe!==null){Xe.return=ee.return,Ge=Xe;break e}Ge=ee.return}}if(kt=T,io(),no&&typeof no.onPostCommitFiberRoot=="function")try{no.onPostCommitFiberRoot(pg,h)}catch{}w=!0}return w}finally{Zt=_,Wn.transition=d}}return!1}function UP(h,d,_){d=W1(_,d),d=ZR(h,d,1),wa(h,d),d=li(),h=Zg(h,1),h!==null&&(Gf(h,1,d),Ei(h,d))}function Ti(h,d,_){if(h.tag===3)UP(h,h,_);else for(;d!==null;){if(d.tag===3){UP(d,h,_);break}else if(d.tag===1){var w=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(Ea===null||!Ea.has(w))){h=W1(_,h),h=eP(d,h,1),wa(d,h),h=li(),d=Zg(d,1),d!==null&&(Gf(d,1,h),Ei(d,h));break}}d=d.return}}function N8(h,d,_){var w=h.pingCache;w!==null&&w.delete(d),d=li(),h.pingedLanes|=h.suspendedLanes&_,Yn===h&&(Rr&_)===_&&(or===4||or===3&&(Rr&130023424)===Rr&&500>gr()-lS?Wl(h,0):aS|=_),Ei(h,d)}function VP(h,d){d===0&&(h.mode&1?(d=fg,fg<<=1,!(fg&130023424)&&(fg=4194304)):d=1);var _=li();h=Zg(h,d),h!==null&&(Gf(h,d,_),Ei(h,_))}function O8(h){var d=h.memoizedState,_=0;d!==null&&(_=d.retryLane),VP(h,_)}function F8(h,d){var _=0;switch(h.tag){case 13:var w=h.stateNode,T=h.memoizedState;T!==null&&(_=T.retryLane);break;case 19:w=h.stateNode;break;default:throw Error(o(314))}w!==null&&w.delete(d),VP(h,_)}var zP;zP=function(h,d,_){if(h!==null)if(h.memoizedProps!==d.pendingProps||Bn.current)Ui=!0;else{if(!(h.lanes&_)&&!(d.flags&128))return Ui=!1,E8(h,d,_);Ui=!!(h.flags&131072)}else Ui=!1,wn&&d.flags&1048576&&CR(d,wg,d.index);switch(d.lanes=0,d.tag){case 2:var w=d.type;h!==null&&(h.alternate=null,d.alternate=null,d.flags|=2),h=d.pendingProps;var T=as(d,Ft.current);xu(d,_),T=V1(null,d,w,h,T,_);var I=z1();return d.flags|=1,typeof T=="object"&&T!==null&&typeof T.render=="function"&&T.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,mr(w)?(I=!0,br(d)):I=!1,d.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,C1(d),T.updater=Sg,d.stateNode=T,T._reactInternals=d,R1(d,w,h,_),d=J1(null,d,w,!0,I,_)):(d.tag=0,wn&&I&&P1(d),ai(null,d,T,_),d=d.child),d;case 16:w=d.elementType;e:{switch(h!==null&&(h.alternate=null,d.alternate=null,d.flags|=2),h=d.pendingProps,T=w._init,w=T(w._payload),d.type=w,T=d.tag=U8(w),h=Is(w,h),T){case 0:d=K1(null,d,w,h,_);break e;case 1:d=hP(null,d,w,h,_);break e;case 11:d=oP(null,d,w,h,_);break e;case 14:d=aP(null,d,w,Is(w.type,h),_);break e}throw Error(o(306,w,""))}return d;case 0:return w=d.type,T=d.pendingProps,T=d.elementType===w?T:Is(w,T),K1(h,d,w,T,_);case 1:return w=d.type,T=d.pendingProps,T=d.elementType===w?T:Is(w,T),hP(h,d,w,T,_);case 3:e:{if(fP(d),h===null)throw Error(o(387));w=d.pendingProps,I=d.memoizedState,T=I.element,xR(h,d),xg(d,w,null,_);var G=d.memoizedState;if(w=G.element,he&&I.isDehydrated)if(I={element:w,isDehydrated:!1,cache:G.cache,transitions:G.transitions},d.updateQueue.baseState=I,d.memoizedState=I,d.flags&256){T=Error(o(423)),d=dP(h,d,w,_,T);break e}else if(w!==T){T=Error(o(424)),d=dP(h,d,w,_,T);break e}else for(he&&(ki=lg(d.stateNode.containerInfo),Fi=d,wn=!0,Ls=null,jf=!1),_=DR(d,null,w,_),d.child=_;_;)_.flags=_.flags&-3|4096,_=_.sibling;else{if(wu(),w===T){d=zo(h,d,_);break e}ai(h,d,w,_)}d=d.child}return d;case 5:return BR(d),h===null&&D1(d),w=d.type,T=d.pendingProps,I=h!==null?h.memoizedProps:null,G=T.children,de(w,T)?G=null:I!==null&&de(w,I)&&(d.flags|=32),uP(h,d),ai(h,d,G,_),d.child;case 6:return h===null&&D1(d),null;case 13:return pP(h,d,_);case 4:return N1(d,d.stateNode.containerInfo),w=d.pendingProps,h===null?d.child=Eu(d,null,w,_):ai(h,d,w,_),d.child;case 11:return w=d.type,T=d.pendingProps,T=d.elementType===w?T:Is(w,T),oP(h,d,w,T,_);case 7:return ai(h,d,d.pendingProps,_),d.child;case 8:return ai(h,d,d.pendingProps.children,_),d.child;case 12:return ai(h,d,d.pendingProps.children,_),d.child;case 10:e:{if(w=d.type._context,T=d.pendingProps,I=d.memoizedProps,G=T.value,_R(d,w,G),I!==null)if(ro(I.value,G)){if(I.children===T.children&&!Bn.current){d=zo(h,d,_);break e}}else for(I=d.child,I!==null&&(I.return=d);I!==null;){var ee=I.dependencies;if(ee!==null){G=I.child;for(var ve=ee.firstContext;ve!==null;){if(ve.context===w){if(I.tag===1){ve=Fo(-1,_&-_),ve.tag=2;var De=I.updateQueue;if(De!==null){De=De.shared;var et=De.pending;et===null?ve.next=ve:(ve.next=et.next,et.next=ve),De.pending=ve}}I.lanes|=_,ve=I.alternate,ve!==null&&(ve.lanes|=_),M1(I.return,_,d),ee.lanes|=_;break}ve=ve.next}}else if(I.tag===10)G=I.type===d.type?null:I.child;else if(I.tag===18){if(G=I.return,G===null)throw Error(o(341));G.lanes|=_,ee=G.alternate,ee!==null&&(ee.lanes|=_),M1(G,_,d),G=I.sibling}else G=I.child;if(G!==null)G.return=I;else for(G=I;G!==null;){if(G===d){G=null;break}if(I=G.sibling,I!==null){I.return=G.return,G=I;break}G=G.return}I=G}ai(h,d,T.children,_),d=d.child}return d;case 9:return T=d.type,w=d.pendingProps.children,xu(d,_),T=ls(T),w=w(T),d.flags|=1,ai(h,d,w,_),d.child;case 14:return w=d.type,T=Is(w,d.pendingProps),T=Is(w.type,T),aP(h,d,w,T,_);case 15:return lP(h,d,d.type,d.pendingProps,_);case 17:return w=d.type,T=d.pendingProps,T=d.elementType===w?T:Is(w,T),h!==null&&(h.alternate=null,d.alternate=null,d.flags|=2),d.tag=1,mr(w)?(h=!0,br(d)):h=!1,xu(d,_),TR(d,w,T),R1(d,w,T,_),J1(null,d,w,!0,h,_);case 19:return vP(h,d,_);case 22:return cP(h,d,_)}throw Error(o(156,d.tag))};function HP(h,d){return _1(h,d)}function k8(h,d,_,w){this.tag=h,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ps(h,d,_,w){return new k8(h,d,_,w)}function gS(h){return h=h.prototype,!(!h||!h.isReactComponent)}function U8(h){if(typeof h=="function")return gS(h)?1:0;if(h!=null){if(h=h.$$typeof,h===S)return 11;if(h===x)return 14}return 2}function ba(h,d){var _=h.alternate;return _===null?(_=ps(h.tag,d,h.key,h.mode),_.elementType=h.elementType,_.type=h.type,_.stateNode=h.stateNode,_.alternate=h,h.alternate=_):(_.pendingProps=d,_.type=h.type,_.flags=0,_.subtreeFlags=0,_.deletions=null),_.flags=h.flags&14680064,_.childLanes=h.childLanes,_.lanes=h.lanes,_.child=h.child,_.memoizedProps=h.memoizedProps,_.memoizedState=h.memoizedState,_.updateQueue=h.updateQueue,d=h.dependencies,_.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},_.sibling=h.sibling,_.index=h.index,_.ref=h.ref,_}function ty(h,d,_,w,T,I){var G=2;if(w=h,typeof h=="function")gS(h)&&(G=1);else if(typeof h=="string")G=5;else e:switch(h){case u:return Jl(_.children,T,I,d);case f:G=8,T|=8;break;case p:return h=ps(12,_,d,T|2),h.elementType=p,h.lanes=I,h;case v:return h=ps(13,_,d,T),h.elementType=v,h.lanes=I,h;case g:return h=ps(19,_,d,T),h.elementType=g,h.lanes=I,h;case E:return ny(_,T,I,d);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case m:G=10;break e;case y:G=9;break e;case S:G=11;break e;case x:G=14;break e;case A:G=16,w=null;break e}throw Error(o(130,h==null?h:typeof h,""))}return d=ps(G,_,d,T),d.elementType=h,d.type=w,d.lanes=I,d}function Jl(h,d,_,w){return h=ps(7,h,w,d),h.lanes=_,h}function ny(h,d,_,w){return h=ps(22,h,w,d),h.elementType=E,h.lanes=_,h.stateNode={},h}function yS(h,d,_){return h=ps(6,h,null,d),h.lanes=_,h}function vS(h,d,_){return d=ps(4,h.children!==null?h.children:[],h.key,d),d.lanes=_,d.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},d}function V8(h,d,_,w,T){this.tag=d,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ke,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=y1(0),this.expirationTimes=y1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=y1(0),this.identifierPrefix=w,this.onRecoverableError=T,he&&(this.mutableSourceEagerHydrationData=null)}function GP(h,d,_,w,T,I,G,ee,ve){return h=new V8(h,d,_,ee,ve),d===1?(d=1,I===!0&&(d|=8)):d=0,I=ps(3,null,null,d),h.current=I,I.stateNode=h,I.memoizedState={element:w,isDehydrated:_,cache:null,transitions:null},C1(I),h}function jP(h){if(!h)return os;h=h._reactInternals;e:{if(N(h)!==h||h.tag!==1)throw Error(o(170));var d=h;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(mr(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(o(171))}if(h.tag===1){var _=h.type;if(mr(_))return yu(h,_,d)}return d}function WP(h){var d=h._reactInternals;if(d===void 0)throw typeof h.render=="function"?Error(o(188)):(h=Object.keys(h).join(","),Error(o(268,h)));return h=z(d),h===null?null:h.stateNode}function XP(h,d){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var _=h.retryLane;h.retryLane=_!==0&&_<d?_:d}}function _S(h,d){XP(h,d),(h=h.alternate)&&XP(h,d)}function z8(h){return h=z(h),h===null?null:h.stateNode}function H8(){return null}return t.attemptContinuousHydration=function(h){if(h.tag===13){var d=li();ds(h,134217728,d),_S(h,134217728)}},t.attemptHydrationAtCurrentPriority=function(h){if(h.tag===13){var d=li(),_=Ma(h);ds(h,_,d),_S(h,_)}},t.attemptSynchronousHydration=function(h){switch(h.tag){case 3:var d=h.stateNode;if(d.current.memoizedState.isDehydrated){var _=Hf(d.pendingLanes);_!==0&&(v1(d,_|1),Ei(d,gr()),!(kt&6)&&(Pu(),io()))}break;case 13:var w=li();BP(function(){return ds(h,1,w)}),_S(h,1)}},t.batchedUpdates=function(h,d){var _=kt;kt|=1;try{return h(d)}finally{kt=_,kt===0&&(Pu(),mg&&io())}},t.createComponentSelector=function(h){return{$$typeof:zg,value:h}},t.createContainer=function(h,d,_,w,T,I,G){return GP(h,d,!1,null,_,w,T,I,G)},t.createHasPseudoClassSelector=function(h){return{$$typeof:Hg,value:h}},t.createHydrationContainer=function(h,d,_,w,T,I,G,ee,ve){return h=GP(_,w,!0,h,T,I,G,ee,ve),h.context=jP(null),_=h.current,w=li(),T=Ma(_),I=Fo(w,T),I.callback=d??null,wa(_,I),h.current.lanes=T,Gf(h,T,w),Ei(h,w),h},t.createPortal=function(h,d,_){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:w==null?null:""+w,children:h,containerInfo:d,implementation:_}},t.createRoleSelector=function(h){return{$$typeof:Gg,value:h}},t.createTestNameSelector=function(h){return{$$typeof:jg,value:h}},t.createTextSelector=function(h){return{$$typeof:Wg,value:h}},t.deferredUpdates=function(h){var d=Zt,_=Wn.transition;try{return Wn.transition=null,Zt=16,h()}finally{Zt=d,Wn.transition=_}},t.discreteUpdates=function(h,d,_,w,T){var I=Zt,G=Wn.transition;try{return Wn.transition=null,Zt=1,h(d,_,w,T)}finally{Zt=I,Wn.transition=G,kt===0&&Pu()}},t.findAllNodes=sS,t.findBoundingRects=function(h,d){if(!B)throw Error(o(363));d=sS(h,d),h=[];for(var _=0;_<d.length;_++)h.push(xe(d[_]));for(d=h.length-1;0<d;d--){_=h[d];for(var w=_.x,T=w+_.width,I=_.y,G=I+_.height,ee=d-1;0<=ee;ee--)if(d!==ee){var ve=h[ee],De=ve.x,et=De+ve.width,Mt=ve.y,ut=Mt+ve.height;if(w>=De&&I>=Mt&&T<=et&&G<=ut){h.splice(d,1);break}else if(w!==De||_.width!==ve.width||ut<I||Mt>G){if(!(I!==Mt||_.height!==ve.height||et<w||De>T)){De>w&&(ve.width+=De-w,ve.x=w),et<T&&(ve.width=T-De),h.splice(d,1);break}}else{Mt>I&&(ve.height+=Mt-I,ve.y=I),ut<G&&(ve.height=G-Mt),h.splice(d,1);break}}}return h},t.findHostInstance=WP,t.findHostInstanceWithNoPortals=function(h){return h=D(h),h=h!==null?H(h):null,h===null?null:h.stateNode},t.findHostInstanceWithWarning=function(h){return WP(h)},t.flushControlled=function(h){var d=kt;kt|=1;var _=Wn.transition,w=Zt;try{Wn.transition=null,Zt=1,h()}finally{Zt=w,Wn.transition=_,kt=d,kt===0&&(Pu(),io())}},t.flushPassiveEffects=Kl,t.flushSync=BP,t.focusWithin=function(h,d){if(!B)throw Error(o(363));for(h=nS(h),d=IP(h,d),d=Array.from(d),h=0;h<d.length;){var _=d[h++];if(!we(_)){if(_.tag===5&&Ne(_.stateNode))return!0;for(_=_.child;_!==null;)d.push(_),_=_.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Zt},t.getFindAllNodesFailureDescription=function(h,d){if(!B)throw Error(o(363));var _=0,w=[];h=[nS(h),0];for(var T=0;T<h.length;){var I=h[T++],G=h[T++],ee=d[G];if((I.tag!==5||!we(I))&&(rS(I,ee)&&(w.push(iS(ee)),G++,G>_&&(_=G)),G<d.length))for(I=I.child;I!==null;)h.push(I,G),I=I.sibling}if(_<d.length){for(h=[];_<d.length;_++)h.push(iS(d[_]));return`findAllNodes was able to match part of the selector:
  `+(w.join(" > ")+`

No matching component was found for:
  `)+h.join(" > ")}return null},t.getPublicRootInstance=function(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return Z(h.child.stateNode);default:return h.child.stateNode}},t.injectIntoDevTools=function(h){if(h={bundleType:h.bundleType,version:h.version,rendererPackageName:h.rendererPackageName,rendererConfig:h.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:z8,findFiberByHostInstance:h.findFiberByHostInstance||H8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")h=!1;else{var d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(d.isDisabled||!d.supportsFiber)h=!0;else{try{pg=d.inject(h),no=d}catch{}h=!!d.checkDCE}}return h},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(h,d,_,w){if(!B)throw Error(o(363));h=sS(h,d);var T=Ue(h,_,w).disconnect;return{disconnect:function(){T()}}},t.registerMutableSourceForHydration=function(h,d){var _=d._getVersion;_=_(d._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[d,_]:h.mutableSourceEagerHydrationData.push(d,_)},t.runWithPriority=function(h,d){var _=Zt;try{return Zt=h,d()}finally{Zt=_}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(h,d,_,w){var T=d.current,I=li(),G=Ma(T);return _=jP(_),d.context===null?d.context=_:d.pendingContext=_,d=Fo(I,G),d.payload={element:h},w=w===void 0?null:w,w!==null&&(d.callback=w),wa(T,d),h=ds(T,G,I),h!==null&&_g(h,T,G),G},t};oV.exports=yle;var vle=oV.exports;const _le=P_(vle);var aV={exports:{}},lV={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(O,j){var K=O.length;O.push(j);e:for(;0<K;){var q=K-1>>>1,te=O[q];if(0<i(te,j))O[q]=j,O[K]=te,K=q;else break e}}function t(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var j=O[0],K=O.pop();if(K!==j){O[0]=K;e:for(var q=0,te=O.length,Me=te>>>1;q<Me;){var ne=2*(q+1)-1,de=O[ne],Ae=ne+1,Pe=O[Ae];if(0>i(de,K))Ae<te&&0>i(Pe,de)?(O[q]=Pe,O[Ae]=K,q=Ae):(O[q]=de,O[ne]=K,q=ne);else if(Ae<te&&0>i(Pe,K))O[q]=Pe,O[Ae]=K,q=Ae;else break e}}return j}function i(O,j){var K=O.sortIndex-j.sortIndex;return K!==0?K:O.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,p=3,m=!1,y=!1,S=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(O){for(var j=t(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=O)r(c),j.sortIndex=j.expirationTime,e(l,j);else break;j=t(c)}}function E(O){if(S=!1,A(O),!y)if(t(l)!==null)y=!0,Z(b);else{var j=t(c);j!==null&&ae(E,j.startTime-O)}}function b(O,j){y=!1,S&&(S=!1,g(L),L=-1),m=!0;var K=p;try{for(A(j),f=t(l);f!==null&&(!(f.expirationTime>j)||O&&!D());){var q=f.callback;if(typeof q=="function"){f.callback=null,p=f.priorityLevel;var te=q(f.expirationTime<=j);j=n.unstable_now(),typeof te=="function"?f.callback=te:f===t(l)&&r(l),A(j)}else r(l);f=t(l)}if(f!==null)var Me=!0;else{var ne=t(c);ne!==null&&ae(E,ne.startTime-j),Me=!1}return Me}finally{f=null,p=K,m=!1}}var C=!1,P=null,L=-1,N=5,M=-1;function D(){return!(n.unstable_now()-M<N)}function z(){if(P!==null){var O=n.unstable_now();M=O;var j=!0;try{j=P(!0,O)}finally{j?W():(C=!1,P=null)}}else C=!1}var W;if(typeof x=="function")W=function(){x(z)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,$=H.port2;H.port1.onmessage=z,W=function(){$.postMessage(null)}}else W=function(){v(z,0)};function Z(O){P=O,C||(C=!0,W())}function ae(O,j){L=v(function(){O(n.unstable_now())},j)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(O){O.callback=null},n.unstable_continueExecution=function(){y||m||(y=!0,Z(b))},n.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<O?Math.floor(1e3/O):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(O){switch(p){case 1:case 2:case 3:var j=3;break;default:j=p}var K=p;p=j;try{return O()}finally{p=K}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(O,j){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var K=p;p=O;try{return j()}finally{p=K}},n.unstable_scheduleCallback=function(O,j,K){var q=n.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?q+K:q):K=q,O){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=K+te,O={id:u++,callback:j,priorityLevel:O,startTime:K,expirationTime:te,sortIndex:-1},K>q?(O.sortIndex=K,e(c,O),t(l)===null&&O===t(c)&&(S?(g(L),L=-1):S=!0,ae(E,K-q))):(O.sortIndex=te,e(l,O),y||m||(y=!0,Z(b))),O},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(O){var j=p;return function(){var K=p;p=j;try{return O.apply(this,arguments)}finally{p=K}}}})(lV);aV.exports=lV;var FB=aV.exports;const xle=n=>typeof n=="object"&&typeof n.then=="function",Pc=[];function cV(n,e,t=(r,i)=>r===i){if(n===e)return!0;if(!n||!e)return!1;const r=n.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}function uV(n,e=null,t=!1,r={}){e===null&&(e=[n]);for(const s of Pc)if(cV(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!t)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=Pc.indexOf(i);s!==-1&&Pc.splice(s,1)},promise:(xle(n)?n:n(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(Pc.push(i),!t)throw i.promise}const Sle=(n,e,t)=>uV(n,e,!1,t),Ale=(n,e,t)=>void uV(n,e,!0,t),wle=n=>{if(n===void 0||n.length===0)Pc.splice(0,Pc.length);else{const e=Pc.find(t=>cV(n,t.keys,t.equal));e&&e.remove()}},H2={},Ele=n=>void Object.assign(H2,n);function Tle(n,e){function t(u,{args:f=[],attach:p,...m},y){let S=`${u[0].toUpperCase()}${u.slice(1)}`,v;if(u==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const g=m.object;v=oh(g,{type:u,root:y,attach:p,primitive:!0})}else{const g=H2[S];if(!g)throw new Error(`R3F: ${S} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");v=oh(new g(...f),{type:u,root:y,attach:p,memoizedProps:{args:f}})}return v.__r3f.attach===void 0&&(v instanceof Rt?v.__r3f.attach="geometry":v instanceof sr&&(v.__r3f.attach="material")),S!=="inject"&&pw(v,m),v}function r(u,f){let p=!1;if(f){var m,y;(m=f.__r3f)!=null&&m.attach?dw(u,f,f.__r3f.attach):f.isObject3D&&u.isObject3D&&(u.add(f),p=!0),p||(y=u.__r3f)==null||y.objects.push(f),f.__r3f||oh(f,{}),f.__r3f.parent=u,AM(f),ah(f)}}function i(u,f,p){let m=!1;if(f){var y,S;if((y=f.__r3f)!=null&&y.attach)dw(u,f,f.__r3f.attach);else if(f.isObject3D&&u.isObject3D){f.parent=u,f.dispatchEvent({type:"added"});const v=u.children.filter(x=>x!==f),g=v.indexOf(p);u.children=[...v.slice(0,g),f,...v.slice(g)],m=!0}m||(S=u.__r3f)==null||S.objects.push(f),f.__r3f||oh(f,{}),f.__r3f.parent=u,AM(f),ah(f)}}function s(u,f,p=!1){u&&[...u].forEach(m=>o(f,m,p))}function o(u,f,p){if(f){var m,y,S;if(f.__r3f&&(f.__r3f.parent=null),(m=u.__r3f)!=null&&m.objects&&(u.__r3f.objects=u.__r3f.objects.filter(E=>E!==f)),(y=f.__r3f)!=null&&y.attach)HB(u,f,f.__r3f.attach);else if(f.isObject3D&&u.isObject3D){var v;u.remove(f),(v=f.__r3f)!=null&&v.root&&Ble(iv(f),f)}const x=(S=f.__r3f)==null?void 0:S.primitive,A=!x&&(p===void 0?f.dispose!==null:p);if(!x){var g;s((g=f.__r3f)==null?void 0:g.objects,f,A),s(f.children,f,A)}if(delete f.__r3f,A&&f.dispose&&f.type!=="Scene"){const E=()=>{try{f.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?FB.unstable_scheduleCallback(FB.unstable_IdlePriority,E):E()}ah(u)}}function a(u,f,p,m){var y;const S=(y=u.__r3f)==null?void 0:y.parent;if(!S)return;const v=t(f,p,u.__r3f.root);if(u.children){for(const g of u.children)g.__r3f&&r(v,g);u.children=u.children.filter(g=>!g.__r3f)}u.__r3f.objects.forEach(g=>r(v,g)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||o(S,u),v.parent&&(v.__r3f.autoRemovedBeforeAppend=!0),r(S,v),v.raycast&&v.__r3f.eventCount&&iv(v).getState().internal.interaction.push(v),[m,m.alternate].forEach(g=>{g!==null&&(g.stateNode=v,g.ref&&(typeof g.ref=="function"?g.ref(v):g.ref.current=v))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:_le({createInstance:t,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,f)=>{if(!f)return;const p=u.getState().scene;p.__r3f&&(p.__r3f.root=u,r(p,f))},removeChildFromContainer:(u,f)=>{f&&o(u.getState().scene,f)},insertInContainerBefore:(u,f,p)=>{if(!f||!p)return;const m=u.getState().scene;m.__r3f&&i(m,f,p)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var f;return!!((f=u==null?void 0:u.__r3f)!=null?f:{}).handlers},prepareUpdate(u,f,p,m){var y;if(((y=u==null?void 0:u.__r3f)!=null?y:{}).primitive&&m.object&&m.object!==u)return[!0];{const{args:v=[],children:g,...x}=m,{args:A=[],children:E,...b}=p;if(!Array.isArray(v))throw new Error("R3F: the args prop must be an array!");if(v.some((P,L)=>P!==A[L]))return[!0];const C=yV(u,x,b,!0);return C.changes.length?[!1,C]:null}},commitUpdate(u,[f,p],m,y,S,v){f?a(u,m,S,v):pw(u,p)},commitMount(u,f,p,m){var y;const S=(y=u.__r3f)!=null?y:{};u.raycast&&S.handlers&&S.eventCount&&iv(u).getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>oh(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var f;const{attach:p,parent:m}=(f=u.__r3f)!=null?f:{};p&&m&&HB(m,u,p),u.isObject3D&&(u.visible=!1),ah(u)},unhideInstance(u,f){var p;const{attach:m,parent:y}=(p=u.__r3f)!=null?p:{};m&&y&&dw(y,u,m),(u.isObject3D&&f.visible==null||f.visible)&&(u.visible=!0),ah(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Mh.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&yn.fun(performance.now)?performance.now:yn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:yn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:yn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:pw}}var kB,UB;const fw=n=>"colorSpace"in n||"outputColorSpace"in n,hV=()=>{var n;return(n=H2.ColorManagement)!=null?n:null},fV=n=>n&&n.isOrthographicCamera,Mle=n=>n&&n.hasOwnProperty("current"),tg=typeof window<"u"&&((kB=window.document)!=null&&kB.createElement||((UB=window.navigator)==null?void 0:UB.product)==="ReactNative")?Y.useLayoutEffect:Y.useEffect;function dV(n){const e=Y.useRef(n);return tg(()=>void(e.current=n),[n]),e}function Cle({set:n}){return tg(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class pV extends Y.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}pV.getDerivedStateFromError=()=>({error:!0});const mV="__default",VB=new Map,ble=n=>n&&!!n.memoized&&!!n.changes;function gV(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const Rd=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()};function iv(n){let e=n.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const yn={obj:n=>n===Object(n)&&!yn.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:i=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(yn.str(n)||yn.num(n))return n===e;const s=yn.obj(n);if(s&&r==="reference")return n===e;const o=yn.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&r==="shallow"){for(a in i?e:n)if(!yn.equ(n[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:n)if(n[a]!==e[a])return!1;if(yn.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function Rle(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function Ple(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function oh(n,e){const t=n;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},n}function SM(n,e){let t=n;if(e.includes("-")){const r=e.split("-"),i=r.pop();return t=r.reduce((s,o)=>s[o],n),{target:t,key:i}}else return{target:t,key:e}}const zB=/-\d+$/;function dw(n,e,t){if(yn.str(t)){if(zB.test(t)){const s=t.replace(zB,""),{target:o,key:a}=SM(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=SM(n,t);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=t(n,e)}function HB(n,e,t){var r,i;if(yn.str(t)){const{target:s,key:o}=SM(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(n,e);(i=e.__r3f)==null||delete i.previousAttach}function yV(n,{children:e,key:t,ref:r,...i},{children:s,key:o,ref:a,...l}={},c=!1){var u;const f=(u=n==null?void 0:n.__r3f)!=null?u:{},p=Object.entries(i),m=[];if(c){const S=Object.keys(l);for(let v=0;v<S.length;v++)i.hasOwnProperty(S[v])||p.unshift([S[v],mV+"remove"])}p.forEach(([S,v])=>{var g;if((g=n.__r3f)!=null&&g.primitive&&S==="object"||yn.equ(v,l[S]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(S))return m.push([S,v,!0,[]]);let x=[];S.includes("-")&&(x=S.split("-")),m.push([S,v,!1,x]);for(const A in i){const E=i[A];A.startsWith(`${S}-`)&&m.push([A,E,!1,A.split("-")])}});const y={...i};return f.memoizedProps&&f.memoizedProps.args&&(y.args=f.memoizedProps.args),f.memoizedProps&&f.memoizedProps.attach&&(y.attach=f.memoizedProps.attach),{memoized:y,changes:m}}const Ile=typeof process<"u"&&!1;function pw(n,e){var t,r,i;const s=(t=n.__r3f)!=null?t:{},o=s.root,a=(r=o==null||o.getState==null?void 0:o.getState())!=null?r:{},{memoized:l,changes:c}=ble(e)?e:yV(n,e),u=s.eventCount;n.__r3f&&(n.__r3f.memoizedProps=l);for(let p=0;p<c.length;p++){let[m,y,S,v]=c[p];if(fw(n)){const E="srgb",b="srgb-linear";m==="encoding"?(m="colorSpace",y=y===3001?E:b):m==="outputEncoding"&&(m="outputColorSpace",y=y===3001?E:b)}let g=n,x=g[m];if(v.length&&(x=v.reduce((A,E)=>A[E],n),!(x&&x.set))){const[A,...E]=v.reverse();g=E.reverse().reduce((b,C)=>b[C],n),m=A}if(y===mV+"remove")if(g.constructor){let A=VB.get(g.constructor);A||(A=new g.constructor,VB.set(g.constructor,A)),y=A[m]}else y=0;if(S)y?s.handlers[m]=y:delete s.handlers[m],s.eventCount=Object.keys(s.handlers).length;else if(x&&x.set&&(x.copy||x instanceof Vc)){if(Array.isArray(y))x.fromArray?x.fromArray(y):x.set(...y);else if(x.copy&&y&&y.constructor&&(Ile?x.constructor.name===y.constructor.name:x.constructor===y.constructor))x.copy(y);else if(y!==void 0){const A=x instanceof Ve;!A&&x.setScalar?x.setScalar(y):x instanceof Vc&&y instanceof Vc?x.mask=y.mask:x.set(y),!hV()&&!a.linear&&A&&x.convertSRGBToLinear()}}else if(g[m]=y,g[m]instanceof An&&g[m].format===gi&&g[m].type===Eo){const A=g[m];fw(A)&&fw(a.gl)?A.colorSpace=a.gl.outputColorSpace:A.encoding=a.gl.outputEncoding}ah(n)}if(s.parent&&n.raycast&&u!==s.eventCount){const p=iv(n).getState().internal,m=p.interaction.indexOf(n);m>-1&&p.interaction.splice(m,1),s.eventCount&&p.interaction.push(n)}return!(c.length===1&&c[0][0]==="onUpdate")&&c.length&&(i=n.__r3f)!=null&&i.parent&&AM(n),n}function ah(n){var e,t;const r=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();r&&r.internal.frames===0&&r.invalidate()}function AM(n){n.onUpdate==null||n.onUpdate(n)}function Lle(n,e){n.manual||(fV(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function T0(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function Dle(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Mh.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Mh.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Mh.ContinuousEventPriority;default:return Mh.DefaultEventPriority}}function vV(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function Ble(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((r,i)=>{vV(t.capturedMap,e,r,i)})}function Nle(n){function e(l){const{internal:c}=n.getState(),u=l.offsetX-c.initialClick[0],f=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+f*f))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var f;return(f=c.__r3f)==null?void 0:f.handlers["onPointer"+u]}))}function r(l,c){const u=n.getState(),f=new Set,p=[],m=c?c(u.internal.interaction):u.internal.interaction;for(let g=0;g<m.length;g++){const x=Rd(m[g]);x&&(x.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function y(g){const x=Rd(g);if(!x||!x.events.enabled||x.raycaster.camera===null)return[];if(x.raycaster.camera===void 0){var A;x.events.compute==null||x.events.compute(l,x,(A=x.previousRoot)==null?void 0:A.getState()),x.raycaster.camera===void 0&&(x.raycaster.camera=null)}return x.raycaster.camera?x.raycaster.intersectObject(g,!0):[]}let S=m.flatMap(y).sort((g,x)=>{const A=Rd(g.object),E=Rd(x.object);return!A||!E?g.distance-x.distance:E.events.priority-A.events.priority||g.distance-x.distance}).filter(g=>{const x=T0(g);return f.has(x)?!1:(f.add(x),!0)});u.events.filter&&(S=u.events.filter(S,u));for(const g of S){let x=g.object;for(;x;){var v;(v=x.__r3f)!=null&&v.eventCount&&p.push({...g,eventObject:x}),x=x.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let g of u.internal.capturedMap.get(l.pointerId).values())f.has(T0(g.intersection))||p.push(g.intersection);return p}function i(l,c,u,f){const p=n.getState();if(l.length){const m={stopped:!1};for(const y of l){const S=Rd(y.object)||p,{raycaster:v,pointer:g,camera:x,internal:A}=S,E=new k(g.x,g.y,0).unproject(x),b=M=>{var D,z;return(D=(z=A.capturedMap.get(M))==null?void 0:z.has(y.eventObject))!=null?D:!1},C=M=>{const D={intersection:y,target:c.target};A.capturedMap.has(M)?A.capturedMap.get(M).set(y.eventObject,D):A.capturedMap.set(M,new Map([[y.eventObject,D]])),c.target.setPointerCapture(M)},P=M=>{const D=A.capturedMap.get(M);D&&vV(A.capturedMap,y.eventObject,D,M)};let L={};for(let M in c){let D=c[M];typeof D!="function"&&(L[M]=D)}let N={...y,...L,pointer:g,intersections:l,stopped:m.stopped,delta:u,unprojectedPoint:E,ray:v.ray,camera:x,stopPropagation(){const M="pointerId"in c&&A.capturedMap.get(c.pointerId);if((!M||M.has(y.eventObject))&&(N.stopped=m.stopped=!0,A.hovered.size&&Array.from(A.hovered.values()).find(D=>D.eventObject===y.eventObject))){const D=l.slice(0,l.indexOf(y));s([...D,y])}},target:{hasPointerCapture:b,setPointerCapture:C,releasePointerCapture:P},currentTarget:{hasPointerCapture:b,setPointerCapture:C,releasePointerCapture:P},nativeEvent:c};if(f(N),m.stopped===!0)break}}return l}function s(l){const{internal:c}=n.getState();for(const u of c.hovered.values())if(!l.length||!l.find(f=>f.object===u.object&&f.index===u.index&&f.instanceId===u.instanceId)){const p=u.eventObject.__r3f,m=p==null?void 0:p.handlers;if(c.hovered.delete(T0(u)),p!=null&&p.eventCount){const y={...u,intersections:l};m.onPointerOut==null||m.onPointerOut(y),m.onPointerLeave==null||m.onPointerLeave(y)}}}function o(l,c){for(let u=0;u<c.length;u++){const f=c[u].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:u}=n.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),s([]))})}}return function(u){const{onPointerMissed:f,internal:p}=n.getState();p.lastEvent.current=u;const m=l==="onPointerMove",y=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",v=r(u,m?t:void 0),g=y?e(u):0;l==="onPointerDown"&&(p.initialClick=[u.offsetX,u.offsetY],p.initialHits=v.map(A=>A.eventObject)),y&&!v.length&&g<=2&&(o(u,p.interaction),f&&f(u)),m&&s(v);function x(A){const E=A.eventObject,b=E.__r3f,C=b==null?void 0:b.handlers;if(b!=null&&b.eventCount)if(m){if(C.onPointerOver||C.onPointerEnter||C.onPointerOut||C.onPointerLeave){const P=T0(A),L=p.hovered.get(P);L?L.stopped&&A.stopPropagation():(p.hovered.set(P,A),C.onPointerOver==null||C.onPointerOver(A),C.onPointerEnter==null||C.onPointerEnter(A))}C.onPointerMove==null||C.onPointerMove(A)}else{const P=C[l];P?(!y||p.initialHits.includes(E))&&(o(u,p.interaction.filter(L=>!p.initialHits.includes(L))),P(A)):y&&p.initialHits.includes(E)&&o(u,p.interaction.filter(L=>!p.initialHits.includes(L)))}}i(v,u,g,x)}}return{handlePointer:a}}const _V=n=>!!(n!=null&&n.render),xV=Y.createContext(null),Ole=(n,e)=>{const t=sV((a,l)=>{const c=new k,u=new k,f=new k;function p(g=l().camera,x=u,A=l().size){const{width:E,height:b,top:C,left:P}=A,L=E/b;x instanceof k?f.copy(x):f.set(...x);const N=g.getWorldPosition(c).distanceTo(f);if(fV(g))return{width:E/g.zoom,height:b/g.zoom,top:C,left:P,factor:1,distance:N,aspect:L};{const M=g.fov*Math.PI/180,D=2*Math.tan(M/2)*N,z=D*(E/b);return{width:z,height:D,top:C,left:P,factor:E/z,distance:N,aspect:L}}}let m;const y=g=>a(x=>({performance:{...x.performance,current:g}})),S=new _e;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(g=1)=>n(l(),g),advance:(g,x)=>e(g,x,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new k2,pointer:S,mouse:S,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const g=l();m&&clearTimeout(m),g.performance.current!==g.performance.min&&y(g.performance.min),m=setTimeout(()=>y(l().performance.max),g.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:g=>a(x=>({...x,events:{...x.events,...g}})),setSize:(g,x,A,E,b)=>{const C=l().camera,P={width:g,height:x,top:E||0,left:b||0,updateStyle:A};a(L=>({size:P,viewport:{...L.viewport,...p(C,u,P)}}))},setDpr:g=>a(x=>{const A=gV(g);return{viewport:{...x.viewport,dpr:A,initialDpr:x.viewport.initialDpr||A}}}),setFrameloop:(g="always")=>{const x=l().clock;x.stop(),x.elapsedTime=0,g!=="never"&&(x.start(),x.elapsedTime=0),a(()=>({frameloop:g}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:Y.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(g,x,A)=>{const E=l().internal;return E.priority=E.priority+(x>0?1:0),E.subscribers.push({ref:g,priority:x,store:A}),E.subscribers=E.subscribers.sort((b,C)=>b.priority-C.priority),()=>{const b=l().internal;b!=null&&b.subscribers&&(b.priority=b.priority-(x>0?1:0),b.subscribers=b.subscribers.filter(C=>C.ref!==g))}}}}}),r=t.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:u,set:f}=t.getState();if(l.width!==i.width||l.height!==i.height||c.dpr!==s){var p;i=l,s=c.dpr,Lle(a,l),u.setPixelRatio(c.dpr);const m=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,m)}a!==o&&(o=a,f(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let M0,Fle=new Set,kle=new Set,Ule=new Set;function mw(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function Pd(n,e){switch(n){case"before":return mw(Fle,e);case"after":return mw(kle,e);case"tail":return mw(Ule,e)}}let gw,yw;function vw(n,e,t){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),gw=e.internal.subscribers,M0=0;M0<gw.length;M0++)yw=gw[M0],yw.ref.current(yw.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function Vle(n){let e=!1,t,r,i;function s(l){r=requestAnimationFrame(s),e=!0,t=0,Pd("before",l);for(const u of n.values()){var c;i=u.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((c=i.gl.xr)!=null&&c.isPresenting)&&(t+=vw(l,i))}if(Pd("after",l),t===0)return Pd("tail",l),e=!1,cancelAnimationFrame(r)}function o(l,c=1){var u;if(!l)return n.forEach(f=>o(f.store.getState()),c);(u=l.gl.xr)!=null&&u.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+c),e||(e=!0,requestAnimationFrame(s)))}function a(l,c=!0,u,f){if(c&&Pd("before",l),u)vw(l,u,f);else for(const p of n.values())vw(l,p.store.getState());c&&Pd("after",l)}return{loop:s,invalidate:o,advance:a}}function SV(){const n=Y.useContext(xV);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function _s(n=t=>t,e){return SV()(n,e)}function AV(n,e=0){const t=SV(),r=t.getState().internal.subscribe,i=dV(n);return tg(()=>r(i,e,t),[e,r,t]),null}const GB=new WeakMap;function wV(n,e){return function(t,...r){let i=GB.get(t);return i||(i=new t,GB.set(t,i)),n&&n(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,Rle(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l==null?void 0:l.message}`)))))).finally(()=>i.dispose==null?void 0:i.dispose())}}function ng(n,e,t,r){const i=Array.isArray(e)?e:[e],s=Sle(wV(t,r),[n,...i],{equal:yn.equ});return Array.isArray(e)?s:s[0]}ng.preload=function(n,e,t){const r=Array.isArray(e)?e:[e];return Ale(wV(t),[n,...r])};ng.clear=function(n,e){const t=Array.isArray(e)?e:[e];return wle([n,...t])};const Sf=new Map,{invalidate:jB,advance:WB}=Vle(Sf),{reconciler:S_,applyProps:th}=Tle(Sf,Dle),nh={objects:"shallow",strict:!1},zle=(n,e)=>{const t=typeof n=="function"?n(e):n;return _V(t)?t:new y2({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function Hle(n,e){const t=typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:s,left:o,updateStyle:a=t}=e;return{width:r,height:i,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:r,height:i,top:s,left:o}=n.parentElement.getBoundingClientRect();return{width:r,height:i,top:s,left:o,updateStyle:t}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0,updateStyle:t};return{width:0,height:0,top:0,left:0}}function Gle(n){const e=Sf.get(n),t=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||Ole(jB,WB),o=t||S_.createContainer(s,Mh.ConcurrentRoot,null,!1,null,"",i,null);e||Sf.set(n,{fiber:o,store:s});let a,l=!1,c;return{configure(u={}){let{gl:f,size:p,scene:m,events:y,onCreated:S,shadows:v=!1,linear:g=!1,flat:x=!1,legacy:A=!1,orthographic:E=!1,frameloop:b="always",dpr:C=[1,2],performance:P,raycaster:L,camera:N,onPointerMissed:M}=u,D=s.getState(),z=D.gl;D.gl||D.set({gl:z=zle(f,n)});let W=D.raycaster;W||D.set({raycaster:W=new nV});const{params:H,...$}=L||{};if(yn.equ($,W,nh)||th(W,{...$}),yn.equ(H,W.params,nh)||th(W,{params:{...W.params,...H}}),!D.camera||D.camera===c&&!yn.equ(c,N,nh)){c=N;const te=N instanceof Xm,Me=te?N:E?new Cs(0,0,0,0,.1,1e3):new xn(75,0,.1,1e3);te||(Me.position.z=5,N&&th(Me,N),!D.camera&&!(N!=null&&N.rotation)&&Me.lookAt(0,0,0)),D.set({camera:Me}),W.camera=Me}if(!D.scene){let te;m instanceof __?te=m:(te=new __,m&&th(te,m)),D.set({scene:oh(te)})}if(!D.xr){var Z;const te=(de,Ae)=>{const Pe=s.getState();Pe.frameloop!=="never"&&WB(de,!0,Pe,Ae)},Me=()=>{const de=s.getState();de.gl.xr.enabled=de.gl.xr.isPresenting,de.gl.xr.setAnimationLoop(de.gl.xr.isPresenting?te:null),de.gl.xr.isPresenting||jB(de)},ne={connect(){const de=s.getState().gl;de.xr.addEventListener("sessionstart",Me),de.xr.addEventListener("sessionend",Me)},disconnect(){const de=s.getState().gl;de.xr.removeEventListener("sessionstart",Me),de.xr.removeEventListener("sessionend",Me)}};typeof((Z=z.xr)==null?void 0:Z.addEventListener)=="function"&&ne.connect(),D.set({xr:ne})}if(z.shadowMap){const te=z.shadowMap.enabled,Me=z.shadowMap.type;if(z.shadowMap.enabled=!!v,yn.boo(v))z.shadowMap.type=up;else if(yn.str(v)){var ae;const ne={basic:t5,percentage:Ix,soft:up,variance:ks};z.shadowMap.type=(ae=ne[v])!=null?ae:up}else yn.obj(v)&&Object.assign(z.shadowMap,v);(te!==z.shadowMap.enabled||Me!==z.shadowMap.type)&&(z.shadowMap.needsUpdate=!0)}const O=hV();O&&("enabled"in O?O.enabled=!A:"legacyMode"in O&&(O.legacyMode=A)),th(z,{outputEncoding:g?3e3:3001,toneMapping:x?wo:Jb}),D.legacy!==A&&D.set(()=>({legacy:A})),D.linear!==g&&D.set(()=>({linear:g})),D.flat!==x&&D.set(()=>({flat:x})),f&&!yn.fun(f)&&!_V(f)&&!yn.equ(f,z,nh)&&th(z,f),y&&!D.events.handlers&&D.set({events:y(s)});const q=Hle(n,p);return yn.equ(q,D.size,nh)||D.setSize(q.width,q.height,q.updateStyle,q.top,q.left),C&&D.viewport.dpr!==gV(C)&&D.setDpr(C),D.frameloop!==b&&D.setFrameloop(b),D.onPointerMissed||D.set({onPointerMissed:M}),P&&!yn.equ(P,D.performance,nh)&&D.set(te=>({performance:{...te.performance,...P}})),a=S,l=!0,this},render(u){return l||this.configure(),S_.updateContainer(Y.createElement(jle,{store:s,children:u,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){EV(n)}}}function jle({store:n,children:e,onCreated:t,rootElement:r}){return tg(()=>{const i=n.getState();i.set(s=>({internal:{...s.internal,active:!0}})),t&&t(i),n.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),Y.createElement(xV.Provider,{value:n},e)}function EV(n,e){const t=Sf.get(n),r=t==null?void 0:t.fiber;if(r){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),S_.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),Ple(i),Sf.delete(n),e&&e(n)}catch{}},500)})}}S_.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:Y.version});function wM(n,e,t){var r,i,s,o,a;e==null&&(e=100);function l(){var u=Date.now()-o;u<e&&u>=0?r=setTimeout(l,e-u):(r=null,t||(a=n.apply(s,i),s=i=null))}var c=function(){s=this,i=arguments,o=Date.now();var u=t&&!r;return r||(r=setTimeout(l,e)),u&&(a=n.apply(s,i),s=i=null),a};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(a=n.apply(s,i),s=i=null,clearTimeout(r),r=null)},c}wM.debounce=wM;var Wle=wM;const XB=P_(Wle);function Xle(n){let{debounce:e,scroll:t,polyfill:r,offsetSize:i}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=Y.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=Y.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),c=e?typeof e=="number"?e:e.scroll:null,u=e?typeof e=="number"?e:e.resize:null,f=Y.useRef(!1);Y.useEffect(()=>(f.current=!0,()=>void(f.current=!1)));const[p,m,y]=Y.useMemo(()=>{const x=()=>{if(!l.current.element)return;const{left:A,top:E,width:b,height:C,bottom:P,right:L,x:N,y:M}=l.current.element.getBoundingClientRect(),D={left:A,top:E,width:b,height:C,bottom:P,right:L,x:N,y:M};l.current.element instanceof HTMLElement&&i&&(D.height=l.current.element.offsetHeight,D.width=l.current.element.offsetWidth),Object.freeze(D),f.current&&!Yle(l.current.lastBounds,D)&&a(l.current.lastBounds=D)};return[x,u?XB(x,u):x,c?XB(x,c):x]},[a,i,c,u]);function S(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(x=>x.removeEventListener("scroll",y,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function v(){l.current.element&&(l.current.resizeObserver=new s(y),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(x=>x.addEventListener("scroll",y,{capture:!0,passive:!0})))}const g=x=>{!x||x===l.current.element||(S(),l.current.element=x,l.current.scrollContainers=TV(x),v())};return Jle(y,!!t),Kle(m),Y.useEffect(()=>{S(),v()},[t,y,m]),Y.useEffect(()=>S,[]),[g,o,p]}function Kle(n){Y.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function Jle(n,e){Y.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function TV(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...TV(n.parentElement)]}const $le=["x","y","top","bottom","left","right","width","height"],Yle=(n,e)=>$le.every(t=>n[t]===e[t]);var qle=Object.defineProperty,Qle=Object.defineProperties,Zle=Object.getOwnPropertyDescriptors,KB=Object.getOwnPropertySymbols,ece=Object.prototype.hasOwnProperty,tce=Object.prototype.propertyIsEnumerable,JB=(n,e,t)=>e in n?qle(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,$B=(n,e)=>{for(var t in e||(e={}))ece.call(e,t)&&JB(n,t,e[t]);if(KB)for(var t of KB(e))tce.call(e,t)&&JB(n,t,e[t]);return n},nce=(n,e)=>Qle(n,Zle(e));function MV(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=e?n.return:n.child;for(;r;){const i=MV(r,e,t);if(i)return i;r=e?null:r.sibling}}function CV(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const G2=CV(Y.createContext(null));class bV extends Y.Component{render(){return Y.createElement(G2.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:YB,ReactCurrentDispatcher:qB}=Y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function rce(){const n=Y.useContext(G2);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=Y.useId();return Y.useMemo(()=>{for(const r of[YB==null?void 0:YB.current,n,n==null?void 0:n.alternate]){if(!r)continue;const i=MV(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[n,e])}function ice(){var n,e;const t=rce(),[r]=Y.useState(()=>new Map);r.clear();let i=t;for(;i;){const s=(n=i.type)==null?void 0:n._context;s&&s!==G2&&!r.has(s)&&r.set(s,(e=qB==null?void 0:qB.current)==null?void 0:e.readContext(CV(s))),i=i.return}return r}function sce(){const n=ice();return Y.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>r=>Y.createElement(e,null,Y.createElement(t.Provider,nce($B({},r),{value:n.get(t)}))),e=>Y.createElement(bV,$B({},e))),[n])}const _w={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function oce(n){const{handlePointer:e}=Nle(n);return{priority:1,enabled:!0,compute(t,r,i){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(_w).reduce((t,r)=>({...t,[r]:e(r)}),{}),update:()=>{var t;const{events:r,internal:i}=n.getState();(t=i.lastEvent)!=null&&t.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{var r;const{set:i,events:s}=n.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:t}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,c]=_w[o];t.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=_w[s];r.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const ace=Y.forwardRef(function({children:e,fallback:t,resize:r,style:i,gl:s,events:o=oce,eventSource:a,eventPrefix:l,shadows:c,linear:u,flat:f,legacy:p,orthographic:m,frameloop:y,dpr:S,performance:v,raycaster:g,camera:x,scene:A,onPointerMissed:E,onCreated:b,...C},P){Y.useMemo(()=>Ele(fle),[]);const L=sce(),[N,M]=Xle({scroll:!0,debounce:{scroll:50,resize:0},...r}),D=Y.useRef(null),z=Y.useRef(null);Y.useImperativeHandle(P,()=>D.current);const W=dV(E),[H,$]=Y.useState(!1),[Z,ae]=Y.useState(!1);if(H)throw H;if(Z)throw Z;const O=Y.useRef(null);tg(()=>{const K=D.current;M.width>0&&M.height>0&&K&&(O.current||(O.current=Gle(K)),O.current.configure({gl:s,events:o,shadows:c,linear:u,flat:f,legacy:p,orthographic:m,frameloop:y,dpr:S,performance:v,raycaster:g,camera:x,scene:A,size:M,onPointerMissed:(...q)=>W.current==null?void 0:W.current(...q),onCreated:q=>{q.events.connect==null||q.events.connect(a?Mle(a)?a.current:a:z.current),l&&q.setEvents({compute:(te,Me)=>{const ne=te[l+"X"],de=te[l+"Y"];Me.pointer.set(ne/Me.size.width*2-1,-(de/Me.size.height)*2+1),Me.raycaster.setFromCamera(Me.pointer,Me.camera)}}),b==null||b(q)}}),O.current.render(Y.createElement(L,null,Y.createElement(pV,{set:ae},Y.createElement(Y.Suspense,{fallback:Y.createElement(Cle,{set:$})},e)))))}),Y.useEffect(()=>{const K=D.current;if(K)return()=>EV(K)},[]);const j=a?"none":"auto";return Y.createElement("div",hf({ref:z,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:j,...i}},C),Y.createElement("div",{ref:N,style:{width:"100%",height:"100%"}},Y.createElement("canvas",{ref:D,style:{display:"block"}},t)))}),lce=Y.forwardRef(function(e,t){return Y.createElement(bV,null,Y.createElement(ace,hf({},e,{ref:t})))}),rg=new k,j2=new k,cce=new k;function uce(n,e,t){const r=rg.setFromMatrixPosition(n.matrixWorld);r.project(e);const i=t.width/2,s=t.height/2;return[r.x*i+i,-(r.y*s)+s]}function hce(n,e){const t=rg.setFromMatrixPosition(n.matrixWorld),r=j2.setFromMatrixPosition(e.matrixWorld),i=t.sub(r),s=e.getWorldDirection(cce);return i.angleTo(s)>Math.PI/2}function fce(n,e,t,r){const i=rg.setFromMatrixPosition(n.matrixWorld),s=i.clone();s.project(e),t.setFromCamera(s,e);const o=t.intersectObjects(r,!0);if(o.length){const a=o[0].distance;return i.distanceTo(t.ray.origin)<a}return!0}function dce(n,e){if(e instanceof Cs)return e.zoom;if(e instanceof xn){const t=rg.setFromMatrixPosition(n.matrixWorld),r=j2.setFromMatrixPosition(e.matrixWorld),i=e.fov*Math.PI/180,s=t.distanceTo(r);return 1/(2*Math.tan(i/2)*s)}else return 1}function pce(n,e,t){if(e instanceof xn||e instanceof Cs){const r=rg.setFromMatrixPosition(n.matrixWorld),i=j2.setFromMatrixPosition(e.matrixWorld),s=r.distanceTo(i),o=(t[1]-t[0])/(e.far-e.near),a=t[1]-o*e.far;return Math.round(o*s+a)}}const EM=n=>Math.abs(n)<1e-10?0:n;function RV(n,e,t=""){let r="matrix3d(";for(let i=0;i!==16;i++)r+=EM(e[i]*n.elements[i])+(i!==15?",":")");return t+r}const mce=(n=>e=>RV(e,n))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),gce=(n=>(e,t)=>RV(e,n(t),"translate(-50%,-50%)"))(n=>[1/n,1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1]);function yce(n){return n&&typeof n=="object"&&"current"in n}const vce=Y.forwardRef(({children:n,eps:e=.001,style:t,className:r,prepend:i,center:s,fullscreen:o,portal:a,distanceFactor:l,sprite:c=!1,transform:u=!1,occlude:f,onOcclude:p,castShadow:m,receiveShadow:y,material:S,geometry:v,zIndexRange:g=[16777271,0],calculatePosition:x=uce,as:A="div",wrapperClass:E,pointerEvents:b="auto",...C},P)=>{const{gl:L,camera:N,scene:M,size:D,raycaster:z,events:W,viewport:H}=_s(),[$]=Y.useState(()=>document.createElement(A)),Z=Y.useRef(),ae=Y.useRef(null),O=Y.useRef(0),j=Y.useRef([0,0]),K=Y.useRef(null),q=Y.useRef(null),te=(a==null?void 0:a.current)||W.connected||L.domElement.parentNode,Me=Y.useRef(null),ne=Y.useRef(!1),de=Y.useMemo(()=>f&&f!=="blending"||Array.isArray(f)&&f.length&&yce(f[0]),[f]);Y.useLayoutEffect(()=>{const ce=L.domElement;f&&f==="blending"?(ce.style.zIndex=`${Math.floor(g[0]/2)}`,ce.style.position="absolute",ce.style.pointerEvents="none"):(ce.style.zIndex=null,ce.style.position=null,ce.style.pointerEvents=null)},[f]),Y.useLayoutEffect(()=>{if(ae.current){const ce=Z.current=C4($);if(M.updateMatrixWorld(),u)$.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const oe=x(ae.current,N,D);$.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${oe[0]}px,${oe[1]}px,0);transform-origin:0 0;`}return te&&(i?te.prepend($):te.appendChild($)),()=>{te&&te.removeChild($),ce.unmount()}}},[te,u]),Y.useLayoutEffect(()=>{E&&($.className=E)},[E]);const Ae=Y.useMemo(()=>u?{position:"absolute",top:0,left:0,width:D.width,height:D.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...o&&{top:-D.height/2,left:-D.width/2,width:D.width,height:D.height},...t},[t,s,o,D,u]),Pe=Y.useMemo(()=>({position:"absolute",pointerEvents:b}),[b]);Y.useLayoutEffect(()=>{if(ne.current=!1,u){var ce;(ce=Z.current)==null||ce.render(Y.createElement("div",{ref:K,style:Ae},Y.createElement("div",{ref:q,style:Pe},Y.createElement("div",{ref:P,className:r,style:t,children:n}))))}else{var oe;(oe=Z.current)==null||oe.render(Y.createElement("div",{ref:P,style:Ae,className:r,children:n}))}});const Ke=Y.useRef(!0);AV(ce=>{if(ae.current){N.updateMatrixWorld(),ae.current.updateWorldMatrix(!0,!1);const oe=u?j.current:x(ae.current,N,D);if(u||Math.abs(O.current-N.zoom)>e||Math.abs(j.current[0]-oe[0])>e||Math.abs(j.current[1]-oe[1])>e){const V=hce(ae.current,N);let he=!1;de&&(Array.isArray(f)?he=f.map(be=>be.current):f!=="blending"&&(he=[M]));const ie=Ke.current;if(he){const be=fce(ae.current,N,z,he);Ke.current=be&&!V}else Ke.current=!V;ie!==Ke.current&&(p?p(!Ke.current):$.style.display=Ke.current?"block":"none");const ye=Math.floor(g[0]/2),le=f?de?[g[0],ye]:[ye-1,0]:g;if($.style.zIndex=`${pce(ae.current,N,le)}`,u){const[be,Ee]=[D.width/2,D.height/2],F=N.projectionMatrix.elements[5]*Ee,{isOrthographicCamera:B,top:J,left:xe,bottom:Se,right:we}=N,qe=mce(N.matrixWorldInverse),Ne=B?`scale(${F})translate(${EM(-(we+xe)/2)}px,${EM((J+Se)/2)}px)`:`translateZ(${F}px)`;let Ue=ae.current.matrixWorld;c&&(Ue=N.matrixWorldInverse.clone().transpose().copyPosition(Ue).scale(ae.current.scale),Ue.elements[3]=Ue.elements[7]=Ue.elements[11]=0,Ue.elements[15]=1),$.style.width=D.width+"px",$.style.height=D.height+"px",$.style.perspective=B?"":`${F}px`,K.current&&q.current&&(K.current.style.transform=`${Ne}${qe}translate(${be}px,${Ee}px)`,q.current.style.transform=gce(Ue,1/((l||10)/400)))}else{const be=l===void 0?1:dce(ae.current,N)*l;$.style.transform=`translate3d(${oe[0]}px,${oe[1]}px,0) scale(${be})`}j.current=oe,O.current=N.zoom}}if(!de&&Me.current&&!ne.current)if(u){if(K.current){const oe=K.current.children[0];if(oe!=null&&oe.clientWidth&&oe!=null&&oe.clientHeight){const{isOrthographicCamera:V}=N;if(V||v)C.scale&&(Array.isArray(C.scale)?C.scale instanceof k?Me.current.scale.copy(C.scale.clone().divideScalar(1)):Me.current.scale.set(1/C.scale[0],1/C.scale[1],1/C.scale[2]):Me.current.scale.setScalar(1/C.scale));else{const he=(l||10)/400,ie=oe.clientWidth*he,ye=oe.clientHeight*he;Me.current.scale.set(ie,ye,1)}ne.current=!0}}}else{const oe=$.children[0];if(oe!=null&&oe.clientWidth&&oe!=null&&oe.clientHeight){const V=1/H.factor,he=oe.clientWidth*V,ie=oe.clientHeight*V;Me.current.scale.set(he,ie,1),ne.current=!0}Me.current.lookAt(ce.camera.position)}});const ke=Y.useMemo(()=>({vertexShader:u?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom" 
            is false. 
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;
            
            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[u]);return Y.createElement("group",hf({},C,{ref:ae}),f&&!de&&Y.createElement("mesh",{castShadow:m,receiveShadow:y,ref:Me},v||Y.createElement("planeGeometry",null),S||Y.createElement("shaderMaterial",{side:ws,vertexShader:ke.vertexShader,fragmentShader:ke.fragmentShader})))});let Id=0;const _ce=sV(n=>(Th.onStart=(e,t,r)=>{n({active:!0,item:e,loaded:t,total:r,progress:(t-Id)/(r-Id)*100})},Th.onLoad=()=>{n({active:!1})},Th.onError=e=>n(t=>({errors:[...t.errors,e]})),Th.onProgress=(e,t,r)=>{t===r&&(Id=r),n({active:!0,item:e,loaded:t,total:r,progress:(t-Id)/(r-Id)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));function QB(n,e){if(e===j5)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===g_||e===r2){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const r=t.count-2,i=[];if(t)if(e===g_)for(let o=1;o<=r;o++)i.push(t.getX(0)),i.push(t.getX(o)),i.push(t.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(t.getX(o)),i.push(t.getX(o+1)),i.push(t.getX(o+2))):(i.push(t.getX(o+2)),i.push(t.getX(o+1)),i.push(t.getX(o)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(i),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}const xce=parseInt(Hm.replace(/\D+/g,""));var Sce=Object.defineProperty,Ace=(n,e,t)=>e in n?Sce(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,xt=(n,e,t)=>(Ace(n,typeof e!="symbol"?e+"":e,t),t);const C0=new lu,ZB=new Qo,wce=Math.cos(70*(Math.PI/180)),eN=(n,e)=>(n%e+e)%e;let Ece=class extends Bo{constructor(e,t){super(),xt(this,"object"),xt(this,"domElement"),xt(this,"enabled",!0),xt(this,"target",new k),xt(this,"minDistance",0),xt(this,"maxDistance",1/0),xt(this,"minZoom",0),xt(this,"maxZoom",1/0),xt(this,"minPolarAngle",0),xt(this,"maxPolarAngle",Math.PI),xt(this,"minAzimuthAngle",-1/0),xt(this,"maxAzimuthAngle",1/0),xt(this,"enableDamping",!1),xt(this,"dampingFactor",.05),xt(this,"enableZoom",!0),xt(this,"zoomSpeed",1),xt(this,"enableRotate",!0),xt(this,"rotateSpeed",1),xt(this,"enablePan",!0),xt(this,"panSpeed",1),xt(this,"screenSpacePanning",!0),xt(this,"keyPanSpeed",7),xt(this,"zoomToCursor",!1),xt(this,"autoRotate",!1),xt(this,"autoRotateSpeed",2),xt(this,"reverseOrbit",!1),xt(this,"reverseHorizontalOrbit",!1),xt(this,"reverseVerticalOrbit",!1),xt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),xt(this,"mouseButtons",{LEFT:hc.ROTATE,MIDDLE:hc.DOLLY,RIGHT:hc.PAN}),xt(this,"touches",{ONE:fc.ROTATE,TWO:fc.DOLLY_PAN}),xt(this,"target0"),xt(this,"position0"),xt(this,"zoom0"),xt(this,"_domElementKeyEvents",null),xt(this,"getPolarAngle"),xt(this,"getAzimuthalAngle"),xt(this,"setPolarAngle"),xt(this,"setAzimuthalAngle"),xt(this,"getDistance"),xt(this,"listenToKeyEvents"),xt(this,"stopListenToKeyEvents"),xt(this,"saveState"),xt(this,"reset"),xt(this,"update"),xt(this,"connect"),xt(this,"dispose"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>u.phi,this.getAzimuthalAngle=()=>u.theta,this.setPolarAngle=Q=>{let Te=eN(Q,2*Math.PI),He=u.phi;He<0&&(He+=2*Math.PI),Te<0&&(Te+=2*Math.PI);let Je=Math.abs(Te-He);2*Math.PI-Je<Je&&(Te<He?Te+=2*Math.PI:He+=2*Math.PI),f.phi=Te-He,r.update()},this.setAzimuthalAngle=Q=>{let Te=eN(Q,2*Math.PI),He=u.theta;He<0&&(He+=2*Math.PI),Te<0&&(Te+=2*Math.PI);let Je=Math.abs(Te-He);2*Math.PI-Je<Je&&(Te<He?Te+=2*Math.PI:He+=2*Math.PI),f.theta=Te-He,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=Q=>{Q.addEventListener("keydown",lt),this._domElementKeyEvents=Q},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",lt),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=a.NONE},this.update=(()=>{const Q=new k,Te=new k(0,1,0),He=new wr().setFromUnitVectors(e.up,Te),Je=He.clone().invert(),vt=new k,X=new wr,Ie=2*Math.PI;return function(){const tt=r.object.position;He.setFromUnitVectors(e.up,Te),Je.copy(He).invert(),Q.copy(tt).sub(r.target),Q.applyQuaternion(He),u.setFromVector3(Q),r.autoRotate&&l===a.NONE&&H(z()),r.enableDamping?(u.theta+=f.theta*r.dampingFactor,u.phi+=f.phi*r.dampingFactor):(u.theta+=f.theta,u.phi+=f.phi);let nt=r.minAzimuthAngle,Lt=r.maxAzimuthAngle;isFinite(nt)&&isFinite(Lt)&&(nt<-Math.PI?nt+=Ie:nt>Math.PI&&(nt-=Ie),Lt<-Math.PI?Lt+=Ie:Lt>Math.PI&&(Lt-=Ie),nt<=Lt?u.theta=Math.max(nt,Math.min(Lt,u.theta)):u.theta=u.theta>(nt+Lt)/2?Math.max(nt,u.theta):Math.min(Lt,u.theta)),u.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,u.phi)),u.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(m,r.dampingFactor):r.target.add(m),r.zoomToCursor&&N||r.object.isOrthographicCamera?u.radius=te(u.radius):u.radius=te(u.radius*p),Q.setFromSpherical(u),Q.applyQuaternion(Je),tt.copy(r.target).add(Q),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(f.theta*=1-r.dampingFactor,f.phi*=1-r.dampingFactor,m.multiplyScalar(1-r.dampingFactor)):(f.set(0,0,0),m.set(0,0,0));let Gt=!1;if(r.zoomToCursor&&N){let fn=null;if(r.object instanceof xn&&r.object.isPerspectiveCamera){const Gn=Q.length();fn=te(Gn*p);const $t=Gn-fn;r.object.position.addScaledVector(P,$t),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const Gn=new k(L.x,L.y,0);Gn.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/p)),r.object.updateProjectionMatrix(),Gt=!0;const $t=new k(L.x,L.y,0);$t.unproject(r.object),r.object.position.sub($t).add(Gn),r.object.updateMatrixWorld(),fn=Q.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;fn!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(fn).add(r.object.position):(C0.origin.copy(r.object.position),C0.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(C0.direction))<wce?e.lookAt(r.target):(ZB.setFromNormalAndCoplanarPoint(r.object.up,r.target),C0.intersectPlane(ZB,r.target))))}else r.object instanceof Cs&&r.object.isOrthographicCamera&&(Gt=p!==1,Gt&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/p)),r.object.updateProjectionMatrix()));return p=1,N=!1,Gt||vt.distanceToSquared(r.object.position)>c||8*(1-X.dot(r.object.quaternion))>c?(r.dispatchEvent(i),vt.copy(r.object.position),X.copy(r.object.quaternion),Gt=!1,!0):!1}})(),this.connect=Q=>{Q===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),r.domElement=Q,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",zt),r.domElement.addEventListener("pointerdown",J),r.domElement.addEventListener("pointercancel",we),r.domElement.addEventListener("wheel",Ue)},this.dispose=()=>{var Q,Te,He,Je,vt,X;(Q=r.domElement)==null||Q.removeEventListener("contextmenu",zt),(Te=r.domElement)==null||Te.removeEventListener("pointerdown",J),(He=r.domElement)==null||He.removeEventListener("pointercancel",we),(Je=r.domElement)==null||Je.removeEventListener("wheel",Ue),(vt=r.domElement)==null||vt.ownerDocument.removeEventListener("pointermove",xe),(X=r.domElement)==null||X.ownerDocument.removeEventListener("pointerup",Se),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",lt)};const r=this,i={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const c=1e-6,u=new xM,f=new xM;let p=1;const m=new k,y=new _e,S=new _e,v=new _e,g=new _e,x=new _e,A=new _e,E=new _e,b=new _e,C=new _e,P=new k,L=new _e;let N=!1;const M=[],D={};function z(){return 2*Math.PI/60/60*r.autoRotateSpeed}function W(){return Math.pow(.95,r.zoomSpeed)}function H(Q){r.reverseOrbit||r.reverseHorizontalOrbit?f.theta+=Q:f.theta-=Q}function $(Q){r.reverseOrbit||r.reverseVerticalOrbit?f.phi+=Q:f.phi-=Q}const Z=(()=>{const Q=new k;return function(He,Je){Q.setFromMatrixColumn(Je,0),Q.multiplyScalar(-He),m.add(Q)}})(),ae=(()=>{const Q=new k;return function(He,Je){r.screenSpacePanning===!0?Q.setFromMatrixColumn(Je,1):(Q.setFromMatrixColumn(Je,0),Q.crossVectors(r.object.up,Q)),Q.multiplyScalar(He),m.add(Q)}})(),O=(()=>{const Q=new k;return function(He,Je){const vt=r.domElement;if(vt&&r.object instanceof xn&&r.object.isPerspectiveCamera){const X=r.object.position;Q.copy(X).sub(r.target);let Ie=Q.length();Ie*=Math.tan(r.object.fov/2*Math.PI/180),Z(2*He*Ie/vt.clientHeight,r.object.matrix),ae(2*Je*Ie/vt.clientHeight,r.object.matrix)}else vt&&r.object instanceof Cs&&r.object.isOrthographicCamera?(Z(He*(r.object.right-r.object.left)/r.object.zoom/vt.clientWidth,r.object.matrix),ae(Je*(r.object.top-r.object.bottom)/r.object.zoom/vt.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function j(Q){r.object instanceof xn&&r.object.isPerspectiveCamera||r.object instanceof Cs&&r.object.isOrthographicCamera?p/=Q:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function K(Q){r.object instanceof xn&&r.object.isPerspectiveCamera||r.object instanceof Cs&&r.object.isOrthographicCamera?p*=Q:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function q(Q){if(!r.zoomToCursor||!r.domElement)return;N=!0;const Te=r.domElement.getBoundingClientRect(),He=Q.clientX-Te.left,Je=Q.clientY-Te.top,vt=Te.width,X=Te.height;L.x=He/vt*2-1,L.y=-(Je/X)*2+1,P.set(L.x,L.y,1).unproject(r.object).sub(r.object.position).normalize()}function te(Q){return Math.max(r.minDistance,Math.min(r.maxDistance,Q))}function Me(Q){y.set(Q.clientX,Q.clientY)}function ne(Q){q(Q),E.set(Q.clientX,Q.clientY)}function de(Q){g.set(Q.clientX,Q.clientY)}function Ae(Q){S.set(Q.clientX,Q.clientY),v.subVectors(S,y).multiplyScalar(r.rotateSpeed);const Te=r.domElement;Te&&(H(2*Math.PI*v.x/Te.clientHeight),$(2*Math.PI*v.y/Te.clientHeight)),y.copy(S),r.update()}function Pe(Q){b.set(Q.clientX,Q.clientY),C.subVectors(b,E),C.y>0?j(W()):C.y<0&&K(W()),E.copy(b),r.update()}function Ke(Q){x.set(Q.clientX,Q.clientY),A.subVectors(x,g).multiplyScalar(r.panSpeed),O(A.x,A.y),g.copy(x),r.update()}function ke(Q){q(Q),Q.deltaY<0?K(W()):Q.deltaY>0&&j(W()),r.update()}function ce(Q){let Te=!1;switch(Q.code){case r.keys.UP:O(0,r.keyPanSpeed),Te=!0;break;case r.keys.BOTTOM:O(0,-r.keyPanSpeed),Te=!0;break;case r.keys.LEFT:O(r.keyPanSpeed,0),Te=!0;break;case r.keys.RIGHT:O(-r.keyPanSpeed,0),Te=!0;break}Te&&(Q.preventDefault(),r.update())}function oe(){if(M.length==1)y.set(M[0].pageX,M[0].pageY);else{const Q=.5*(M[0].pageX+M[1].pageX),Te=.5*(M[0].pageY+M[1].pageY);y.set(Q,Te)}}function V(){if(M.length==1)g.set(M[0].pageX,M[0].pageY);else{const Q=.5*(M[0].pageX+M[1].pageX),Te=.5*(M[0].pageY+M[1].pageY);g.set(Q,Te)}}function he(){const Q=M[0].pageX-M[1].pageX,Te=M[0].pageY-M[1].pageY,He=Math.sqrt(Q*Q+Te*Te);E.set(0,He)}function ie(){r.enableZoom&&he(),r.enablePan&&V()}function ye(){r.enableZoom&&he(),r.enableRotate&&oe()}function le(Q){if(M.length==1)S.set(Q.pageX,Q.pageY);else{const He=Ye(Q),Je=.5*(Q.pageX+He.x),vt=.5*(Q.pageY+He.y);S.set(Je,vt)}v.subVectors(S,y).multiplyScalar(r.rotateSpeed);const Te=r.domElement;Te&&(H(2*Math.PI*v.x/Te.clientHeight),$(2*Math.PI*v.y/Te.clientHeight)),y.copy(S)}function be(Q){if(M.length==1)x.set(Q.pageX,Q.pageY);else{const Te=Ye(Q),He=.5*(Q.pageX+Te.x),Je=.5*(Q.pageY+Te.y);x.set(He,Je)}A.subVectors(x,g).multiplyScalar(r.panSpeed),O(A.x,A.y),g.copy(x)}function Ee(Q){const Te=Ye(Q),He=Q.pageX-Te.x,Je=Q.pageY-Te.y,vt=Math.sqrt(He*He+Je*Je);b.set(0,vt),C.set(0,Math.pow(b.y/E.y,r.zoomSpeed)),j(C.y),E.copy(b)}function F(Q){r.enableZoom&&Ee(Q),r.enablePan&&be(Q)}function B(Q){r.enableZoom&&Ee(Q),r.enableRotate&&le(Q)}function J(Q){var Te,He;r.enabled!==!1&&(M.length===0&&((Te=r.domElement)==null||Te.ownerDocument.addEventListener("pointermove",xe),(He=r.domElement)==null||He.ownerDocument.addEventListener("pointerup",Se)),It(Q),Q.pointerType==="touch"?At(Q):qe(Q))}function xe(Q){r.enabled!==!1&&(Q.pointerType==="touch"?Re(Q):Ne(Q))}function Se(Q){var Te,He,Je;yt(Q),M.length===0&&((Te=r.domElement)==null||Te.releasePointerCapture(Q.pointerId),(He=r.domElement)==null||He.ownerDocument.removeEventListener("pointermove",xe),(Je=r.domElement)==null||Je.ownerDocument.removeEventListener("pointerup",Se)),r.dispatchEvent(o),l=a.NONE}function we(Q){yt(Q)}function qe(Q){let Te;switch(Q.button){case 0:Te=r.mouseButtons.LEFT;break;case 1:Te=r.mouseButtons.MIDDLE;break;case 2:Te=r.mouseButtons.RIGHT;break;default:Te=-1}switch(Te){case hc.DOLLY:if(r.enableZoom===!1)return;ne(Q),l=a.DOLLY;break;case hc.ROTATE:if(Q.ctrlKey||Q.metaKey||Q.shiftKey){if(r.enablePan===!1)return;de(Q),l=a.PAN}else{if(r.enableRotate===!1)return;Me(Q),l=a.ROTATE}break;case hc.PAN:if(Q.ctrlKey||Q.metaKey||Q.shiftKey){if(r.enableRotate===!1)return;Me(Q),l=a.ROTATE}else{if(r.enablePan===!1)return;de(Q),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Ne(Q){if(r.enabled!==!1)switch(l){case a.ROTATE:if(r.enableRotate===!1)return;Ae(Q);break;case a.DOLLY:if(r.enableZoom===!1)return;Pe(Q);break;case a.PAN:if(r.enablePan===!1)return;Ke(Q);break}}function Ue(Q){r.enabled===!1||r.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(Q.preventDefault(),r.dispatchEvent(s),ke(Q),r.dispatchEvent(o))}function lt(Q){r.enabled===!1||r.enablePan===!1||ce(Q)}function At(Q){switch(at(Q),M.length){case 1:switch(r.touches.ONE){case fc.ROTATE:if(r.enableRotate===!1)return;oe(),l=a.TOUCH_ROTATE;break;case fc.PAN:if(r.enablePan===!1)return;V(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(r.touches.TWO){case fc.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;ie(),l=a.TOUCH_DOLLY_PAN;break;case fc.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;ye(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Re(Q){switch(at(Q),l){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;le(Q),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;be(Q),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;F(Q),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;B(Q),r.update();break;default:l=a.NONE}}function zt(Q){r.enabled!==!1&&Q.preventDefault()}function It(Q){M.push(Q)}function yt(Q){delete D[Q.pointerId];for(let Te=0;Te<M.length;Te++)if(M[Te].pointerId==Q.pointerId){M.splice(Te,1);return}}function at(Q){let Te=D[Q.pointerId];Te===void 0&&(Te=new _e,D[Q.pointerId]=Te),Te.set(Q.pageX,Q.pageY)}function Ye(Q){const Te=Q.pointerId===M[0].pointerId?M[1]:M[0];return D[Te.pointerId]}t!==void 0&&this.connect(t),this.update()}};class W2 extends oi{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new Rce(t)}),this.register(function(t){return new Fce(t)}),this.register(function(t){return new kce(t)}),this.register(function(t){return new Uce(t)}),this.register(function(t){return new Ice(t)}),this.register(function(t){return new Lce(t)}),this.register(function(t){return new Dce(t)}),this.register(function(t){return new Bce(t)}),this.register(function(t){return new bce(t)}),this.register(function(t){return new Nce(t)}),this.register(function(t){return new Pce(t)}),this.register(function(t){return new Oce(t)}),this.register(function(t){return new Mce(t)}),this.register(function(t){return new Vce(t)}),this.register(function(t){return new zce(t)})}load(e,t,r,i){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=Mo.extractUrlBase(e),this.manager.itemStart(e);const a=function(c){i?i(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new ts(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,o,function(u){t(u),s.manager.itemEnd(e)},a)}catch(u){a(u)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,r,i){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(Mo.decodeText(new Uint8Array(e.slice(0,4)))===PV){try{o[jt.KHR_BINARY_GLTF]=new Hce(e)}catch(u){i&&i(u);return}s=JSON.parse(o[jt.KHR_BINARY_GLTF].content)}else s=JSON.parse(Mo.decodeText(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new tue(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const u=this.pluginCallbacks[c](l);a[u.name]=u,o[u.name]=!0}if(s.extensionsUsed)for(let c=0;c<s.extensionsUsed.length;++c){const u=s.extensionsUsed[c],f=s.extensionsRequired||[];switch(u){case jt.KHR_MATERIALS_UNLIT:o[u]=new Cce;break;case jt.KHR_DRACO_MESH_COMPRESSION:o[u]=new Gce(s,this.dracoLoader);break;case jt.KHR_TEXTURE_TRANSFORM:o[u]=new jce;break;case jt.KHR_MESH_QUANTIZATION:o[u]=new Wce;break;default:f.indexOf(u)>=0&&a[u]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+u+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(r,i)}parseAsync(e,t){const r=this;return new Promise(function(i,s){r.parse(e,t,i,s)})}}function Tce(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const jt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Mce{constructor(e){this.parser=e,this.name=jt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let r=0,i=t.length;r<i;r++){const s=t[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,r="light:"+e;let i=t.cache.get(r);if(i)return i;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const u=new Ve(16777215);l.color!==void 0&&u.fromArray(l.color);const f=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new O2(u),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new N2(u),c.distance=f;break;case"spot":c=new B2(u),c.distance=f,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,Wa(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),i=Promise.resolve(c),t.cache.add(r,i),i}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,r=this.parser,s=r.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return r._getNodeRef(t.cache,a,l)})}}class Cce{constructor(){this.name=jt.KHR_MATERIALS_UNLIT}getMaterialType(){return Ji}extendParams(e,t,r){const i=[];e.color=new Ve(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture,3001))}return Promise.all(i)}}class bce{constructor(e){this.parser=e,this.name=jt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class Rce{constructor(e){this.parser=e,this.name=jt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:No}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new _e(a,a)}return Promise.all(s)}}class Pce{constructor(e){this.parser=e,this.name=jt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:No}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class Ice{constructor(e){this.parser=e,this.name=jt.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:No}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new Ve(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=i.extensions[this.name];return o.sheenColorFactor!==void 0&&t.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(r.assignTexture(t,"sheenColorMap",o.sheenColorTexture,3001)),o.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class Lce{constructor(e){this.parser=e,this.name=jt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:No}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(r.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class Dce{constructor(e){this.parser=e,this.name=jt.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:No}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(r.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new Ve(a[0],a[1],a[2]),Promise.all(s)}}class Bce{constructor(e){this.parser=e,this.name=jt.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:No}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class Nce{constructor(e){this.parser=e,this.name=jt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:No}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(r.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new Ve(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(r.assignTexture(t,"specularColorMap",o.specularColorTexture,3001)),Promise.all(s)}}class Oce{constructor(e){this.parser=e,this.name=jt.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:No}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.anisotropyStrength!==void 0&&(t.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(t.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(r.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class Fce{constructor(e){this.parser=e,this.name=jt.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,r=t.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class kce{constructor(e){this.parser=e,this.name=jt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Uce{constructor(e){this.parser=e,this.name=jt.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Vce{constructor(e){this.name=jt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,r=t.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=i.byteOffset||0,c=i.byteLength||0,u=i.count,f=i.byteStride,p=new Uint8Array(a,l,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(u,f,p,i.mode,i.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(u*f);return o.decodeGltfBuffer(new Uint8Array(m),u,f,p,i.mode,i.filter),m})})}else return null}}class zce{constructor(e){this.name=jt.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,r=t.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const i=t.meshes[r.mesh];for(const c of i.primitives)if(c.mode!==vs.TRIANGLES&&c.mode!==vs.TRIANGLE_STRIP&&c.mode!==vs.TRIANGLE_FAN&&c.mode!==void 0)return null;const o=r.extensions[this.name].attributes,a=[],l={};for(const c in o)a.push(this.parser.getDependency("accessor",o[c]).then(u=>(l[c]=u,l[c])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(c=>{const u=c.pop(),f=u.isGroup?u.children:[u],p=c[0].count,m=[];for(const y of f){const S=new ht,v=new k,g=new wr,x=new k(1,1,1),A=new x2(y.geometry,y.material,p);for(let E=0;E<p;E++)l.TRANSLATION&&v.fromBufferAttribute(l.TRANSLATION,E),l.ROTATION&&g.fromBufferAttribute(l.ROTATION,E),l.SCALE&&x.fromBufferAttribute(l.SCALE,E),A.setMatrixAt(E,S.compose(v,g,x));for(const E in l)E!=="TRANSLATION"&&E!=="ROTATION"&&E!=="SCALE"&&y.geometry.setAttribute(E,l[E]);Kt.prototype.copy.call(A,y),this.parser.assignFinalMaterial(A),m.push(A)}return u.isGroup?(u.clear(),u.add(...m),u):m[0]}))}}const PV="glTF",Ld=12,tN={JSON:1313821514,BIN:5130562};class Hce{constructor(e){this.name=jt.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,Ld);if(this.header={magic:Mo.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==PV)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-Ld,i=new DataView(e,Ld);let s=0;for(;s<r;){const o=i.getUint32(s,!0);s+=4;const a=i.getUint32(s,!0);if(s+=4,a===tN.JSON){const l=new Uint8Array(e,Ld+s,o);this.content=Mo.decodeText(l)}else if(a===tN.BIN){const l=Ld+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Gce{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=jt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const u in o){const f=TM[u]||u.toLowerCase();a[f]=o[u]}for(const u in e.attributes){const f=TM[u]||u.toLowerCase();if(o[u]!==void 0){const p=r.accessors[e.attributes[u]],m=Xh[p.componentType];c[f]=m.name,l[f]=p.normalized===!0}}return t.getDependency("bufferView",s).then(function(u){return new Promise(function(f){i.decodeDracoFile(u,function(p){for(const m in p.attributes){const y=p.attributes[m],S=l[m];S!==void 0&&(y.normalized=S)}f(p)},a,c)})})}}class jce{constructor(){this.name=jt.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class Wce{constructor(){this.name=jt.KHR_MESH_QUANTIZATION}}class IV extends Uf{constructor(e,t,r,i){super(e,t,r,i)}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)t[o]=r[s+o];return t}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,u=i-t,f=(r-t)/u,p=f*f,m=p*f,y=e*c,S=y-c,v=-2*m+3*p,g=m-p,x=1-v,A=g-p+f;for(let E=0;E!==a;E++){const b=o[S+E+a],C=o[S+E+l]*u,P=o[y+E+a],L=o[y+E]*u;s[E]=x*b+A*C+v*P+g*L}return s}}const Xce=new wr;class Kce extends IV{interpolate_(e,t,r,i){const s=super.interpolate_(e,t,r,i);return Xce.fromArray(s).normalize().toArray(s),s}}const vs={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Xh={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},nN={9728:kn,9729:vn,9984:om,9985:jh,9986:Ya,9987:Ms},rN={33071:Nr,33648:ff,10497:Ml},xw={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},TM={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...xce>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Ua={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Jce={CUBICSPLINE:void 0,LINEAR:tu,STEP:pf},Sw={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function $ce(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new eg({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Io})),n.DefaultMaterial}function sc(n,e,t){for(const r in t.extensions)n[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=t.extensions[r])}function Wa(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function Yce(n,e,t){let r=!1,i=!1,s=!1;for(let c=0,u=e.length;c<u;c++){const f=e[c];if(f.POSITION!==void 0&&(r=!0),f.NORMAL!==void 0&&(i=!0),f.COLOR_0!==void 0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let c=0,u=e.length;c<u;c++){const f=e[c];if(r){const p=f.POSITION!==void 0?t.getDependency("accessor",f.POSITION):n.attributes.position;o.push(p)}if(i){const p=f.NORMAL!==void 0?t.getDependency("accessor",f.NORMAL):n.attributes.normal;a.push(p)}if(s){const p=f.COLOR_0!==void 0?t.getDependency("accessor",f.COLOR_0):n.attributes.color;l.push(p)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const u=c[0],f=c[1],p=c[2];return r&&(n.morphAttributes.position=u),i&&(n.morphAttributes.normal=f),s&&(n.morphAttributes.color=p),n.morphTargetsRelative=!0,n})}function qce(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,r=e.weights.length;t<r;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let r=0,i=t.length;r<i;r++)n.morphTargetDictionary[t[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Qce(n){let e;const t=n.extensions&&n.extensions[jt.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+Aw(t.attributes):e=n.indices+":"+Aw(n.attributes)+":"+n.mode,n.targets!==void 0)for(let r=0,i=n.targets.length;r<i;r++)e+=":"+Aw(n.targets[r]);return e}function Aw(n){let e="";const t=Object.keys(n).sort();for(let r=0,i=t.length;r<i;r++)e+=t[r]+":"+n[t[r]]+";";return e}function MM(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function Zce(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const eue=new ht;class tue{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new Tce,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,i=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,s=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||i&&s<98?this.textureLoader=new j6(this.options.manager):this.textureLoader=new Q6(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new ts(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:r,userData:{}};sc(s,a,i),Wa(a,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=t.length;i<s;i++){const o=t[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,r){if(e.refs[t]<=1)return r;const i=r.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,u]of o.children.entries())s(u,a.children[c])};return s(r,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let r=0;r<t.length;r++){const i=e(t[r]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const r=[];for(let i=0;i<t.length;i++){const s=e(t[i]);s&&r.push(s)}return r}getDependency(e,t){const r=e+":"+t;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":i=this.loadCamera(t);break;default:if(i=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(r,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(i.map(function(s,o){return r.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],r=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[jt.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){r.load(Mo.resolveURL(t.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(r){const i=t.byteLength||0,s=t.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const t=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const o=xw[i.type],a=Xh[i.componentType],l=i.normalized===!0,c=new a(i.count*o);return Promise.resolve(new Jt(c,o,l))}const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=xw[i.type],c=Xh[i.componentType],u=c.BYTES_PER_ELEMENT,f=u*l,p=i.byteOffset||0,m=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,y=i.normalized===!0;let S,v;if(m&&m!==f){const g=Math.floor(p/m),x="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+g+":"+i.count;let A=t.cache.get(x);A||(S=new c(a,g*m,i.count*m/u),A=new $m(S,m/u),t.cache.add(x,A)),v=new Cl(A,l,p%m/u,y)}else a===null?S=new c(i.count*l):S=new c(a,p,i.count*l),v=new Jt(S,l,y);if(i.sparse!==void 0){const g=xw.SCALAR,x=Xh[i.sparse.indices.componentType],A=i.sparse.indices.byteOffset||0,E=i.sparse.values.byteOffset||0,b=new x(o[1],A,i.sparse.count*g),C=new c(o[2],E,i.sparse.count*l);a!==null&&(v=new Jt(v.array.slice(),v.itemSize,v.normalized));for(let P=0,L=b.length;P<L;P++){const N=b[P];if(v.setX(N,C[P*l]),l>=2&&v.setY(N,C[P*l+1]),l>=3&&v.setZ(N,C[P*l+2]),l>=4&&v.setW(N,C[P*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return v})}loadTexture(e){const t=this.json,r=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=r.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,r){const i=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,r).then(function(u){u.flipY=!1,u.name=o.name||a.name||"",u.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(u.name=a.uri);const p=(s.samplers||{})[o.sampler]||{};return u.magFilter=nN[p.magFilter]||vn,u.minFilter=nN[p.minFilter]||Ms,u.wrapS=rN[p.wrapS]||Ml,u.wrapT=rN[p.wrapT]||Ml,i.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const r=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(f=>f.clone());const o=i.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=r.getDependency("bufferView",o.bufferView).then(function(f){c=!0;const p=new Blob([f],{type:o.mimeType});return l=a.createObjectURL(p),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then(function(f){return new Promise(function(p,m){let y=p;t.isImageBitmapLoader===!0&&(y=function(S){const v=new An(S);v.needsUpdate=!0,p(v)}),t.load(Mo.resolveURL(f,s.path),y,void 0,m)})}).then(function(f){return c===!0&&a.revokeObjectURL(l),f.userData.mimeType=o.mimeType||Zce(o.uri),f}).catch(function(f){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),f});return this.sourceCache[e]=u,u}assignTexture(e,t,r,i){const s=this;return this.getDependency("texture",r.index).then(function(o){if(!o)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(o=o.clone(),o.channel=r.texCoord),s.extensions[jt.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[jt.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[jt.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return i!==void 0&&("colorSpace"in o?o.colorSpace=i===3001?"srgb":"srgb-linear":o.encoding=i),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let r=e.material;const i=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new zx,sr.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(a,l)),r=l}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new si,sr.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,this.cache.add(a,l)),r=l}if(i||s||o){let a="ClonedMaterial:"+r.uuid+":";i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=r.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(r))),r=l}e.material=r}getMaterialType(){return eg}loadMaterial(e){const t=this,r=this.json,i=this.extensions,s=r.materials[e];let o;const a={},l=s.extensions||{},c=[];if(l[jt.KHR_MATERIALS_UNLIT]){const f=i[jt.KHR_MATERIALS_UNLIT];o=f.getMaterialType(),c.push(f.extendParams(a,s,t))}else{const f=s.pbrMetallicRoughness||{};if(a.color=new Ve(1,1,1),a.opacity=1,Array.isArray(f.baseColorFactor)){const p=f.baseColorFactor;a.color.fromArray(p),a.opacity=p[3]}f.baseColorTexture!==void 0&&c.push(t.assignTexture(a,"map",f.baseColorTexture,3001)),a.metalness=f.metallicFactor!==void 0?f.metallicFactor:1,a.roughness=f.roughnessFactor!==void 0?f.roughnessFactor:1,f.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(a,"metalnessMap",f.metallicRoughnessTexture)),c.push(t.assignTexture(a,"roughnessMap",f.metallicRoughnessTexture))),o=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=ws);const u=s.alphaMode||Sw.OPAQUE;if(u===Sw.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,u===Sw.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==Ji&&(c.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new _e(1,1),s.normalTexture.scale!==void 0)){const f=s.normalTexture.scale;a.normalScale.set(f,f)}return s.occlusionTexture!==void 0&&o!==Ji&&(c.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==Ji&&(a.emissive=new Ve().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==Ji&&c.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,3001)),Promise.all(c).then(function(){const f=new o(a);return s.name&&(f.name=s.name),Wa(f,s),t.associations.set(f,{materials:e}),s.extensions&&sc(i,f,s),f})}createUniqueName(e){const t=Xt.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,r=this.extensions,i=this.primitiveCache;function s(a){return r[jt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return iN(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],u=Qce(c),f=i[u];if(f)o.push(f.promise);else{let p;c.extensions&&c.extensions[jt.KHR_DRACO_MESH_COMPRESSION]?p=s(c):p=iN(new Rt,c,t),i[u]={primitive:c,promise:p},o.push(p)}}return Promise.all(o)}loadMesh(e){const t=this,r=this.json,i=this.extensions,s=r.meshes[e],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const u=o[l].material===void 0?$ce(this.cache):this.getDependency("material",o[l].material);a.push(u)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),u=l[l.length-1],f=[];for(let m=0,y=u.length;m<y;m++){const S=u[m],v=o[m];let g;const x=c[m];if(v.mode===vs.TRIANGLES||v.mode===vs.TRIANGLE_STRIP||v.mode===vs.TRIANGLE_FAN||v.mode===void 0)g=s.isSkinnedMesh===!0?new _2(S,x):new Jn(S,x),g.isSkinnedMesh===!0&&g.normalizeSkinWeights(),v.mode===vs.TRIANGLE_STRIP?g.geometry=QB(g.geometry,r2):v.mode===vs.TRIANGLE_FAN&&(g.geometry=QB(g.geometry,g_));else if(v.mode===vs.LINES)g=new qs(S,x);else if(v.mode===vs.LINE_STRIP)g=new _a(S,x);else if(v.mode===vs.LINE_LOOP)g=new S2(S,x);else if(v.mode===vs.POINTS)g=new A2(S,x);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+v.mode);Object.keys(g.geometry.morphAttributes).length>0&&qce(g,s),g.name=t.createUniqueName(s.name||"mesh_"+e),Wa(g,s),v.extensions&&sc(i,g,v),t.assignFinalMaterial(g),f.push(g)}for(let m=0,y=f.length;m<y;m++)t.associations.set(f[m],{meshes:e,primitives:m});if(f.length===1)return s.extensions&&sc(i,f[0],s),f[0];const p=new ia;s.extensions&&sc(i,p,s),t.associations.set(p,{meshes:e});for(let m=0,y=f.length;m<y;m++)p.add(f[m]);return p})}loadCamera(e){let t;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?t=new xn(t6.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(t=new Cs(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),Wa(t,r),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],r=[];for(let i=0,s=t.joints.length;i<s;i++)r.push(this._loadNodeShallow(t.joints[i]));return t.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",t.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(i){const s=i.pop(),o=i,a=[],l=[];for(let c=0,u=o.length;c<u;c++){const f=o[c];if(f){a.push(f);const p=new ht;s!==null&&p.fromArray(s.array,c*16),l.push(p)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[c])}return new Ym(a,l)})}loadAnimation(e){const r=this.json.animations[e],i=r.name?r.name:"animation_"+e,s=[],o=[],a=[],l=[],c=[];for(let u=0,f=r.channels.length;u<f;u++){const p=r.channels[u],m=r.samplers[p.sampler],y=p.target,S=y.node,v=r.parameters!==void 0?r.parameters[m.input]:m.input,g=r.parameters!==void 0?r.parameters[m.output]:m.output;y.node!==void 0&&(s.push(this.getDependency("node",S)),o.push(this.getDependency("accessor",v)),a.push(this.getDependency("accessor",g)),l.push(m),c.push(y))}return Promise.all([Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(c)]).then(function(u){const f=u[0],p=u[1],m=u[2],y=u[3],S=u[4],v=[];for(let g=0,x=f.length;g<x;g++){const A=f[g],E=p[g],b=m[g],C=y[g],P=S[g];if(A===void 0)continue;A.updateMatrix();let L;switch(Ua[P.path]){case Ua.weights:L=vf;break;case Ua.rotation:L=bl;break;case Ua.position:case Ua.scale:default:L=_f;break}const N=A.name?A.name:A.uuid,M=C.interpolation!==void 0?Jce[C.interpolation]:tu,D=[];Ua[P.path]===Ua.weights?A.traverse(function(W){W.morphTargetInfluences&&D.push(W.name?W.name:W.uuid)}):D.push(N);let z=b.array;if(b.normalized){const W=MM(z.constructor),H=new Float32Array(z.length);for(let $=0,Z=z.length;$<Z;$++)H[$]=z[$]*W;z=H}for(let W=0,H=D.length;W<H;W++){const $=new L(D[W]+"."+Ua[P.path],E.array,z,M);C.interpolation==="CUBICSPLINE"&&($.createInterpolant=function(ae){const O=this instanceof bl?Kce:IV;return new O(this.times,this.values,this.getValueSize()/3,ae)},$.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),v.push($)}}return new xf(i,void 0,v)})}createNodeMesh(e){const t=this.json,r=this,i=t.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const o=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=i.weights.length;l<c;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const t=this.json,r=this,i=t.nodes[e],s=r._loadNodeShallow(e),o=[],a=i.children||[];for(let c=0,u=a.length;c<u;c++)o.push(r.getDependency("node",a[c]));const l=i.skin===void 0?Promise.resolve(null):r.getDependency("skin",i.skin);return Promise.all([s,Promise.all(o),l]).then(function(c){const u=c[0],f=c[1],p=c[2];p!==null&&u.traverse(function(m){m.isSkinnedMesh&&m.bind(p,eue)});for(let m=0,y=f.length;m<y;m++)u.add(f[m]);return u})}_loadNodeShallow(e){const t=this.json,r=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],o=s.name?i.createUniqueName(s.name):"",a=[],l=i._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(c){return i._getNodeRef(i.cameraCache,s.camera,c)})),i._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),this.nodeCache[e]=Promise.all(a).then(function(c){let u;if(s.isBone===!0?u=new Vx:c.length>1?u=new ia:c.length===1?u=c[0]:u=new Kt,u!==c[0])for(let f=0,p=c.length;f<p;f++)u.add(c[f]);if(s.name&&(u.userData.name=s.name,u.name=o),Wa(u,s),s.extensions&&sc(r,u,s),s.matrix!==void 0){const f=new ht;f.fromArray(s.matrix),u.applyMatrix4(f)}else s.translation!==void 0&&u.position.fromArray(s.translation),s.rotation!==void 0&&u.quaternion.fromArray(s.rotation),s.scale!==void 0&&u.scale.fromArray(s.scale);return i.associations.has(u)||i.associations.set(u,{}),i.associations.get(u).nodes=e,u}),this.nodeCache[e]}loadScene(e){const t=this.extensions,r=this.json.scenes[e],i=this,s=new ia;r.name&&(s.name=i.createUniqueName(r.name)),Wa(s,r),r.extensions&&sc(t,s,r);const o=r.nodes||[],a=[];for(let l=0,c=o.length;l<c;l++)a.push(i.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let u=0,f=l.length;u<f;u++)s.add(l[u]);const c=u=>{const f=new Map;for(const[p,m]of i.associations)(p instanceof sr||p instanceof An)&&f.set(p,m);return u.traverse(p=>{const m=i.associations.get(p);m!=null&&f.set(p,m)}),f};return i.associations=c(s),s})}}function nue(n,e,t){const r=e.attributes,i=new ni;if(r.POSITION!==void 0){const a=t.json.accessors[r.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(i.set(new k(l[0],l[1],l[2]),new k(c[0],c[1],c[2])),a.normalized){const u=MM(Xh[a.componentType]);i.min.multiplyScalar(u),i.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new k,l=new k;for(let c=0,u=s.length;c<u;c++){const f=s[c];if(f.POSITION!==void 0){const p=t.json.accessors[f.POSITION],m=p.min,y=p.max;if(m!==void 0&&y!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(y[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(y[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(y[2]))),p.normalized){const S=MM(Xh[p.componentType]);l.multiplyScalar(S)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}n.boundingBox=i;const o=new Ur;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,n.boundingSphere=o}function iN(n,e,t){const r=e.attributes,i=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in r){const a=TM[o]||o.toLowerCase();a in n.attributes||i.push(s(r[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});i.push(o)}return Wa(n,e),nue(n,e,t),Promise.all(i).then(function(){return e.targets!==void 0?Yce(n,e.targets,t):n})}const ww=new WeakMap;class rue extends oi{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,r,i){const s=new ts(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(i)},r,i)}decodeDracoFile(e,t,r,i){const s={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const c=t.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=c.name)}const r=JSON.stringify(t);if(ww.has(e)){const l=ww.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(i=l,new Promise((c,u)=>{i._callbacks[s]={resolve:c,reject:u},i.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),ww.set(e,{key:r,promise:a}),a}_createGeometry(e){const t=new Rt;e.index&&t.setIndex(new Jt(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],s=i.name,o=i.array,a=i.itemSize;t.setAttribute(s,new Jt(o,a))}return t}_loadLibrary(e,t){const r=new ts(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),r.setWithCredentials(this.withCredentials),new Promise((i,s)=>{r.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const s=iue.toString(),o=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const o=s.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=t,r._taskLoad+=t,r})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function iue(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(u){n.onModuleLoaded=function(f){u({draco:f})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(u=>{const f=u.draco,p=new f.Decoder,m=new f.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const y=t(f,p,m,c),S=y.attributes.map(v=>v.array.buffer);y.index&&S.push(y.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:y},S)}catch(y){console.error(y),self.postMessage({type:"error",id:a.id,error:y.message})}finally{f.destroy(m),f.destroy(p)}});break}};function t(o,a,l,c){const u=c.attributeIDs,f=c.attributeTypes;let p,m;const y=a.GetEncodedGeometryType(l);if(y===o.TRIANGULAR_MESH)p=new o.Mesh,m=a.DecodeBufferToMesh(l,p);else if(y===o.POINT_CLOUD)p=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,p);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||p.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const S={index:null,attributes:[]};for(const v in u){const g=self[f[v]];let x,A;if(c.useUniqueIDs)A=u[v],x=a.GetAttributeByUniqueId(p,A);else{if(A=a.GetAttributeId(p,o[u[v]]),A===-1)continue;x=a.GetAttribute(p,A)}S.attributes.push(i(o,a,p,v,g,x))}return y===o.TRIANGULAR_MESH&&(S.index=r(o,a,p)),o.destroy(p),S}function r(o,a,l){const u=l.num_faces()*3,f=u*4,p=o._malloc(f);a.GetTrianglesUInt32Array(l,f,p);const m=new Uint32Array(o.HEAPF32.buffer,p,u).slice();return o._free(p),{array:m,itemSize:1}}function i(o,a,l,c,u,f){const p=f.num_components(),y=l.num_points()*p,S=y*u.BYTES_PER_ELEMENT,v=s(o,u),g=o._malloc(S);a.GetAttributeDataArrayForAllPoints(l,f,v,S,g);const x=new u(o.HEAPF32.buffer,g,y).slice();return o._free(g),{name:c,array:x,itemSize:p}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let b0;const Ew=()=>{if(b0)return b0;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=n;WebAssembly.validate(t)&&(i=e);let s;const o=WebAssembly.instantiate(a(i),{}).then(f=>{s=f.instance,s.exports.__wasm_call_ctors()});function a(f){const p=new Uint8Array(f.length);for(let y=0;y<f.length;++y){const S=f.charCodeAt(y);p[y]=S>96?S-71:S>64?S-65:S>47?S+4:S>46?63:62}let m=0;for(let y=0;y<f.length;++y)p[m++]=p[y]<60?r[p[y]]:(p[y]-60)*64+p[++y];return p.buffer.slice(0,m)}function l(f,p,m,y,S,v){const g=s.exports.sbrk,x=m+3&-4,A=g(x*y),E=g(S.length),b=new Uint8Array(s.exports.memory.buffer);b.set(S,E);const C=f(A,m,y,E,S.length);if(C===0&&v&&v(A,x,y),p.set(b.subarray(A,A+m*y)),g(A-g(0)),C!==0)throw new Error(`Malformed buffer data: ${C}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},u={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return b0={ready:o,supported:!0,decodeVertexBuffer(f,p,m,y,S){l(s.exports.meshopt_decodeVertexBuffer,f,p,m,y,s.exports[c[S]])},decodeIndexBuffer(f,p,m,y){l(s.exports.meshopt_decodeIndexBuffer,f,p,m,y)},decodeIndexSequence(f,p,m,y){l(s.exports.meshopt_decodeIndexSequence,f,p,m,y)},decodeGltfBuffer(f,p,m,y,S,v){l(s.exports[u[S]],f,p,m,y,s.exports[c[v]])}},b0};let R0=null,LV="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function DV(n,e,t){return r=>{t&&t(r),n&&(R0||(R0=new rue),R0.setDecoderPath(typeof n=="string"?n:LV),r.setDRACOLoader(R0)),e&&r.setMeshoptDecoder(typeof Ew=="function"?Ew():Ew)}}function i1(n,e=!0,t=!0,r){return ng(W2,n,DV(e,t,r))}i1.preload=(n,e=!0,t=!0,r)=>ng.preload(W2,n,DV(e,t,r));i1.clear=n=>ng.clear(W2,n);i1.setDecoderPath=n=>{LV=n};const sue=Y.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:r,enableDamping:i=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...c},u)=>{const f=_s(C=>C.invalidate),p=_s(C=>C.camera),m=_s(C=>C.gl),y=_s(C=>C.events),S=_s(C=>C.setEvents),v=_s(C=>C.set),g=_s(C=>C.get),x=_s(C=>C.performance),A=e||p,E=r||y.connected||m.domElement,b=Y.useMemo(()=>new Ece(A),[A]);return AV(()=>{b.enabled&&b.update()},-1),Y.useEffect(()=>(s&&b.connect(s===!0?E:s),b.connect(E),()=>void b.dispose()),[s,E,t,b,f]),Y.useEffect(()=>{const C=N=>{f(),t&&x.regress(),o&&o(N)},P=N=>{a&&a(N)},L=N=>{l&&l(N)};return b.addEventListener("change",C),b.addEventListener("start",P),b.addEventListener("end",L),()=>{b.removeEventListener("start",P),b.removeEventListener("end",L),b.removeEventListener("change",C)}},[o,a,l,b,f,S]),Y.useEffect(()=>{if(n){const C=g().controls;return v({controls:b}),()=>v({controls:C})}},[n,b]),Y.createElement("primitive",hf({ref:u,object:b,enableDamping:i},c))});function oue({all:n,scene:e,camera:t}){const r=_s(({gl:o})=>o),i=_s(({camera:o})=>o),s=_s(({scene:o})=>o);return Y.useLayoutEffect(()=>{const o=[];n&&(e||s).traverse(c=>{c.visible===!1&&(o.push(c),c.visible=!0)}),r.compile(e||s,t||i);const a=new f2(128);new h2(.01,1e5,a).update(r,e||s),a.dispose(),o.forEach(c=>c.visible=!1)},[]),null}const aue=()=>{const{progress:n}=_ce();return R.jsxs(vce,{as:"div",center:!0,style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[R.jsx("span",{className:"canvas-loader"}),R.jsxs("p",{style:{fontSize:14,color:"#F1F1F1",fontWeight:800,marginTop:40},children:[n.toFixed(2),"%"]})]})},lue=({isMobile:n,rotate:e})=>{const t=i1("./Air Jordan/air_jordan_1_chicago_black_toe/scene.gltf");return R.jsxs("mesh",{children:[R.jsx("hemisphereLight",{intensity:.15,groundColor:"black"}),R.jsx("spotLight",{position:[5,1.25,1.5],angle:.42,penumbra:.1,intensity:.1,castShadow:!0,"shadow-mapSize":1024}),R.jsx("pointLight",{intensity:1}),R.jsx("primitive",{object:t.scene,scale:n?17:27.5,position:n?[0,0,0]:[0,-.5,0],rotation:e})]})},cue=({rotate:n})=>{const e=E9.useMediaQuery({maxWidth:425});return R.jsxs(lce,{frameloop:"demand",shadows:!0,dpr:[10,2],camera:{position:[18,3,5],fov:25},gl:{preserveDrawingBuffer:!0},children:[R.jsxs(Y.Suspense,{fallback:R.jsx(aue,{}),children:[R.jsx(sue,{enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2}),R.jsx(lue,{isMobile:e,rotate:n})]}),R.jsx(oue,{all:!0})]})},BV=Y.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),s1=Y.createContext({}),X2=Y.createContext(null),o1=typeof document<"u",K2=o1?Y.useLayoutEffect:Y.useEffect,NV=Y.createContext({strict:!1});function uue(n,e,t,r){const{visualElement:i}=Y.useContext(s1),s=Y.useContext(NV),o=Y.useContext(X2),a=Y.useContext(BV).reducedMotion,l=Y.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(n,{visualState:e,parent:i,props:t,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;Y.useInsertionEffect(()=>{c&&c.update(t,o)});const u=Y.useRef(!!window.HandoffAppearAnimations);return K2(()=>{c&&(c.render(),u.current&&c.animationState&&c.animationState.animateChanges())}),Y.useEffect(()=>{c&&(c.updateFeatures(),!u.current&&c.animationState&&c.animationState.animateChanges(),window.HandoffAppearAnimations=void 0,u.current=!1)}),c}function Ch(n){return typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function hue(n,e,t){return Y.useCallback(r=>{r&&n.mount&&n.mount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):Ch(t)&&(t.current=r))},[e])}function _m(n){return typeof n=="string"||Array.isArray(n)}function a1(n){return typeof n=="object"&&typeof n.start=="function"}const J2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$2=["initial",...J2];function l1(n){return a1(n.animate)||$2.some(e=>_m(n[e]))}function OV(n){return!!(l1(n)||n.variants)}function fue(n,e){if(l1(n)){const{initial:t,animate:r}=n;return{initial:t===!1||_m(t)?t:void 0,animate:_m(r)?r:void 0}}return n.inherit!==!1?e:{}}function due(n){const{initial:e,animate:t}=fue(n,Y.useContext(s1));return Y.useMemo(()=>({initial:e,animate:t}),[sN(e),sN(t)])}function sN(n){return Array.isArray(n)?n.join(" "):n}const oN={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},xm={};for(const n in oN)xm[n]={isEnabled:e=>oN[n].some(t=>!!e[t])};function pue(n){for(const e in n)xm[e]={...xm[e],...n[e]}}const FV=Y.createContext({}),kV=Y.createContext({}),mue=Symbol.for("motionComponentSymbol");function gue({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:i}){n&&pue(n);function s(a,l){let c;const u={...Y.useContext(BV),...a,layoutId:yue(a)},{isStatic:f}=u,p=due(a),m=r(a,f);if(!f&&o1){p.visualElement=uue(i,m,u,e);const y=Y.useContext(kV),S=Y.useContext(NV).strict;p.visualElement&&(c=p.visualElement.loadFeatures(u,S,n,y))}return Y.createElement(s1.Provider,{value:p},c&&p.visualElement?Y.createElement(c,{visualElement:p.visualElement,...u}):null,t(i,a,hue(m,p.visualElement,l),m,f,p.visualElement))}const o=Y.forwardRef(s);return o[mue]=i,o}function yue({layoutId:n}){const e=Y.useContext(FV).id;return e&&n!==void 0?e+"-"+n:n}function vue(n){function e(r,i={}){return gue(n(r,i))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(r,i)=>(t.has(i)||t.set(i,e(i)),t.get(i))})}const _ue=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Y2(n){return typeof n!="string"||n.includes("-")?!1:!!(_ue.indexOf(n)>-1||/[A-Z]/.test(n))}const A_={};function xue(n){Object.assign(A_,n)}const ig=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],du=new Set(ig);function UV(n,{layout:e,layoutId:t}){return du.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!A_[n]||n==="opacity")}const Ni=n=>!!(n&&n.getVelocity),Sue={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Aue=ig.length;function wue(n,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},r,i){let s="";for(let o=0;o<Aue;o++){const a=ig[o];if(n[a]!==void 0){const l=Sue[a]||a;s+=`${l}(${n[a]}) `}}return e&&!n.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(n,r?"":s):t&&r&&(s="none"),s}const VV=n=>e=>typeof e=="string"&&e.startsWith(n),zV=VV("--"),CM=VV("var(--"),Eue=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,Tue=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Rl=(n,e,t)=>Math.min(Math.max(t,n),e),pu={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},pp={...pu,transform:n=>Rl(0,1,n)},P0={...pu,default:1},mp=n=>Math.round(n*1e5)/1e5,c1=/(-)?([\d]*\.?[\d])+/g,HV=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Mue=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function sg(n){return typeof n=="string"}const og=n=>({test:e=>sg(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Va=og("deg"),Co=og("%"),gt=og("px"),Cue=og("vh"),bue=og("vw"),aN={...Co,parse:n=>Co.parse(n)/100,transform:n=>Co.transform(n*100)},lN={...pu,transform:Math.round},GV={borderWidth:gt,borderTopWidth:gt,borderRightWidth:gt,borderBottomWidth:gt,borderLeftWidth:gt,borderRadius:gt,radius:gt,borderTopLeftRadius:gt,borderTopRightRadius:gt,borderBottomRightRadius:gt,borderBottomLeftRadius:gt,width:gt,maxWidth:gt,height:gt,maxHeight:gt,size:gt,top:gt,right:gt,bottom:gt,left:gt,padding:gt,paddingTop:gt,paddingRight:gt,paddingBottom:gt,paddingLeft:gt,margin:gt,marginTop:gt,marginRight:gt,marginBottom:gt,marginLeft:gt,rotate:Va,rotateX:Va,rotateY:Va,rotateZ:Va,scale:P0,scaleX:P0,scaleY:P0,scaleZ:P0,skew:Va,skewX:Va,skewY:Va,distance:gt,translateX:gt,translateY:gt,translateZ:gt,x:gt,y:gt,z:gt,perspective:gt,transformPerspective:gt,opacity:pp,originX:aN,originY:aN,originZ:gt,zIndex:lN,fillOpacity:pp,strokeOpacity:pp,numOctaves:lN};function q2(n,e,t,r){const{style:i,vars:s,transform:o,transformOrigin:a}=n;let l=!1,c=!1,u=!0;for(const f in e){const p=e[f];if(zV(f)){s[f]=p;continue}const m=GV[f],y=Tue(p,m);if(du.has(f)){if(l=!0,o[f]=y,!u)continue;p!==(m.default||0)&&(u=!1)}else f.startsWith("origin")?(c=!0,a[f]=y):i[f]=y}if(e.transform||(l||r?i.transform=wue(n.transform,t,u,r):i.transform&&(i.transform="none")),c){const{originX:f="50%",originY:p="50%",originZ:m=0}=a;i.transformOrigin=`${f} ${p} ${m}`}}const Q2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function jV(n,e,t){for(const r in e)!Ni(e[r])&&!UV(r,t)&&(n[r]=e[r])}function Rue({transformTemplate:n},e,t){return Y.useMemo(()=>{const r=Q2();return q2(r,e,{enableHardwareAcceleration:!t},n),Object.assign({},r.vars,r.style)},[e])}function Pue(n,e,t){const r=n.style||{},i={};return jV(i,r,n),Object.assign(i,Rue(n,e,t)),n.transformValues?n.transformValues(i):i}function Iue(n,e,t){const r={},i=Pue(n,e,t);return n.drag&&n.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(r.tabIndex=0),r.style=i,r}const Lue=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function w_(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||Lue.has(n)}let WV=n=>!w_(n);function Due(n){n&&(WV=e=>e.startsWith("on")?!w_(e):n(e))}try{Due(require("@emotion/is-prop-valid").default)}catch{}function Bue(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(WV(i)||t===!0&&w_(i)||!e&&!w_(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}function cN(n,e,t){return typeof n=="string"?n:gt.transform(e+t*n)}function Nue(n,e,t){const r=cN(e,n.x,n.width),i=cN(t,n.y,n.height);return`${r} ${i}`}const Oue={offset:"stroke-dashoffset",array:"stroke-dasharray"},Fue={offset:"strokeDashoffset",array:"strokeDasharray"};function kue(n,e,t=1,r=0,i=!0){n.pathLength=1;const s=i?Oue:Fue;n[s.offset]=gt.transform(-r);const o=gt.transform(e),a=gt.transform(t);n[s.array]=`${o} ${a}`}function Z2(n,{attrX:e,attrY:t,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,f,p){if(q2(n,c,u,p),f){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:m,style:y,dimensions:S}=n;m.transform&&(S&&(y.transform=m.transform),delete m.transform),S&&(i!==void 0||s!==void 0||y.transform)&&(y.transformOrigin=Nue(S,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(m.x=e),t!==void 0&&(m.y=t),r!==void 0&&(m.scale=r),o!==void 0&&kue(m,o,a,l,!1)}const XV=()=>({...Q2(),attrs:{}}),eR=n=>typeof n=="string"&&n.toLowerCase()==="svg";function Uue(n,e,t,r){const i=Y.useMemo(()=>{const s=XV();return Z2(s,e,{enableHardwareAcceleration:!1},eR(r),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};jV(s,n.style,n),i.style={...s,...i.style}}return i}function Vue(n=!1){return(t,r,i,{latestValues:s},o)=>{const l=(Y2(t)?Uue:Iue)(r,s,o,t),u={...Bue(r,typeof t=="string",n),...l,ref:i},{children:f}=r,p=Y.useMemo(()=>Ni(f)?f.get():f,[f]);return Y.createElement(t,{...u,children:p})}}const tR=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function KV(n,{style:e,vars:t},r,i){Object.assign(n.style,e,i&&i.getProjectionStyles(r));for(const s in t)n.style.setProperty(s,t[s])}const JV=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function $V(n,e,t,r){KV(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(JV.has(i)?i:tR(i),e.attrs[i])}function nR(n,e){const{style:t}=n,r={};for(const i in t)(Ni(t[i])||e.style&&Ni(e.style[i])||UV(i,n))&&(r[i]=t[i]);return r}function YV(n,e){const t=nR(n,e);for(const r in n)if(Ni(n[r])||Ni(e[r])){const i=ig.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;t[i]=n[r]}return t}function rR(n,e,t,r={},i={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,i)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,i)),e}function iR(n){const e=Y.useRef(null);return e.current===null&&(e.current=n()),e.current}const E_=n=>Array.isArray(n),zue=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),Hue=n=>E_(n)?n[n.length-1]||0:n;function sv(n){const e=Ni(n)?n.get():n;return zue(e)?e.toValue():e}function Gue({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},r,i,s){const o={latestValues:jue(r,i,s,n),renderState:e()};return t&&(o.mount=a=>t(r,a,o)),o}const qV=n=>(e,t)=>{const r=Y.useContext(s1),i=Y.useContext(X2),s=()=>Gue(n,e,r,i);return t?s():iR(s)};function jue(n,e,t,r){const i={},s=r(n,{});for(const p in s)i[p]=sv(s[p]);let{initial:o,animate:a}=n;const l=l1(n),c=OV(n);e&&c&&!l&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=t?t.initial===!1:!1;u=u||o===!1;const f=u?a:o;return f&&typeof f!="boolean"&&!a1(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const y=rR(n,m);if(!y)return;const{transitionEnd:S,transition:v,...g}=y;for(const x in g){let A=g[x];if(Array.isArray(A)){const E=u?A.length-1:0;A=A[E]}A!==null&&(i[x]=A)}for(const x in S)i[x]=S[x]}),i}const zn=n=>n;class uN{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);t!==-1&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function Wue(n){let e=new uN,t=new uN,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const f=u&&i,p=f?e:t;return c&&o.add(l),p.add(l)&&f&&i&&(r=e.order.length),l},cancel:l=>{t.remove(l),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,t]=[t,e],t.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const u=e.order[c];u(l),o.has(u)&&(a.schedule(u),n())}i=!1,s&&(s=!1,a.process(l))}};return a}const I0=["prepare","read","update","preRender","render","postRender"],Xue=40;function Kue(n,e){let t=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=I0.reduce((f,p)=>(f[p]=Wue(()=>t=!0),f),{}),o=f=>s[f].process(i),a=()=>{const f=performance.now();t=!1,i.delta=r?1e3/60:Math.max(Math.min(f-i.timestamp,Xue),1),i.timestamp=f,i.isProcessing=!0,I0.forEach(o),i.isProcessing=!1,t&&e&&(r=!1,n(a))},l=()=>{t=!0,r=!0,i.isProcessing||n(a)};return{schedule:I0.reduce((f,p)=>{const m=s[p];return f[p]=(y,S=!1,v=!1)=>(t||l(),m.schedule(y,S,v)),f},{}),cancel:f=>I0.forEach(p=>s[p].cancel(f)),state:i,steps:s}}const{schedule:an,cancel:Do,state:ar,steps:Tw}=Kue(typeof requestAnimationFrame<"u"?requestAnimationFrame:zn,!0),Jue={useVisualState:qV({scrapeMotionValuesFromProps:YV,createRenderState:XV,onMount:(n,e,{renderState:t,latestValues:r})=>{an.read(()=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}),an.render(()=>{Z2(t,r,{enableHardwareAcceleration:!1},eR(e.tagName),n.transformTemplate),$V(e,t)})}})},$ue={useVisualState:qV({scrapeMotionValuesFromProps:nR,createRenderState:Q2})};function Yue(n,{forwardMotionProps:e=!1},t,r){return{...Y2(n)?Jue:$ue,preloadedFeatures:t,useRender:Vue(e),createVisualElement:r,Component:n}}function oa(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}const QV=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function u1(n,e="page"){return{point:{x:n[e+"X"],y:n[e+"Y"]}}}const que=n=>e=>QV(e)&&n(e,u1(e));function ua(n,e,t,r){return oa(n,e,que(t),r)}const Que=(n,e)=>t=>e(n(t)),yl=(...n)=>n.reduce(Que);function ZV(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const hN=ZV("dragHorizontal"),fN=ZV("dragVertical");function ez(n){let e=!1;if(n==="y")e=fN();else if(n==="x")e=hN();else{const t=hN(),r=fN();t&&r?e=()=>{t(),r()}:(t&&t(),r&&r())}return e}function tz(){const n=ez(!0);return n?(n(),!1):!0}class Ul{constructor(e){this.isMounted=!1,this.node=e}update(){}}function dN(n,e){const t="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.type==="touch"||tz())return;const a=n.getProps();n.animationState&&a.whileHover&&n.animationState.setActive("whileHover",e),a[r]&&an.update(()=>a[r](s,o))};return ua(n.current,t,i,{passive:!n.getProps()[r]})}class Zue extends Ul{mount(){this.unmount=yl(dN(this.node,!0),dN(this.node,!1))}unmount(){}}class ehe extends Ul{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=yl(oa(this.node.current,"focus",()=>this.onFocus()),oa(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const nz=(n,e)=>e?n===e?!0:nz(n,e.parentElement):!1;function Mw(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,u1(t))}class the extends Ul{constructor(){super(...arguments),this.removeStartListeners=zn,this.removeEndListeners=zn,this.removeAccessibleListeners=zn,this.startPointerPress=(e,t)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),s=ua(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u}=this.node.getProps();an.update(()=>{nz(this.node.current,a.target)?c&&c(a,l):u&&u(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=ua(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=yl(s,o),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Mw("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&an.update(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=oa(this.node.current,"keyup",o),Mw("down",(a,l)=>{this.startPress(a,l)})},t=oa(this.node.current,"keydown",e),r=()=>{this.isPressing&&Mw("cancel",(s,o)=>this.cancelPress(s,o))},i=oa(this.node.current,"blur",r);this.removeAccessibleListeners=yl(t,i)}}startPress(e,t){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&an.update(()=>r(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!tz()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&an.update(()=>r(e,t))}mount(){const e=this.node.getProps(),t=ua(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=oa(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=yl(t,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const bM=new WeakMap,Cw=new WeakMap,nhe=n=>{const e=bM.get(n.target);e&&e(n)},rhe=n=>{n.forEach(nhe)};function ihe({root:n,...e}){const t=n||document;Cw.has(t)||Cw.set(t,{});const r=Cw.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(rhe,{root:n,...e})),r[i]}function she(n,e,t){const r=ihe(e);return bM.set(n,t),r.observe(n),()=>{bM.delete(n),r.unobserve(n)}}const ohe={some:0,all:1};class ahe extends Ul{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:ohe[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),p=c?u:f;p&&p(l)};return she(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(lhe(e,t))&&this.startObserver()}unmount(){}}function lhe({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const che={inView:{Feature:ahe},tap:{Feature:the},focus:{Feature:ehe},hover:{Feature:Zue}};function rz(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function uhe(n){const e={};return n.values.forEach((t,r)=>e[r]=t.get()),e}function hhe(n){const e={};return n.values.forEach((t,r)=>e[r]=t.getVelocity()),e}function h1(n,e,t){const r=n.getProps();return rR(r,e,t!==void 0?t:r.custom,uhe(n),hhe(n))}const fhe="framerAppearId",dhe="data-"+tR(fhe);let phe=zn,f1=zn;const Gc=n=>n*1e3,ha=n=>n/1e3,mhe={current:!1},iz=n=>Array.isArray(n)&&typeof n[0]=="number";function sz(n){return!!(!n||typeof n=="string"&&oz[n]||iz(n)||Array.isArray(n)&&n.every(sz))}const Kd=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,oz={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Kd([0,.65,.55,1]),circOut:Kd([.55,0,1,.45]),backIn:Kd([.31,.01,.66,-.59]),backOut:Kd([.33,1.53,.69,.99])};function az(n){if(n)return iz(n)?Kd(n):Array.isArray(n)?n.map(az):oz[n]}function ghe(n,e,t,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:t};l&&(c.offset=l);const u=az(a);return Array.isArray(u)&&(c.easing=u),n.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function yhe(n,{repeat:e,repeatType:t="loop"}){const r=e&&t!=="loop"&&e%2===1?0:n.length-1;return n[r]}const lz=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,vhe=1e-7,_he=12;function xhe(n,e,t,r,i){let s,o,a=0;do o=e+(t-e)/2,s=lz(o,r,i)-n,s>0?t=o:e=o;while(Math.abs(s)>vhe&&++a<_he);return o}function ag(n,e,t,r){if(n===e&&t===r)return zn;const i=s=>xhe(s,0,1,n,t);return s=>s===0||s===1?s:lz(i(s),e,r)}const She=ag(.42,0,1,1),Ahe=ag(0,0,.58,1),cz=ag(.42,0,.58,1),whe=n=>Array.isArray(n)&&typeof n[0]!="number",uz=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,hz=n=>e=>1-n(1-e),fz=n=>1-Math.sin(Math.acos(n)),sR=hz(fz),Ehe=uz(sR),dz=ag(.33,1.53,.69,.99),oR=hz(dz),The=uz(oR),Mhe=n=>(n*=2)<1?.5*oR(n):.5*(2-Math.pow(2,-10*(n-1))),Che={linear:zn,easeIn:She,easeInOut:cz,easeOut:Ahe,circIn:fz,circInOut:Ehe,circOut:sR,backIn:oR,backInOut:The,backOut:dz,anticipate:Mhe},pN=n=>{if(Array.isArray(n)){f1(n.length===4);const[e,t,r,i]=n;return ag(e,t,r,i)}else if(typeof n=="string")return Che[n];return n},aR=(n,e)=>t=>!!(sg(t)&&Mue.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),pz=(n,e,t)=>r=>{if(!sg(r))return r;const[i,s,o,a]=r.match(c1);return{[n]:parseFloat(i),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},bhe=n=>Rl(0,255,n),bw={...pu,transform:n=>Math.round(bhe(n))},Ic={test:aR("rgb","red"),parse:pz("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+bw.transform(n)+", "+bw.transform(e)+", "+bw.transform(t)+", "+mp(pp.transform(r))+")"};function Rhe(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const RM={test:aR("#"),parse:Rhe,transform:Ic.transform},bh={test:aR("hsl","hue"),parse:pz("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Co.transform(mp(e))+", "+Co.transform(mp(t))+", "+mp(pp.transform(r))+")"},di={test:n=>Ic.test(n)||RM.test(n)||bh.test(n),parse:n=>Ic.test(n)?Ic.parse(n):bh.test(n)?bh.parse(n):RM.parse(n),transform:n=>sg(n)?n:n.hasOwnProperty("red")?Ic.transform(n):bh.transform(n)},In=(n,e,t)=>-t*n+t*e+n;function Rw(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function Phe({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,s=0,o=0;if(!e)i=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;i=Rw(l,a,n+1/3),s=Rw(l,a,n),o=Rw(l,a,n-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const Pw=(n,e,t)=>{const r=n*n;return Math.sqrt(Math.max(0,t*(e*e-r)+r))},Ihe=[RM,Ic,bh],Lhe=n=>Ihe.find(e=>e.test(n));function mN(n){const e=Lhe(n);let t=e.parse(n);return e===bh&&(t=Phe(t)),t}const mz=(n,e)=>{const t=mN(n),r=mN(e),i={...t};return s=>(i.red=Pw(t.red,r.red,s),i.green=Pw(t.green,r.green,s),i.blue=Pw(t.blue,r.blue,s),i.alpha=In(t.alpha,r.alpha,s),Ic.transform(i))};function Dhe(n){var e,t;return isNaN(n)&&sg(n)&&(((e=n.match(c1))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(HV))===null||t===void 0?void 0:t.length)||0)>0}const gz={regex:Eue,countKey:"Vars",token:"${v}",parse:zn},yz={regex:HV,countKey:"Colors",token:"${c}",parse:di.parse},vz={regex:c1,countKey:"Numbers",token:"${n}",parse:pu.parse};function Iw(n,{regex:e,countKey:t,token:r,parse:i}){const s=n.tokenised.match(e);s&&(n["num"+t]=s.length,n.tokenised=n.tokenised.replace(e,r),n.values.push(...s.map(i)))}function T_(n){const e=n.toString(),t={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return t.value.includes("var(--")&&Iw(t,gz),Iw(t,yz),Iw(t,vz),t}function _z(n){return T_(n).values}function xz(n){const{values:e,numColors:t,numVars:r,tokenised:i}=T_(n),s=e.length;return o=>{let a=i;for(let l=0;l<s;l++)l<r?a=a.replace(gz.token,o[l]):l<r+t?a=a.replace(yz.token,di.transform(o[l])):a=a.replace(vz.token,mp(o[l]));return a}}const Bhe=n=>typeof n=="number"?0:n;function Nhe(n){const e=_z(n);return xz(n)(e.map(Bhe))}const Pl={test:Dhe,parse:_z,createTransformer:xz,getAnimatableNone:Nhe},Sz=(n,e)=>t=>`${t>0?e:n}`;function Az(n,e){return typeof n=="number"?t=>In(n,e,t):di.test(n)?mz(n,e):n.startsWith("var(")?Sz(n,e):Ez(n,e)}const wz=(n,e)=>{const t=[...n],r=t.length,i=n.map((s,o)=>Az(s,e[o]));return s=>{for(let o=0;o<r;o++)t[o]=i[o](s);return t}},Ohe=(n,e)=>{const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=Az(n[i],e[i]));return i=>{for(const s in r)t[s]=r[s](i);return t}},Ez=(n,e)=>{const t=Pl.createTransformer(e),r=T_(n),i=T_(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?yl(wz(r.values,i.values),t):Sz(n,e)},Af=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},gN=(n,e)=>t=>In(n,e,t);function Fhe(n){return typeof n=="number"?gN:typeof n=="string"?di.test(n)?mz:Ez:Array.isArray(n)?wz:typeof n=="object"?Ohe:gN}function khe(n,e,t){const r=[],i=t||Fhe(n[0]),s=n.length-1;for(let o=0;o<s;o++){let a=i(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]||zn:e;a=yl(l,a)}r.push(a)}return r}function lR(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const s=n.length;if(f1(s===e.length),s===1)return()=>e[0];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=khe(e,r,i),a=o.length,l=c=>{let u=0;if(a>1)for(;u<n.length-2&&!(c<n[u+1]);u++);const f=Af(n[u],n[u+1],c);return o[u](f)};return t?c=>l(Rl(n[0],n[s-1],c)):l}function Uhe(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const i=Af(0,e,r);n.push(In(t,1,i))}}function Tz(n){const e=[0];return Uhe(e,n.length-1),e}function Vhe(n,e){return n.map(t=>t*e)}function zhe(n,e){return n.map(()=>e||cz).splice(0,n.length-1)}function M_({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const i=whe(r)?r.map(pN):pN(r),s={done:!1,value:e[0]},o=Vhe(t&&t.length===e.length?t:Tz(e),n),a=lR(o,e,{ease:Array.isArray(i)?i:zhe(e,i)});return{calculatedDuration:n,next:l=>(s.value=a(l),s.done=l>=n,s)}}function cR(n,e){return e?n*(1e3/e):0}const Hhe=5;function Mz(n,e,t){const r=Math.max(e-Hhe,0);return cR(t-n(r),e-r)}const Lw=.001,Ghe=.01,jhe=10,Whe=.05,Xhe=1;function Khe({duration:n=800,bounce:e=.25,velocity:t=0,mass:r=1}){let i,s,o=1-e;o=Rl(Whe,Xhe,o),n=Rl(Ghe,jhe,ha(n)),o<1?(i=c=>{const u=c*o,f=u*n,p=u-t,m=PM(c,o),y=Math.exp(-f);return Lw-p/m*y},s=c=>{const f=c*o*n,p=f*t+t,m=Math.pow(o,2)*Math.pow(c,2)*n,y=Math.exp(-f),S=PM(Math.pow(c,2),o);return(-i(c)+Lw>0?-1:1)*((p-m)*y)/S}):(i=c=>{const u=Math.exp(-c*n),f=(c-t)*n+1;return-Lw+u*f},s=c=>{const u=Math.exp(-c*n),f=(t-c)*(n*n);return u*f});const a=5/n,l=$he(i,s,a);if(n=Gc(n),isNaN(l))return{stiffness:100,damping:10,duration:n};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:n}}}const Jhe=12;function $he(n,e,t){let r=t;for(let i=1;i<Jhe;i++)r=r-n(r)/e(r);return r}function PM(n,e){return n*Math.sqrt(1-e*e)}const Yhe=["duration","bounce"],qhe=["stiffness","damping","mass"];function yN(n,e){return e.some(t=>n[t]!==void 0)}function Qhe(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!yN(n,qhe)&&yN(n,Yhe)){const t=Khe(n);e={...e,...t,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function Cz({keyframes:n,restDelta:e,restSpeed:t,...r}){const i=n[0],s=n[n.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:c,velocity:u,duration:f,isResolvedFromDuration:p}=Qhe(r),m=u?-ha(u):0,y=l/(2*Math.sqrt(a*c)),S=s-i,v=ha(Math.sqrt(a/c)),g=Math.abs(S)<5;t||(t=g?.01:2),e||(e=g?.005:.5);let x;if(y<1){const A=PM(v,y);x=E=>{const b=Math.exp(-y*v*E);return s-b*((m+y*v*S)/A*Math.sin(A*E)+S*Math.cos(A*E))}}else if(y===1)x=A=>s-Math.exp(-v*A)*(S+(m+v*S)*A);else{const A=v*Math.sqrt(y*y-1);x=E=>{const b=Math.exp(-y*v*E),C=Math.min(A*E,300);return s-b*((m+y*v*S)*Math.sinh(C)+A*S*Math.cosh(C))/A}}return{calculatedDuration:p&&f||null,next:A=>{const E=x(A);if(p)o.done=A>=f;else{let b=m;A!==0&&(y<1?b=Mz(x,A,E):b=0);const C=Math.abs(b)<=t,P=Math.abs(s-E)<=e;o.done=C&&P}return o.value=o.done?s:E,o}}}function vN({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const f=n[0],p={done:!1,value:f},m=L=>a!==void 0&&L<a||l!==void 0&&L>l,y=L=>a===void 0?l:l===void 0||Math.abs(a-L)<Math.abs(l-L)?a:l;let S=t*e;const v=f+S,g=o===void 0?v:o(v);g!==v&&(S=g-f);const x=L=>-S*Math.exp(-L/r),A=L=>g+x(L),E=L=>{const N=x(L),M=A(L);p.done=Math.abs(N)<=c,p.value=p.done?g:M};let b,C;const P=L=>{m(p.value)&&(b=L,C=Cz({keyframes:[p.value,y(p.value)],velocity:Mz(A,L,p.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return P(0),{calculatedDuration:null,next:L=>{let N=!1;return!C&&b===void 0&&(N=!0,E(L),P(L)),b!==void 0&&L>b?C.next(L-b):(!N&&E(L),p)}}}const Zhe=n=>{const e=({timestamp:t})=>n(t);return{start:()=>an.update(e,!0),stop:()=>Do(e),now:()=>ar.isProcessing?ar.timestamp:performance.now()}},_N=2e4;function xN(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<_N;)e+=t,r=n.next(e);return e>=_N?1/0:e}const efe={decay:vN,inertia:vN,tween:M_,keyframes:M_,spring:Cz};function C_({autoplay:n=!0,delay:e=0,driver:t=Zhe,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:u,onUpdate:f,...p}){let m=1,y=!1,S,v;const g=()=>{v=new Promise(q=>{S=q})};g();let x;const A=efe[i]||M_;let E;A!==M_&&typeof r[0]!="number"&&(E=lR([0,100],r,{clamp:!1}),r=[0,100]);const b=A({...p,keyframes:r});let C;a==="mirror"&&(C=A({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let P="idle",L=null,N=null,M=null;b.calculatedDuration===null&&s&&(b.calculatedDuration=xN(b));const{calculatedDuration:D}=b;let z=1/0,W=1/0;D!==null&&(z=D+o,W=z*(s+1)-o);let H=0;const $=q=>{if(N===null)return;m>0&&(N=Math.min(N,q)),m<0&&(N=Math.min(q-W/m,N)),L!==null?H=L:H=Math.round(q-N)*m;const te=H-e*(m>=0?1:-1),Me=m>=0?te<0:te>W;H=Math.max(te,0),P==="finished"&&L===null&&(H=W);let ne=H,de=b;if(s){const ke=H/z;let ce=Math.floor(ke),oe=ke%1;!oe&&ke>=1&&(oe=1),oe===1&&ce--,ce=Math.min(ce,s+1);const V=!!(ce%2);V&&(a==="reverse"?(oe=1-oe,o&&(oe-=o/z)):a==="mirror"&&(de=C));let he=Rl(0,1,oe);H>W&&(he=a==="reverse"&&V?1:0),ne=he*z}const Ae=Me?{done:!1,value:r[0]}:de.next(ne);E&&(Ae.value=E(Ae.value));let{done:Pe}=Ae;!Me&&D!==null&&(Pe=m>=0?H>=W:H<=0);const Ke=L===null&&(P==="finished"||P==="running"&&Pe);return f&&f(Ae.value),Ke&&O(),Ae},Z=()=>{x&&x.stop(),x=void 0},ae=()=>{P="idle",Z(),S(),g(),N=M=null},O=()=>{P="finished",u&&u(),Z(),S()},j=()=>{if(y)return;x||(x=t($));const q=x.now();l&&l(),L!==null?N=q-L:(!N||P==="finished")&&(N=q),P==="finished"&&g(),M=N,L=null,P="running",x.start()};n&&j();const K={then(q,te){return v.then(q,te)},get time(){return ha(H)},set time(q){q=Gc(q),H=q,L!==null||!x||m===0?L=q:N=x.now()-q/m},get duration(){const q=b.calculatedDuration===null?xN(b):b.calculatedDuration;return ha(q)},get speed(){return m},set speed(q){q===m||!x||(m=q,K.time=ha(H))},get state(){return P},play:j,pause:()=>{P="paused",L=H},stop:()=>{y=!0,P!=="idle"&&(P="idle",c&&c(),ae())},cancel:()=>{M!==null&&$(M),ae()},complete:()=>{P="finished"},sample:q=>(N=0,$(q))};return K}function tfe(n){let e;return()=>(e===void 0&&(e=n()),e)}const nfe=tfe(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),rfe=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),L0=10,ife=2e4,sfe=(n,e)=>e.type==="spring"||n==="backgroundColor"||!sz(e.ease);function ofe(n,e,{onUpdate:t,onComplete:r,...i}){if(!(nfe()&&rfe.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l;const c=()=>{l=new Promise(x=>{a=x})};c();let{keyframes:u,duration:f=300,ease:p,times:m}=i;if(sfe(e,i)){const x=C_({...i,repeat:0,delay:0});let A={done:!1,value:u[0]};const E=[];let b=0;for(;!A.done&&b<ife;)A=x.sample(b),E.push(A.value),b+=L0;m=void 0,u=E,f=b-L0,p="linear"}const y=ghe(n.owner.current,e,u,{...i,duration:f,ease:p,times:m});i.syncStart&&(y.startTime=ar.isProcessing?ar.timestamp:document.timeline?document.timeline.currentTime:performance.now());const S=()=>y.cancel(),v=()=>{an.update(S),a(),c()};return y.onfinish=()=>{n.set(yhe(u,i)),r&&r(),v()},{then(x,A){return l.then(x,A)},attachTimeline(x){return y.timeline=x,y.onfinish=null,zn},get time(){return ha(y.currentTime||0)},set time(x){y.currentTime=Gc(x)},get speed(){return y.playbackRate},set speed(x){y.playbackRate=x},get duration(){return ha(f)},play:()=>{o||(y.play(),Do(S))},pause:()=>y.pause(),stop:()=>{if(o=!0,y.playState==="idle")return;const{currentTime:x}=y;if(x){const A=C_({...i,autoplay:!1});n.setWithVelocity(A.sample(x-L0).value,A.sample(x).value,L0)}v()},complete:()=>y.finish(),cancel:v}}function afe({keyframes:n,delay:e,onUpdate:t,onComplete:r}){const i=()=>(t&&t(n[n.length-1]),r&&r(),{time:0,speed:1,duration:0,play:zn,pause:zn,stop:zn,then:s=>(s(),Promise.resolve()),cancel:zn,complete:zn});return e?C_({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const lfe={type:"spring",stiffness:500,damping:25,restSpeed:10},cfe=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),ufe={type:"keyframes",duration:.8},hfe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ffe=(n,{keyframes:e})=>e.length>2?ufe:du.has(n)?n.startsWith("scale")?cfe(e[1]):lfe:hfe,IM=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Pl.test(e)||e==="0")&&!e.startsWith("url(")),dfe=new Set(["brightness","contrast","saturate","opacity"]);function pfe(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(c1)||[];if(!r)return n;const i=t.replace(r,"");let s=dfe.has(e)?1:0;return r!==t&&(s*=100),e+"("+s+i+")"}const mfe=/([a-z-]*)\(.*?\)/g,LM={...Pl,getAnimatableNone:n=>{const e=n.match(mfe);return e?e.map(pfe).join(" "):n}},gfe={...GV,color:di,backgroundColor:di,outlineColor:di,fill:di,stroke:di,borderColor:di,borderTopColor:di,borderRightColor:di,borderBottomColor:di,borderLeftColor:di,filter:LM,WebkitFilter:LM},uR=n=>gfe[n];function bz(n,e){let t=uR(n);return t!==LM&&(t=Pl),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const Rz=n=>/^0[^.\s]+$/.test(n);function yfe(n){if(typeof n=="number")return n===0;if(n!==null)return n==="none"||n==="0"||Rz(n)}function vfe(n,e,t,r){const i=IM(e,t);let s;Array.isArray(t)?s=[...t]:s=[null,t];const o=r.from!==void 0?r.from:n.get();let a;const l=[];for(let c=0;c<s.length;c++)s[c]===null&&(s[c]=c===0?o:s[c-1]),yfe(s[c])&&l.push(c),typeof s[c]=="string"&&s[c]!=="none"&&s[c]!=="0"&&(a=s[c]);if(i&&l.length&&a)for(let c=0;c<l.length;c++){const u=l[c];s[u]=bz(e,a)}return s}function _fe({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function Pz(n,e){return n[e]||n.default||n}const hR=(n,e,t,r={})=>i=>{const s=Pz(r,n)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Gc(o);const l=vfe(e,n,t,s),c=l[0],u=l[l.length-1],f=IM(n,c),p=IM(n,u);let m={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:y=>{e.set(y),s.onUpdate&&s.onUpdate(y)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(_fe(s)||(m={...m,...ffe(n,m)}),m.duration&&(m.duration=Gc(m.duration)),m.repeatDelay&&(m.repeatDelay=Gc(m.repeatDelay)),!f||!p||mhe.current||s.type===!1)return afe(m);if(e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const y=ofe(e,n,m);if(y)return y}return C_(m)};function b_(n){return!!(Ni(n)&&n.add)}const Iz=n=>/^\-?\d*\.?\d+$/.test(n);function fR(n,e){n.indexOf(e)===-1&&n.push(e)}function dR(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class pR{constructor(){this.subscriptions=[]}add(e){return fR(this.subscriptions,e),()=>dR(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const xfe=n=>!isNaN(parseFloat(n));class Sfe{constructor(e,t={}){this.version="10.16.4",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=ar;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,an.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>an.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=xfe(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new pR);const r=this.events[e].add(t);return e==="change"?()=>{r(),an.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?cR(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function _o(n,e){return new Sfe(n,e)}const Lz=n=>e=>e.test(n),Afe={test:n=>n==="auto",parse:n=>n},Dz=[pu,gt,Co,Va,bue,Cue,Afe],Dd=n=>Dz.find(Lz(n)),wfe=[...Dz,di,Pl],Efe=n=>wfe.find(Lz(n));function Tfe(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,_o(t))}function mR(n,e){const t=h1(n,e);let{transitionEnd:r={},transition:i={},...s}=t?n.makeTargetAnimatable(t,!1):{};s={...s,...r};for(const o in s){const a=Hue(s[o]);Tfe(n,o,a)}}function DM(n,e){[...e].reverse().forEach(r=>{const i=n.getVariant(r);i&&mR(n,i),n.variantChildren&&n.variantChildren.forEach(s=>{DM(s,e)})})}function Mfe(n,e){if(Array.isArray(e))return DM(n,e);if(typeof e=="string")return DM(n,[e]);mR(n,e)}function Cfe(n,e,t){var r,i;const s=Object.keys(e).filter(a=>!n.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],c=e[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(i=(r=t[l])!==null&&r!==void 0?r:n.readValue(l))!==null&&i!==void 0?i:e[l]),u!=null&&(typeof u=="string"&&(Iz(u)||Rz(u))?u=parseFloat(u):!Efe(u)&&Pl.test(c)&&(u=bz(l,c)),n.addValue(l,_o(u,{owner:n})),t[l]===void 0&&(t[l]=u),u!==null&&n.setBaseTarget(l,u))}}function bfe(n,e){return e?(e[n]||e.default||e).from:void 0}function Rfe(n,e,t){const r={};for(const i in n){const s=bfe(i,e);if(s!==void 0)r[i]=s;else{const o=t.getValue(i);o&&(r[i]=o.get())}}return r}function Pfe({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function Bz(n,e,{delay:t=0,transitionOverride:r,type:i}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:o,...a}=n.makeTargetAnimatable(e);const l=n.getValue("willChange");r&&(s=r);const c=[],u=i&&n.animationState&&n.animationState.getState()[i];for(const f in a){const p=n.getValue(f),m=a[f];if(!p||m===void 0||u&&Pfe(u,f))continue;const y={delay:t,elapsed:0,...s};if(window.HandoffAppearAnimations&&!p.hasAnimated){const v=n.getProps()[dhe];v&&(y.elapsed=window.HandoffAppearAnimations(v,f,p,an),y.syncStart=!0)}p.start(hR(f,p,m,n.shouldReduceMotion&&du.has(f)?{type:!1}:y));const S=p.animation;b_(l)&&(l.add(f),S.then(()=>l.remove(f))),c.push(S)}return o&&Promise.all(c).then(()=>{o&&mR(n,o)}),c}function BM(n,e,t={}){const r=h1(n,e,t.custom);let{transition:i=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(i=t.transitionOverride);const s=r?()=>Promise.all(Bz(n,r,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:f}=i;return Ife(n,e,c+l,u,f,t)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,c]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>c())}else return Promise.all([s(),o(t.delay)])}function Ife(n,e,t=0,r=0,i=1,s){const o=[],a=(n.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(n.variantChildren).sort(Lfe).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(BM(c,e,{...s,delay:t+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function Lfe(n,e){return n.sortNodePosition(e)}function Nz(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>BM(n,s,t));r=Promise.all(i)}else if(typeof e=="string")r=BM(n,e,t);else{const i=typeof e=="function"?h1(n,e,t.custom):e;r=Promise.all(Bz(n,i,t))}return r.then(()=>n.notify("AnimationComplete",e))}const Dfe=[...J2].reverse(),Bfe=J2.length;function Nfe(n){return e=>Promise.all(e.map(({animation:t,options:r})=>Nz(n,t,r)))}function Ofe(n){let e=Nfe(n);const t=kfe();let r=!0;const i=(l,c)=>{const u=h1(n,c);if(u){const{transition:f,transitionEnd:p,...m}=u;l={...l,...m,...p}}return l};function s(l){e=l(n)}function o(l,c){const u=n.getProps(),f=n.getVariantContext(!0)||{},p=[],m=new Set;let y={},S=1/0;for(let g=0;g<Bfe;g++){const x=Dfe[g],A=t[x],E=u[x]!==void 0?u[x]:f[x],b=_m(E),C=x===c?A.isActive:null;C===!1&&(S=g);let P=E===f[x]&&E!==u[x]&&b;if(P&&r&&n.manuallyAnimateOnMount&&(P=!1),A.protectedKeys={...y},!A.isActive&&C===null||!E&&!A.prevProp||a1(E)||typeof E=="boolean")continue;const L=Ffe(A.prevProp,E);let N=L||x===c&&A.isActive&&!P&&b||g>S&&b;const M=Array.isArray(E)?E:[E];let D=M.reduce(i,{});C===!1&&(D={});const{prevResolvedValues:z={}}=A,W={...z,...D},H=$=>{N=!0,m.delete($),A.needsAnimating[$]=!0};for(const $ in W){const Z=D[$],ae=z[$];y.hasOwnProperty($)||(Z!==ae?E_(Z)&&E_(ae)?!rz(Z,ae)||L?H($):A.protectedKeys[$]=!0:Z!==void 0?H($):m.add($):Z!==void 0&&m.has($)?H($):A.protectedKeys[$]=!0)}A.prevProp=E,A.prevResolvedValues=D,A.isActive&&(y={...y,...D}),r&&n.blockInitialAnimation&&(N=!1),N&&!P&&p.push(...M.map($=>({animation:$,options:{type:x,...l}})))}if(m.size){const g={};m.forEach(x=>{const A=n.getBaseTarget(x);A!==void 0&&(g[x]=A)}),p.push({animation:g})}let v=!!p.length;return r&&u.initial===!1&&!n.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(p):Promise.resolve()}function a(l,c,u){var f;if(t[l].isActive===c)return Promise.resolve();(f=n.variantChildren)===null||f===void 0||f.forEach(m=>{var y;return(y=m.animationState)===null||y===void 0?void 0:y.setActive(l,c)}),t[l].isActive=c;const p=o(u,l);for(const m in t)t[m].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t}}function Ffe(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!rz(e,n):!1}function oc(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function kfe(){return{animate:oc(!0),whileInView:oc(),whileHover:oc(),whileTap:oc(),whileDrag:oc(),whileFocus:oc(),exit:oc()}}class Ufe extends Ul{constructor(e){super(e),e.animationState||(e.animationState=Ofe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),a1(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let Vfe=0;class zfe extends Ul{constructor(){super(...arguments),this.id=Vfe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Hfe={animation:{Feature:Ufe},exit:{Feature:zfe}},SN=(n,e)=>Math.abs(n-e);function Gfe(n,e){const t=SN(n.x,e.x),r=SN(n.y,e.y);return Math.sqrt(t**2+r**2)}class Oz{constructor(e,t,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const c=Bw(this.lastMoveEventInfo,this.history),u=this.startEvent!==null,f=Gfe(c.offset,{x:0,y:0})>=3;if(!u&&!f)return;const{point:p}=c,{timestamp:m}=ar;this.history.push({...p,timestamp:m});const{onStart:y,onMove:S}=this.handlers;u||(y&&y(this.lastMoveEvent,c),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,c)},this.handlePointerMove=(c,u)=>{this.lastMoveEvent=c,this.lastMoveEventInfo=Dw(u,this.transformPagePoint),an.update(this.updatePoint,!0)},this.handlePointerUp=(c,u)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:f,onSessionEnd:p}=this.handlers,m=Bw(c.type==="pointercancel"?this.lastMoveEventInfo:Dw(u,this.transformPagePoint),this.history);this.startEvent&&f&&f(c,m),p&&p(c,m)},!QV(e))return;this.handlers=t,this.transformPagePoint=r;const i=u1(e),s=Dw(i,this.transformPagePoint),{point:o}=s,{timestamp:a}=ar;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=t;l&&l(e,Bw(s,this.history)),this.removeListeners=yl(ua(window,"pointermove",this.handlePointerMove),ua(window,"pointerup",this.handlePointerUp),ua(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Do(this.updatePoint)}}function Dw(n,e){return e?{point:e(n.point)}:n}function AN(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Bw({point:n},e){return{point:n,delta:AN(n,Fz(e)),offset:AN(n,jfe(e)),velocity:Wfe(e,.1)}}function jfe(n){return n[0]}function Fz(n){return n[n.length-1]}function Wfe(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=Fz(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>Gc(e)));)t--;if(!r)return{x:0,y:0};const s=ha(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function ns(n){return n.max-n.min}function NM(n,e=0,t=.01){return Math.abs(n-e)<=t}function wN(n,e,t,r=.5){n.origin=r,n.originPoint=In(e.min,e.max,n.origin),n.scale=ns(t)/ns(e),(NM(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=In(t.min,t.max,n.origin)-n.originPoint,(NM(n.translate)||isNaN(n.translate))&&(n.translate=0)}function gp(n,e,t,r){wN(n.x,e.x,t.x,r?r.originX:void 0),wN(n.y,e.y,t.y,r?r.originY:void 0)}function EN(n,e,t){n.min=t.min+e.min,n.max=n.min+ns(e)}function Xfe(n,e,t){EN(n.x,e.x,t.x),EN(n.y,e.y,t.y)}function TN(n,e,t){n.min=e.min-t.min,n.max=n.min+ns(e)}function yp(n,e,t){TN(n.x,e.x,t.x),TN(n.y,e.y,t.y)}function Kfe(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?In(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?In(t,n,r.max):Math.min(n,t)),n}function MN(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function Jfe(n,{top:e,left:t,bottom:r,right:i}){return{x:MN(n.x,t,i),y:MN(n.y,e,r)}}function CN(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function $fe(n,e){return{x:CN(n.x,e.x),y:CN(n.y,e.y)}}function Yfe(n,e){let t=.5;const r=ns(n),i=ns(e);return i>r?t=Af(e.min,e.max-r,n.min):r>i&&(t=Af(n.min,n.max-i,e.min)),Rl(0,1,t)}function qfe(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const OM=.35;function Qfe(n=OM){return n===!1?n=0:n===!0&&(n=OM),{x:bN(n,"left","right"),y:bN(n,"top","bottom")}}function bN(n,e,t){return{min:RN(n,e),max:RN(n,t)}}function RN(n,e){return typeof n=="number"?n:n[e]||0}const PN=()=>({translate:0,scale:1,origin:0,originPoint:0}),Rh=()=>({x:PN(),y:PN()}),IN=()=>({min:0,max:0}),er=()=>({x:IN(),y:IN()});function ho(n){return[n("x"),n("y")]}function kz({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function Zfe({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function ede(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function Nw(n){return n===void 0||n===1}function FM({scale:n,scaleX:e,scaleY:t}){return!Nw(n)||!Nw(e)||!Nw(t)}function mc(n){return FM(n)||Uz(n)||n.z||n.rotate||n.rotateX||n.rotateY}function Uz(n){return LN(n.x)||LN(n.y)}function LN(n){return n&&n!=="0%"}function R_(n,e,t){const r=n-t,i=e*r;return t+i}function DN(n,e,t,r,i){return i!==void 0&&(n=R_(n,i,r)),R_(n,t,r)+e}function kM(n,e=0,t=1,r,i){n.min=DN(n.min,e,t,r,i),n.max=DN(n.max,e,t,r,i)}function Vz(n,{x:e,y:t}){kM(n.x,e.translate,e.scale,e.originPoint),kM(n.y,t.translate,t.scale,t.originPoint)}function tde(n,e,t,r=!1){const i=t.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=t[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Ph(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Vz(n,o)),r&&mc(s.latestValues)&&Ph(n,s.latestValues))}e.x=BN(e.x),e.y=BN(e.y)}function BN(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function Xa(n,e){n.min=n.min+e,n.max=n.max+e}function NN(n,e,[t,r,i]){const s=e[i]!==void 0?e[i]:.5,o=In(n.min,n.max,s);kM(n,e[t],e[r],o,e.scale)}const nde=["x","scaleX","originX"],rde=["y","scaleY","originY"];function Ph(n,e){NN(n.x,e,nde),NN(n.y,e,rde)}function zz(n,e){return kz(ede(n.getBoundingClientRect(),e))}function ide(n,e,t){const r=zz(n,t),{scroll:i}=e;return i&&(Xa(r.x,i.offset.x),Xa(r.y,i.offset.y)),r}const sde=new WeakMap;class ode{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=er(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=l=>{this.stopAnimation(),t&&this.snapToCursor(u1(l,"page").point)},s=(l,c)=>{const{drag:u,dragPropagation:f,onDragStart:p}=this.getProps();if(u&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=ez(u),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ho(y=>{let S=this.getAxisMotionValue(y).get()||0;if(Co.test(S)){const{projection:v}=this.visualElement;if(v&&v.layout){const g=v.layout.layoutBox[y];g&&(S=ns(g)*(parseFloat(S)/100))}}this.originPoint[y]=S}),p&&an.update(()=>p(l,c),!1,!0);const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},o=(l,c)=>{const{dragPropagation:u,dragDirectionLock:f,onDirectionLock:p,onDrag:m}=this.getProps();if(!u&&!this.openGlobalLock)return;const{offset:y}=c;if(f&&this.currentDirection===null){this.currentDirection=ade(y),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",c.point,y),this.updateAxis("y",c.point,y),this.visualElement.render(),m&&m(l,c)},a=(l,c)=>this.stop(l,c);this.panSession=new Oz(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&an.update(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!D0(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=Kfe(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),{layout:r}=this.visualElement.projection||{},i=this.constraints;e&&Ch(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=Jfe(r.layoutBox,e):this.constraints=!1,this.elastic=Qfe(t),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ho(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=qfe(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Ch(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=ide(r,i.root,this.visualElement.getTransformPagePoint());let o=$fe(i.layout.layoutBox,s);if(t){const a=t(Zfe(o));this.hasMutatedConstraints=!!a,a&&(o=kz(a))}return o}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=ho(u=>{if(!D0(u,t,this.currentDirection))return;let f=l&&l[u]||{};o&&(f={min:0,max:0});const p=i?200:1e6,m=i?40:1e7,y={type:"inertia",velocity:r?e[u]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(u,y)});return Promise.all(c).then(a)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return r.start(hR(e,r,0,t))}stopAnimation(){ho(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[t];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ho(t=>{const{drag:r}=this.getProps();if(!D0(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(t);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[t];s.set(e[t]-In(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Ch(t)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ho(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=Yfe({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ho(o=>{if(!D0(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(In(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;sde.set(this.visualElement,this);const e=this.visualElement.current,t=ua(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ch(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=oa(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(ho(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=OM,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function D0(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function ade(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class lde extends Ul{constructor(e){super(e),this.removeGroupControls=zn,this.removeListeners=zn,this.controls=new ode(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||zn}unmount(){this.removeGroupControls(),this.removeListeners()}}const ON=n=>(e,t)=>{n&&an.update(()=>n(e,t))};class cde extends Ul{constructor(){super(...arguments),this.removePointerDownListener=zn}onPointerDown(e){this.session=new Oz(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:ON(e),onStart:ON(t),onMove:r,onEnd:(s,o)=>{delete this.session,i&&an.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=ua(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function ude(){const n=Y.useContext(X2);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:r}=n,i=Y.useId();return Y.useEffect(()=>r(i),[]),!e&&t?[!1,()=>t&&t(i)]:[!0]}const ov={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function FN(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Bd={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(gt.test(n))n=parseFloat(n);else return n;const t=FN(n,e.target.x),r=FN(n,e.target.y);return`${t}% ${r}%`}},hde={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=Pl.parse(n);if(i.length>5)return r;const s=Pl.createTransformer(n),o=typeof i[0]!="number"?1:0,a=t.x.scale*e.x,l=t.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=In(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class fde extends Gs.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;xue(dde),s&&(t.group&&t.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),ov.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==t||t===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||an.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Hz(n){const[e,t]=ude(),r=Y.useContext(FV);return Gs.createElement(fde,{...n,layoutGroup:r,switchLayoutGroup:Y.useContext(kV),isPresent:e,safeToRemove:t})}const dde={borderRadius:{...Bd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Bd,borderTopRightRadius:Bd,borderBottomLeftRadius:Bd,borderBottomRightRadius:Bd,boxShadow:hde},Gz=["TopLeft","TopRight","BottomLeft","BottomRight"],pde=Gz.length,kN=n=>typeof n=="string"?parseFloat(n):n,UN=n=>typeof n=="number"||gt.test(n);function mde(n,e,t,r,i,s){i?(n.opacity=In(0,t.opacity!==void 0?t.opacity:1,gde(r)),n.opacityExit=In(e.opacity!==void 0?e.opacity:1,0,yde(r))):s&&(n.opacity=In(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let o=0;o<pde;o++){const a=`border${Gz[o]}Radius`;let l=VN(e,a),c=VN(t,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||UN(l)===UN(c)?(n[a]=Math.max(In(kN(l),kN(c),r),0),(Co.test(c)||Co.test(l))&&(n[a]+="%")):n[a]=c}(e.rotate||t.rotate)&&(n.rotate=In(e.rotate||0,t.rotate||0,r))}function VN(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const gde=jz(0,.5,sR),yde=jz(.5,.95,zn);function jz(n,e,t){return r=>r<n?0:r>e?1:t(Af(n,e,r))}function zN(n,e){n.min=e.min,n.max=e.max}function ys(n,e){zN(n.x,e.x),zN(n.y,e.y)}function HN(n,e,t,r,i){return n-=e,n=R_(n,1/t,r),i!==void 0&&(n=R_(n,1/i,r)),n}function vde(n,e=0,t=1,r=.5,i,s=n,o=n){if(Co.test(e)&&(e=parseFloat(e),e=In(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=In(s.min,s.max,r);n===s&&(a-=e),n.min=HN(n.min,e,t,a,i),n.max=HN(n.max,e,t,a,i)}function GN(n,e,[t,r,i],s,o){vde(n,e[t],e[r],e[i],e.scale,s,o)}const _de=["x","scaleX","originX"],xde=["y","scaleY","originY"];function jN(n,e,t,r){GN(n.x,e,_de,t?t.x:void 0,r?r.x:void 0),GN(n.y,e,xde,t?t.y:void 0,r?r.y:void 0)}function WN(n){return n.translate===0&&n.scale===1}function Wz(n){return WN(n.x)&&WN(n.y)}function Sde(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function Xz(n,e){return Math.round(n.x.min)===Math.round(e.x.min)&&Math.round(n.x.max)===Math.round(e.x.max)&&Math.round(n.y.min)===Math.round(e.y.min)&&Math.round(n.y.max)===Math.round(e.y.max)}function XN(n){return ns(n.x)/ns(n.y)}class Ade{constructor(){this.members=[]}add(e){fR(this.members,e),e.scheduleRender()}remove(e){if(dR(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function KN(n,e,t){let r="";const i=n.x.translate/e.x,s=n.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:l,rotateX:c,rotateY:u}=t;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),u&&(r+=`rotateY(${u}deg) `)}const o=n.x.scale*e.x,a=n.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const wde=(n,e)=>n.depth-e.depth;class Ede{constructor(){this.children=[],this.isDirty=!1}add(e){fR(this.children,e),this.isDirty=!0}remove(e){dR(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(wde),this.isDirty=!1,this.children.forEach(e)}}function Tde(n,e){const t=performance.now(),r=({timestamp:i})=>{const s=i-t;s>=e&&(Do(r),n(s-e))};return an.read(r,!0),()=>Do(r)}function Mde(n){window.MotionDebug&&window.MotionDebug.record(n)}function Cde(n){return n instanceof SVGElement&&n.tagName!=="svg"}function bde(n,e,t){const r=Ni(n)?n:_o(n);return r.start(hR("",r,e,t)),r.animation}const JN=["","X","Y","Z"],$N=1e3;let Rde=0;const gc={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Kz({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=Rde++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{gc.totalNodes=gc.resolvedTargetDeltas=gc.recalculatedProjection=0,this.nodes.forEach(Lde),this.nodes.forEach(Fde),this.nodes.forEach(kde),this.nodes.forEach(Dde),Mde(gc)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Ede)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new pR),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Cde(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),n){let f;const p=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=Tde(p,250),ov.hasAnimatedSinceResize&&(ov.hasAnimatedSinceResize=!1,this.nodes.forEach(qN))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||u.getDefaultTransition()||Gde,{onLayoutAnimationStart:v,onLayoutAnimationComplete:g}=u.getProps(),x=!this.targetLayout||!Xz(this.targetLayout,y)||m,A=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||A||p&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,A);const E={...Pz(S,"layout"),onPlay:v,onComplete:g};(u.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E)}else p||qN(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Do(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Ude),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(YN);return}this.isUpdating||this.nodes.forEach(Nde),this.isUpdating=!1,this.nodes.forEach(Ode),this.nodes.forEach(Pde),this.nodes.forEach(Ide),this.clearAllSnapshots();const a=performance.now();ar.delta=Rl(0,1e3/60,a-ar.timestamp),ar.timestamp=a,ar.isProcessing=!0,Tw.update.process(ar),Tw.preRender.process(ar),Tw.render.process(ar),ar.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(Bde),this.sharedNodes.forEach(Vde)}scheduleUpdateProjection(){an.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){an.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=er(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:t(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!Wz(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||mc(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),jde(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return er();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Xa(a.x,l.offset.x),Xa(a.y,l.offset.y)),a}removeElementScroll(o){const a=er();ys(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:f}=c;if(c!==this.root&&u&&f.layoutScroll){if(u.isRoot){ys(a,o);const{scroll:p}=this.root;p&&(Xa(a.x,-p.offset.x),Xa(a.y,-p.offset.y))}Xa(a.x,u.offset.x),Xa(a.y,u.offset.y)}}return a}applyTransform(o,a=!1){const l=er();ys(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Ph(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),mc(u.latestValues)&&Ph(l,u.latestValues)}return mc(this.latestValues)&&Ph(l,this.latestValues),l}removeTransform(o){const a=er();ys(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!mc(c.latestValues))continue;FM(c.latestValues)&&c.updateSnapshot();const u=er(),f=c.measurePageBox();ys(u,f),jN(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return mc(this.latestValues)&&jN(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ar.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=ar.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=er(),this.relativeTargetOrigin=er(),yp(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),ys(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=er(),this.targetWithTransforms=er()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Xfe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ys(this.target,this.layout.layoutBox),Vz(this.target,this.targetDelta)):ys(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=er(),this.relativeTargetOrigin=er(),yp(this.relativeTargetOrigin,this.target,m.target),ys(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}gc.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||FM(this.parent.latestValues)||Uz(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ar.timestamp&&(c=!1),c)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;ys(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;tde(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:y}=a;if(!y){this.projectionTransform&&(this.projectionDelta=Rh(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Rh(),this.projectionDeltaWithTransform=Rh());const S=this.projectionTransform;gp(this.projectionDelta,this.layoutCorrected,y,this.latestValues),this.projectionTransform=KN(this.projectionDelta,this.treeScale),(this.projectionTransform!==S||this.treeScale.x!==p||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),gc.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=Rh();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=er(),m=l?l.source:void 0,y=this.layout?this.layout.source:void 0,S=m!==y,v=this.getStack(),g=!v||v.members.length<=1,x=!!(S&&!g&&this.options.crossfade===!0&&!this.path.some(Hde));this.animationProgress=0;let A;this.mixTargetDelta=E=>{const b=E/1e3;QN(f.x,o.x,b),QN(f.y,o.y,b),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(yp(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),zde(this.relativeTarget,this.relativeTargetOrigin,p,b),A&&Sde(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=er()),ys(A,this.relativeTarget)),S&&(this.animationValues=u,mde(u,c,this.latestValues,b,x,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=b},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Do(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=an.update(()=>{ov.hasAnimatedSinceResize=!0,this.currentAnimation=bde(0,$N,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta($N),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&Jz(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||er();const f=ns(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const p=ns(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}ys(a,l),Ph(a,u),gp(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Ade),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let u=0;u<JN.length;u++){const f="rotate"+JN[u];l[f]&&(c[f]=l[f],o.setStaticValue(f,0))}o.render();for(const u in c)o.setStaticValue(u,c[u]);o.scheduleRender()}getProjectionStyles(o={}){var a,l;const c={};if(!this.instance||this.isSVG)return c;if(this.isVisible)c.visibility="";else return{visibility:"hidden"};const u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=sv(o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=sv(o.pointerEvents)||""),this.hasProjected&&!mc(this.latestValues)&&(S.transform=u?u({},""):"none",this.hasProjected=!1),S}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=KN(this.projectionDeltaWithTransform,this.treeScale,p),u&&(c.transform=u(p,c.transform));const{x:m,y}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const S in A_){if(p[S]===void 0)continue;const{correct:v,applyTo:g}=A_[S],x=c.transform==="none"?p[S]:v(p[S],f);if(g){const A=g.length;for(let E=0;E<A;E++)c[g[E]]=x}else c[S]=x}return this.options.layoutId&&(c.pointerEvents=f===this?sv(o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(YN),this.root.sharedNodes.clear()}}}function Pde(n){n.updateLayout()}function Ide(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=n.layout,{animationType:s}=n.options,o=t.source!==n.layout.source;s==="size"?ho(f=>{const p=o?t.measuredBox[f]:t.layoutBox[f],m=ns(p);p.min=r[f].min,p.max=p.min+m}):Jz(s,t.layoutBox,r)&&ho(f=>{const p=o?t.measuredBox[f]:t.layoutBox[f],m=ns(r[f]);p.max=p.min+m,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[f].max=n.relativeTarget[f].min+m)});const a=Rh();gp(a,r,t.layoutBox);const l=Rh();o?gp(l,n.applyTransform(i,!0),t.measuredBox):gp(l,r,t.layoutBox);const c=!Wz(a);let u=!1;if(!n.resumeFrom){const f=n.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:m}=f;if(p&&m){const y=er();yp(y,t.layoutBox,p.layoutBox);const S=er();yp(S,r,m.layoutBox),Xz(y,S)||(u=!0),f.options.layoutRoot&&(n.relativeTarget=S,n.relativeTargetOrigin=y,n.relativeParent=f)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function Lde(n){gc.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function Dde(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function Bde(n){n.clearSnapshot()}function YN(n){n.clearMeasurements()}function Nde(n){n.isLayoutDirty=!1}function Ode(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function qN(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function Fde(n){n.resolveTargetDelta()}function kde(n){n.calcProjection()}function Ude(n){n.resetRotation()}function Vde(n){n.removeLeadSnapshot()}function QN(n,e,t){n.translate=In(e.translate,0,t),n.scale=In(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function ZN(n,e,t,r){n.min=In(e.min,t.min,r),n.max=In(e.max,t.max,r)}function zde(n,e,t,r){ZN(n.x,e.x,t.x,r),ZN(n.y,e.y,t.y,r)}function Hde(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const Gde={duration:.45,ease:[.4,0,.1,1]},eO=n=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(n),tO=eO("applewebkit/")&&!eO("chrome/")?Math.round:zn;function nO(n){n.min=tO(n.min),n.max=tO(n.max)}function jde(n){nO(n.x),nO(n.y)}function Jz(n,e,t){return n==="position"||n==="preserve-aspect"&&!NM(XN(e),XN(t),.2)}const Wde=Kz({attachResizeListener:(n,e)=>oa(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ow={current:void 0},$z=Kz({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Ow.current){const n=new Wde({});n.mount(window),n.setOptions({layoutScroll:!0}),Ow.current=n}return Ow.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),Xde={pan:{Feature:cde},drag:{Feature:lde,ProjectionNode:$z,MeasureLayout:Hz}},Kde=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Jde(n){const e=Kde.exec(n);if(!e)return[,];const[,t,r]=e;return[t,r]}function UM(n,e,t=1){const[r,i]=Jde(n);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return Iz(o)?parseFloat(o):o}else return CM(i)?UM(i,e,t+1):i}function $de(n,{...e},t){const r=n.current;if(!(r instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),n.values.forEach(i=>{const s=i.get();if(!CM(s))return;const o=UM(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!CM(s))continue;const o=UM(s,r);o&&(e[i]=o,t||(t={}),t[i]===void 0&&(t[i]=s))}return{target:e,transitionEnd:t}}const Yde=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Yz=n=>Yde.has(n),qde=n=>Object.keys(n).some(Yz),rO=n=>n===pu||n===gt,iO=(n,e)=>parseFloat(n.split(", ")[e]),sO=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return iO(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?iO(s[1],n):0}},Qde=new Set(["x","y","z"]),Zde=ig.filter(n=>!Qde.has(n));function epe(n){const e=[];return Zde.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e.length&&n.render(),e}const wf={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:sO(4,13),y:sO(5,14)};wf.translateX=wf.x;wf.translateY=wf.y;const tpe=(n,e,t)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(c=>{a[c]=wf[c](r,s)}),e.render();const l=e.measureViewportBox();return t.forEach(c=>{const u=e.getValue(c);u&&u.jump(a[c]),n[c]=wf[c](l,s)}),n},npe=(n,e,t={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(Yz);let s=[],o=!1;const a=[];if(i.forEach(l=>{const c=n.getValue(l);if(!n.hasValue(l))return;let u=t[l],f=Dd(u);const p=e[l];let m;if(E_(p)){const y=p.length,S=p[0]===null?1:0;u=p[S],f=Dd(u);for(let v=S;v<y&&p[v]!==null;v++)m?f1(Dd(p[v])===m):m=Dd(p[v])}else m=Dd(p);if(f!==m)if(rO(f)&&rO(m)){const y=c.get();typeof y=="string"&&c.set(parseFloat(y)),typeof p=="string"?e[l]=parseFloat(p):Array.isArray(p)&&m===gt&&(e[l]=p.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(u===0||p===0)?u===0?c.set(m.transform(u)):e[l]=f.transform(p):(o||(s=epe(n),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(p))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=tpe(e,n,a);return s.length&&s.forEach(([u,f])=>{n.getValue(u).set(f)}),n.render(),o1&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function rpe(n,e,t,r){return qde(e)?npe(n,e,t,r):{target:e,transitionEnd:r}}const ipe=(n,e,t,r)=>{const i=$de(n,e,r);return e=i.target,r=i.transitionEnd,rpe(n,e,t,r)},VM={current:null},qz={current:!1};function spe(){if(qz.current=!0,!!o1)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>VM.current=n.matches;n.addListener(e),e()}else VM.current=!1}function ope(n,e,t){const{willChange:r}=e;for(const i in e){const s=e[i],o=t[i];if(Ni(s))n.addValue(i,s),b_(r)&&r.add(i);else if(Ni(o))n.addValue(i,_o(s,{owner:n})),b_(r)&&r.remove(i);else if(o!==s)if(n.hasValue(i)){const a=n.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=n.getStaticValue(i);n.addValue(i,_o(a!==void 0?a:s,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const oO=new WeakMap,Qz=Object.keys(xm),ape=Qz.length,aO=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],lpe=$2.length;class cpe{constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>an.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=t.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=l1(t),this.isVariantNode=OV(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(t,{});for(const f in u){const p=u[f];a[f]!==void 0&&Ni(p)&&(p.set(a[f],!1),b_(c)&&c.add(f))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,oO.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),qz.current||spe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:VM.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){oO.delete(this.current),this.projection&&this.projection.unmount(),Do(this.notifyUpdate),Do(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const r=du.has(e),i=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&an.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},r,i,s){let o,a;for(let l=0;l<ape;l++){const c=Qz[l],{isEnabled:u,Feature:f,ProjectionNode:p,MeasureLayout:m}=xm[c];p&&(o=p),u(t)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),m&&(a=m))}if(!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:u,dragConstraints:f,layoutScroll:p,layoutRoot:m}=t;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||f&&Ch(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,layoutScroll:p,layoutRoot:m})}return a}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):er()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<aO.length;r++){const i=aO[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=ope(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const t={};for(let r=0;r<lpe;r++){const i=$2[r],s=this.props[i];(_m(s)||s===!1)&&(t[i]=s)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=_o(t,{owner:this}),this.addValue(e,r)),r}readValue(e){var t;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(t=this.getBaseTargetFromProps(this.props,e))!==null&&t!==void 0?t:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(t=rR(this.props,r))===null||t===void 0?void 0:t[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Ni(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new pR),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class Zz extends cpe{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...r},{transformValues:i},s){let o=Rfe(r,e||{},this);if(i&&(t&&(t=i(t)),r&&(r=i(r)),o&&(o=i(o))),s){Cfe(this,r,o);const a=ipe(this,r,o,t);t=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:t,...r}}}function upe(n){return window.getComputedStyle(n)}class hpe extends Zz{readValueFromInstance(e,t){if(du.has(t)){const r=uR(t);return r&&r.default||0}else{const r=upe(e),i=(zV(t)?r.getPropertyValue(t):r[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return zz(e,t)}build(e,t,r,i){q2(e,t,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,t){return nR(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ni(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,r,i){KV(e,t,r,i)}}class fpe extends Zz{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(du.has(t)){const r=uR(t);return r&&r.default||0}return t=JV.has(t)?t:tR(t),e.getAttribute(t)}measureInstanceViewportBox(){return er()}scrapeMotionValuesFromProps(e,t){return YV(e,t)}build(e,t,r,i){Z2(e,t,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,r,i){$V(e,t,r,i)}mount(e){this.isSVGTag=eR(e.tagName),super.mount(e)}}const dpe=(n,e)=>Y2(n)?new fpe(e,{enableHardwareAcceleration:!1}):new hpe(e,{enableHardwareAcceleration:!0}),ppe={layout:{ProjectionNode:$z,MeasureLayout:Hz}},mpe={...Hfe,...che,...Xde,...ppe},gpe=vue((n,e)=>Yue(n,e,mpe,dpe));function ype(n,e,t){var r;if(typeof n=="string"){let i=document;e&&(f1(!!e.current),i=e.current),t?((r=t[n])!==null&&r!==void 0||(t[n]=i.querySelectorAll(n)),n=t[n]):n=i.querySelectorAll(n)}else n instanceof Element&&(n=[n]);return Array.from(n||[])}const av=new WeakMap;let za;function vpe(n,e){if(e){const{inlineSize:t,blockSize:r}=e[0];return{width:t,height:r}}else return n instanceof SVGElement&&"getBBox"in n?n.getBBox():{width:n.offsetWidth,height:n.offsetHeight}}function _pe({target:n,contentRect:e,borderBoxSize:t}){var r;(r=av.get(n))===null||r===void 0||r.forEach(i=>{i({target:n,contentSize:e,get size(){return vpe(n,t)}})})}function xpe(n){n.forEach(_pe)}function Spe(){typeof ResizeObserver>"u"||(za=new ResizeObserver(xpe))}function Ape(n,e){za||Spe();const t=ype(n);return t.forEach(r=>{let i=av.get(r);i||(i=new Set,av.set(r,i)),i.add(e),za==null||za.observe(r)}),()=>{t.forEach(r=>{const i=av.get(r);i==null||i.delete(e),i!=null&&i.size||za==null||za.unobserve(r)})}}const lv=new Set;let vp;function wpe(){vp=()=>{const n={width:window.innerWidth,height:window.innerHeight},e={target:window,size:n,contentSize:n};lv.forEach(t=>t(e))},window.addEventListener("resize",vp)}function Epe(n){return lv.add(n),vp||wpe(),()=>{lv.delete(n),!lv.size&&vp&&(vp=void 0)}}function Tpe(n,e){return typeof n=="function"?Epe(n):Ape(n,e)}const Mpe=50,lO=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),Cpe=()=>({time:0,x:lO(),y:lO()}),bpe={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function cO(n,e,t,r){const i=t[e],{length:s,position:o}=bpe[e],a=i.current,l=t.time;i.current=n["scroll"+o],i.scrollLength=n["scroll"+s]-n["client"+s],i.offset.length=0,i.offset[0]=0,i.offset[1]=i.scrollLength,i.progress=Af(0,i.scrollLength,i.current);const c=r-l;i.velocity=c>Mpe?0:cR(i.current-a,c)}function Rpe(n,e,t){cO(n,"x",e,t),cO(n,"y",e,t),e.time=t}function Ppe(n,e){const t={x:0,y:0};let r=n;for(;r&&r!==e;)if(r instanceof HTMLElement)t.x+=r.offsetLeft,t.y+=r.offsetTop,r=r.offsetParent;else if(r.tagName==="svg"){const i=r.getBoundingClientRect();r=r.parentElement;const s=r.getBoundingClientRect();t.x+=i.left-s.left,t.y+=i.top-s.top}else if(r instanceof SVGGraphicsElement){const{x:i,y:s}=r.getBBox();t.x+=i,t.y+=s;let o=null,a=r.parentNode;for(;!o;)a.tagName==="svg"&&(o=a),a=r.parentNode;r=o}else break;return t}const Ipe={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},zM={start:0,center:.5,end:1};function uO(n,e,t=0){let r=0;if(zM[n]!==void 0&&(n=zM[n]),typeof n=="string"){const i=parseFloat(n);n.endsWith("px")?r=i:n.endsWith("%")?n=i/100:n.endsWith("vw")?r=i/100*document.documentElement.clientWidth:n.endsWith("vh")?r=i/100*document.documentElement.clientHeight:n=i}return typeof n=="number"&&(r=e*n),t+r}const Lpe=[0,0];function Dpe(n,e,t,r){let i=Array.isArray(n)?n:Lpe,s=0,o=0;return typeof n=="number"?i=[n,n]:typeof n=="string"&&(n=n.trim(),n.includes(" ")?i=n.split(" "):i=[n,zM[n]?n:"0"]),s=uO(i[0],t,r),o=uO(i[1],e),s-o}const Bpe={x:0,y:0};function Npe(n){return"getBBox"in n&&n.tagName!=="svg"?n.getBBox():{width:n.clientWidth,height:n.clientHeight}}function Ope(n,e,t){let{offset:r=Ipe.All}=t;const{target:i=n,axis:s="y"}=t,o=s==="y"?"height":"width",a=i!==n?Ppe(i,n):Bpe,l=i===n?{width:n.scrollWidth,height:n.scrollHeight}:Npe(i),c={width:n.clientWidth,height:n.clientHeight};e[s].offset.length=0;let u=!e[s].interpolate;const f=r.length;for(let p=0;p<f;p++){const m=Dpe(r[p],c[o],l[o],a[s]);!u&&m!==e[s].interpolatorOffsets[p]&&(u=!0),e[s].offset[p]=m}u&&(e[s].interpolate=lR(e[s].offset,Tz(r)),e[s].interpolatorOffsets=[...e[s].offset]),e[s].progress=e[s].interpolate(e[s].current)}function Fpe(n,e=n,t){if(t.x.targetOffset=0,t.y.targetOffset=0,e!==n){let r=e;for(;r&&r!==n;)t.x.targetOffset+=r.offsetLeft,t.y.targetOffset+=r.offsetTop,r=r.offsetParent}t.x.targetLength=e===n?e.scrollWidth:e.clientWidth,t.y.targetLength=e===n?e.scrollHeight:e.clientHeight,t.x.containerLength=n.clientWidth,t.y.containerLength=n.clientHeight}function kpe(n,e,t,r={}){return{measure:()=>Fpe(n,r.target,t),update:i=>{Rpe(n,t,i),(r.offset||r.target)&&Ope(n,t,r)},notify:()=>e(t)}}const Nd=new WeakMap,hO=new WeakMap,Fw=new WeakMap,fO=n=>n===document.documentElement?window:n;function Upe(n,{container:e=document.documentElement,...t}={}){let r=Fw.get(e);r||(r=new Set,Fw.set(e,r));const i=Cpe(),s=kpe(e,n,i,t);if(r.add(s),!Nd.has(e)){const a=()=>{for(const p of r)p.measure()},l=()=>{for(const p of r)p.update(ar.timestamp)},c=()=>{for(const p of r)p.notify()},u=()=>{an.read(a,!1,!0),an.update(l,!1,!0),an.update(c,!1,!0)};Nd.set(e,u);const f=fO(e);window.addEventListener("resize",u,{passive:!0}),e!==document.documentElement&&hO.set(e,Tpe(e,u)),f.addEventListener("scroll",u,{passive:!0})}const o=Nd.get(e);return an.read(o,!1,!0),()=>{var a;Do(o);const l=Fw.get(e);if(!l||(l.delete(s),l.size))return;const c=Nd.get(e);Nd.delete(e),c&&(fO(e).removeEventListener("scroll",c),(a=hO.get(e))===null||a===void 0||a(),window.removeEventListener("resize",c))}}function dO(n,e){phe(!!(!e||e.current))}const Vpe=()=>({scrollX:_o(0),scrollY:_o(0),scrollXProgress:_o(0),scrollYProgress:_o(0)});function zpe({container:n,target:e,layoutEffect:t=!0,...r}={}){const i=iR(Vpe);return(t?K2:Y.useEffect)(()=>(dO("target",e),dO("container",n),Upe(({x:o,y:a})=>{i.scrollX.set(o.current),i.scrollXProgress.set(o.progress),i.scrollY.set(a.current),i.scrollYProgress.set(a.progress)},{...r,container:(n==null?void 0:n.current)||void 0,target:(e==null?void 0:e.current)||void 0})),[n,e,JSON.stringify(r.offset)]),i}function Hpe(n){n.values.forEach(e=>e.stop())}function Gpe(){const n=new Set,e={subscribe(t){return n.add(t),()=>void n.delete(t)},start(t,r){const i=[];return n.forEach(s=>{i.push(Nz(s,t,{transitionOverride:r}))}),Promise.all(i)},set(t){return n.forEach(r=>{Mfe(r,t)})},stop(){n.forEach(t=>{Hpe(t)})},mount(){return()=>{e.stop()}}};return e}function jpe(){const n=iR(Gpe);return K2(n.mount,[]),n}const Wpe=jpe;function Xpe(){const n=Y.useRef(),e=zpe({container:n}),t=Wpe(),[r,i]=Y.useState([0,-.25,.02]);function s(o){i(o)}return Y.useEffect(()=>{const o=()=>{const a=e.scrollYProgress.get(),l=Math.round(a);l<1&&t.start({y:0}),l===1&&t.start({y:"100%"})};return n.current.addEventListener("scroll",o),()=>{n.current.removeEventListener("scroll",o)}},[t]),R.jsx("div",{className:"mx-auto 2xl:max-w-screen-2xl",children:R.jsxs("div",{id:"wrapper",ref:n,className:"w-full h-[38rem] snap-both snap-mandatory overflow-auto styled-scroll-bar",children:[R.jsxs("div",{className:"bg-red-300 h-[38rem] flex flex-col md:flex-row items-center justify-between",children:[R.jsxs("div",{className:"w-full md:w-1/5 md:h-full h-1/6 flex flex-col md:justify-between bg-blue-600",children:[R.jsx("button",{onClick:()=>s([0,2,3]),className:"px-4 py-2 bg-red-400",children:"info"}),R.jsx("button",{onClick:()=>s([21,1,24]),className:"px-4 py-2 bg-red-400",children:"info"}),R.jsx("button",{onClick:()=>s([-2,-10,23]),className:"px-4 py-2 bg-red-400",children:"info"})]}),R.jsx(gpe.div,{className:"w-full md:w-2/3 h-4/5 md:h-full",initial:{y:"0%"},transition:{duration:.8},animate:t,children:R.jsx(cue,{rotate:r})})]}),R.jsx("div",{className:"bg-amber-700 h-[38rem]"})]})})}function Kpe(){const{loading:n,data:e}=D7(r=>r.products),t=G7();return Y.useEffect(()=>{t(Y0())},[]),R.jsxs(R.Fragment,{children:[R.jsx(Qq,{}),R.jsx(yQ,{isLoading:n,products:e,filterObject:{tags:["Trend"]}}),R.jsxs("aside",{className:"sm:hidden h-24 mx-auto w-11/12 shadow-md shadow-black/15 bg-gray-50 flex items-center justify-start gap-x-3 px-4 py-2 rounded-lg",children:[R.jsx("img",{src:Gq,alt:"banner icon"}),R.jsxs("div",{className:"",children:[R.jsxs("p",{className:"text-base font-bold",children:["Special Offers"," ",R.jsx("span",{className:"p-1 mx-2 border border-gray-300 rounded-full",children:"😱"})]}),R.jsxs("span",{className:"text-xs",children:["We make sure you get the ",R.jsx("br",{})," offer you need at best prices"]})]})]}),R.jsx(_Q,{isLoading:n,products:e}),R.jsx(xQ,{}),R.jsx(vee,{}),R.jsx(xee,{}),R.jsx(See,{}),R.jsx(Eee,{}),R.jsx(Xpe,{})]})}function Jpe(n){return hn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M133.3 33.41L77.89 47.25 34.6 148.3l33.29 22.2 27.46-54.9 17.05 4.9-15.07 150.1H245.2l9.2-87.9.9-8.1h4.5l-5.4-54.1 17.1-4.9 27.4 54.9 33.3-22.2-43.3-101.05-55.4-13.84c-5.5 3.87-12.2 6.21-19.5 7.95-9.4 2.21-20 3.24-30.6 3.24-10.6 0-21.2-1.03-30.6-3.24-7.3-1.74-14-4.07-19.5-7.95zM271.5 192.6l-1.5 14h178.8l-1.5-14zm-3.4 32l-26.7 254h62.7l46.5-216.9h17.6l46.5 216.9h62.7l-26.7-254z"},child:[]}]})(n)}function $pe(n){return hn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},child:[]}]})(n)}function Ype(n){return hn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M1 11v10h5v-6h4v6h5V11L8 6z"},child:[]},{tag:"path",attr:{d:"M10 3v1.97l7 5V11h2v2h-2v2h2v2h-2v4h6V3H10zm9 6h-2V7h2v2z"},child:[]}]})(n)}function qpe(n){return hn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"},child:[]}]})(n)}function Qpe(n){return hn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10.5 13H8v-3h2.5V7.5h3V10H16v3h-2.5v2.5h-3V13zM12 2 4 5v6.09c0 5.05 3.41 9.76 8 10.91 4.59-1.15 8-5.86 8-10.91V5l-8-3z"},child:[]}]})(n)}function Zpe(n){return hn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M15.825.12a.5.5 0 0 1 .132.584c-1.53 3.43-4.743 8.17-7.095 10.64a6.067 6.067 0 0 1-2.373 1.534c-.018.227-.06.538-.16.868-.201.659-.667 1.479-1.708 1.74a8.118 8.118 0 0 1-3.078.132 3.659 3.659 0 0 1-.562-.135 1.382 1.382 0 0 1-.466-.247.714.714 0 0 1-.204-.288.622.622 0 0 1 .004-.443c.095-.245.316-.38.461-.452.394-.197.625-.453.867-.826.095-.144.184-.297.287-.472l.117-.198c.151-.255.326-.54.546-.848.528-.739 1.201-.925 1.746-.896.126.007.243.025.348.048.062-.172.142-.38.238-.608.261-.619.658-1.419 1.187-2.069 2.176-2.67 6.18-6.206 9.117-8.104a.5.5 0 0 1 .596.04zM4.705 11.912a1.23 1.23 0 0 0-.419-.1c-.246-.013-.573.05-.879.479-.197.275-.355.532-.5.777l-.105.177c-.106.181-.213.362-.32.528a3.39 3.39 0 0 1-.76.861c.69.112 1.736.111 2.657-.12.559-.139.843-.569.993-1.06a3.122 3.122 0 0 0 .126-.75l-.793-.792zm1.44.026c.12-.04.277-.1.458-.183a5.068 5.068 0 0 0 1.535-1.1c1.9-1.996 4.412-5.57 6.052-8.631-2.59 1.927-5.566 4.66-7.302 6.792-.442.543-.795 1.243-1.042 1.826-.121.288-.214.54-.275.72v.001l.575.575zm-4.973 3.04.007-.005a.031.031 0 0 1-.007.004zm3.582-3.043.002.001h-.002z"},child:[]}]})(n)}function eme(n){return hn({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40ZM128,160a48.05,48.05,0,0,1-48-48,8,8,0,0,1,16,0,32,32,0,0,0,64,0,8,8,0,0,1,16,0A48.05,48.05,0,0,1,128,160ZM40,72V56H216V72Z"},child:[]}]})(n)}function tme(){const n=Cm(),[e,t]=Y.useState(!1);return R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:"hidden md:flex flex-col mx-auto 2xl:max-w-screen-2xl",children:[R.jsxs("div",{className:`${n.pathname==="/EcoVibe/"?"flex":"hidden"} w-full border-b border-gray-200 items-center justify-between px-8 py-2`,children:[R.jsx("div",{className:"flex items-center gap-x-2",children:zq.map(({title:r},i)=>R.jsx(Ho,{className:"text-gray-600 hover:text-primary-500 transition-all duration-300",children:r},i))}),R.jsxs("div",{className:"flex gap-x-4",children:[R.jsx("div",{className:"text-gray-600",children:"USD"}),R.jsx("div",{className:"text-gray-600",children:"Englsih"})]})]}),R.jsxs("div",{className:"w-full flex items-center justify-between px-8 py-4 border-b border-gray-200",children:[R.jsxs("div",{className:"flex items-center justify-center gap-x-0.5 cursor-pointer",children:[R.jsx("span",{className:"text-xl lg:text-4xl text-primary-600",children:R.jsx(eme,{})}),R.jsx("span",{className:"lg:text-xl whitespace-nowrap font-bold",children:"Eco Vibe"})]}),R.jsxs("div",{className:"flex items-center flex-1 px-4 lg:px-16 h-12",children:[R.jsxs("select",{name:"",id:"",className:"bg-gray-100 px-4 py-3 w-40 rounded-l-md border border-r-0 border-gray-300 h-full",children:[R.jsx("option",{value:"",className:"px-2 py-1",children:"All Categories"}),IL.map((r,i)=>R.jsx("option",{children:r.title},i))]}),R.jsx("input",{type:"text",className:"bg-gray-100 px-4 py-2.5 border border-gray-300 h-full focus:outline-none xl:w-2/3",placeholder:"Im Shopping For..."}),R.jsx("span",{className:"bg-primary-400 text-white text-2xl rounded-r-md h-full flex items-center px-4",children:R.jsx(DL,{})})]}),R.jsxs("div",{className:"flex items-center justify-center gap-x-2 xl:gap-x-4",children:[R.jsxs("div",{className:" hidden xl:flex flex-col items-start px-4 text-gray-600",children:[R.jsx("span",{children:"Need Help ?"}),R.jsx("span",{children:"+123456789"})]}),R.jsx("div",{className:"p-3 hover:bg-gray-300 transition-all rounded-full bg-gray-200 text-gray-800 text-2xl",children:R.jsx(PL,{})}),R.jsx("div",{className:"p-3 hover:bg-gray-300 transition-all rounded-full bg-gray-200 text-gray-800 text-2xl",children:R.jsx(Ub,{})}),R.jsx("div",{className:"p-3 hover:bg-gray-300 transition-all rounded-full bg-gray-200 text-gray-800 text-2xl",children:R.jsx(LL,{})})]})]}),R.jsxs("div",{className:`${n.pathname==="/EcoVibe/"?"flex":"hidden"} items-center justify-between px-8 py-4 relative`,children:[R.jsxs("div",{className:"px-4 py-3 group bg-secondary-500 text-white hover:bg-primary-700 transition-all rounded-md cursor-pointer flex items-center gap-x-2",children:[R.jsx("span",{className:"text-2xl",children:R.jsx(qpe,{})}),R.jsx("span",{children:"All Categories"}),R.jsx("span",{className:"text-2xl",children:R.jsx(Zq,{})}),R.jsx("div",{className:"absolute w-40 top-16 bg-slate-100 rounded-md hidden z-20 group-hover:block",children:R.jsx("div",{className:"flex flex-col gap-y-2 px-4 py-2",children:IL.map((r,i)=>R.jsxs("span",{className:"text-lg relative text-slate-950 group hover:text-primary-300 transition-all",children:[r.title,R.jsx("div",{className:"a"})]},i))})})]}),R.jsxs("div",{className:"flex items-center justify-center gap-x-3",children:[R.jsx(Ho,{children:"Mens"}),R.jsx(Ho,{children:"Womens"}),R.jsx(Ho,{children:"Kids"}),R.jsx(Ho,{children:"Electronics"}),R.jsx(Ho,{children:"Kitchen"}),R.jsx(Ho,{children:"News"}),R.jsx(Ho,{children:"Contact Us"})]})]})]}),R.jsxs("div",{className:"md:hidden",children:[R.jsxs("div",{className:"flex flex-col gap-y-3 w-full",children:[R.jsxs("div",{className:"flex items-center bg-white justify-between shadow-lg px-2 py-4",children:[R.jsxs("h2",{onClick:()=>t(!0),className:"flex items-center justify-center gap-x-1 cursor-pointer",children:[R.jsx("span",{children:R.jsx(eQ,{className:"text-2xl"})}),R.jsx("span",{className:"text-xl font-bold",children:"Home"})]}),R.jsxs("div",{className:"flex items-center justify-center gap-x-2",children:[R.jsx(LL,{className:"text-2xl"}),R.jsx(Vq,{className:"text-2xl"})]})]}),R.jsxs("div",{className:"flex items-center rounded-xl w-11/12 mx-auto bg-slate-50 border border-slate-300 justify-between px-3 py-2 gap-x-2",children:[R.jsx(DL,{className:"text-2xl"}),R.jsx("input",{type:"text",className:"focus:outline-none w-full bg-inherit",placeholder:"Search something"})]}),R.jsxs("div",{className:"",children:[R.jsxs("div",{className:"flex items-center justify-between px-3 py-1",children:[R.jsx("h2",{className:"font-bold",children:"Categories"}),R.jsx(Ho,{children:R.jsxs("span",{className:"text-sm flex text-gray-700 items-center justify-center gap-x-1",children:["Show More ",R.jsx(Xs,{className:"text-xs font-thin"})]})})]}),R.jsxs("div",{className:"flex items-center sm:justify-center gap-x-4 overflow-auto px-6 py-2",children:[R.jsxs("div",{className:"flex flex-col items-center justify-between gap-y-2",children:[R.jsx("span",{className:"bg-primary-100 p-3 rounded-full",children:R.jsx(Jpe,{className:"text-3xl text-primary-500"})}),R.jsx("p",{className:"text-sm line-clamp-1",children:"Fashion"})]}),R.jsxs("div",{className:"flex flex-col items-center justify-between gap-y-2",children:[R.jsx("span",{className:"bg-primary-100 p-3 rounded-full",children:R.jsx(Uq,{className:"text-3xl text-primary-500"})}),R.jsx("p",{className:"text-sm line-clamp-1",children:"Electronics"})]}),R.jsxs("div",{className:"flex flex-col items-center justify-between gap-y-2",children:[R.jsx("span",{className:"bg-primary-100 p-3 rounded-full",children:R.jsx(Ype,{className:"text-3xl text-primary-500"})}),R.jsx("p",{className:"text-sm line-clamp-1",children:"Home Decor"})]}),R.jsxs("div",{className:"flex flex-col items-center justify-between gap-y-2",children:[R.jsx("span",{className:"bg-primary-100 p-3 rounded-full",children:R.jsx(Qpe,{className:"text-3xl text-primary-500"})}),R.jsx("p",{className:"text-sm line-clamp-1",children:"Health"})]}),R.jsxs("div",{className:"flex flex-col items-center justify-between gap-y-2",children:[R.jsx("span",{className:"bg-primary-100 p-3 rounded-full",children:R.jsx(Zpe,{className:"text-3xl text-primary-500"})}),R.jsx("p",{className:"text-sm line-clamp-1",children:"Beauty"})]})]})]})]}),R.jsxs("div",{className:`${e?"opacity-100 visible":"opacity-0 invisible"} fixed inset-0 z-30 transition-all duration-500`,children:[R.jsxs("div",{className:`${e?"translate-x-0":"-translate-x-96"} w-3/4 h-full bg-gray-100 z-10 transition-all duration-500 flex flex-col items-center`,children:[R.jsxs("div",{className:"w-full h-20 bg-gray-200 flex items-center justify-between px-4",children:[R.jsxs("div",{className:"flex items-center justify-center gap-x-3",children:[R.jsx("div",{className:"w-10 h-10 bg-gray-400 rounded-full flex items-center justify-center",children:R.jsx(PL,{className:"text-2xl"})}),R.jsxs("div",{className:"flex flex-col justify-between items-start",children:[R.jsx("h2",{children:"Guest User"}),R.jsx("p",{className:"text-sm",children:"+12394595"})]})]}),R.jsx("div",{className:"",children:R.jsx("button",{onClick:()=>t(!1),className:"text-2xl",children:R.jsx($pe,{})})})]}),R.jsxs("div",{className:"max-h-full overflow-auto w-full gap-y-1 mt-1 flex flex-col items-start",children:[R.jsxs("div",{className:"flex items-center justify-start gap-x-2 px-4 py-4 w-full",children:[R.jsx("span",{className:"text-3xl",children:R.jsx(Wq,{})}),R.jsx("h3",{className:"text-base",children:"Shop By Category"})]}),R.jsxs("div",{className:"flex items-center justify-start gap-x-2 px-4 py-4 w-full",children:[R.jsx("span",{className:"text-3xl",children:R.jsx(p9,{})}),R.jsx("h3",{className:"text-base",children:"My Orders"})]}),R.jsxs("div",{className:"flex items-center justify-start gap-x-2 px-4 py-4 w-full",children:[R.jsx("span",{className:"text-3xl",children:R.jsx(Jq,{})}),R.jsx("h3",{className:"text-base",children:"Favorites"})]}),R.jsxs("div",{className:"flex items-center justify-start gap-x-2 px-4 py-4 w-full",children:[R.jsx("span",{className:"text-3xl",children:R.jsx(Kq,{})}),R.jsx("h3",{className:"text-base",children:"FAQs"})]}),R.jsxs("div",{className:"flex items-center justify-start gap-x-2 px-4 py-4 w-full",children:[R.jsx("span",{className:"text-3xl",children:R.jsx($q,{})}),R.jsx("h3",{className:"text-base",children:"Addresses"})]}),R.jsxs("div",{className:"flex items-center justify-start gap-x-2 px-4 py-4 w-full",children:[R.jsx("span",{className:"text-3xl",children:R.jsx(Xq,{})}),R.jsx("h3",{className:"text-base",children:"Terms & Conditions"})]}),R.jsxs("div",{className:"flex items-center justify-start gap-x-2 px-4 py-4 w-full",children:[R.jsx("span",{className:"text-3xl",children:R.jsx(jq,{})}),R.jsx("h3",{className:"text-base",children:"Terms & Conditions"})]}),R.jsxs("div",{className:"flex items-center justify-start gap-x-2 px-4 py-4 w-full",children:[R.jsx("span",{className:"text-3xl",children:R.jsx(Yq,{})}),R.jsx("h3",{className:"text-base",children:"Privacy Policy"})]}),R.jsxs("div",{className:"flex items-center justify-start gap-x-2 px-4 py-4 w-full",children:[R.jsx("span",{className:"text-3xl",children:R.jsx(qq,{})}),R.jsx("h3",{className:"text-base",children:"Sign In"})]})]})]}),R.jsx("div",{onClick:()=>t(!1),className:"w-full h-full bg-black bg-opacity-30 -z-10 absolute inset-0"})]})]})]})}function nme({children:n}){return R.jsxs("div",{children:[R.jsx(tme,{}),n]})}function rme(){return R.jsx("div",{className:"bg-orange-500 h-screen",children:"ProductsPage"})}function ime(){return R.jsx("div",{className:"bg-slate-400 h-screen",children:"ProductsFilterPage"})}const sme=CW({reducer:{products:Iq}});function ome(){return R.jsx(V7,{store:sme,children:R.jsx(nme,{children:R.jsxs(c7,{children:[R.jsx(X0,{path:"/EcoVibe/",element:R.jsx(Kpe,{})}),R.jsx(X0,{path:"/EcoVibe/Products",element:R.jsx(rme,{})}),R.jsx(X0,{path:"/EcoVibe/Filtered-Products",element:R.jsx(ime,{})})]})})})}Uw.createRoot(document.getElementById("root")).render(R.jsx(g7,{children:R.jsx(ome,{})}));
